!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=130)}([function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(26)("wks"),a=r(17),i=r(0).Symbol,s="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:a)("Symbol."+e))}).store=n},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(5),a=r(39),i=r(24),s=Object.defineProperty;t.f=r(4)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(8);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(3),a=r(16);e.exports=r(4)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(64),a=r(23);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(0),a=r(2),i=r(19),s=r(7),o=r(6),u=function(e,t,r){var c,l,p,f=e&u.F,h=e&u.G,d=e&u.S,y=e&u.P,g=e&u.B,v=e&u.W,m=h?a:a[t]||(a[t]={}),C=m.prototype,E=h?n:d?n[t]:(n[t]||{}).prototype;for(c in h&&(r=t),r)(l=!f&&E&&void 0!==E[c])&&o(m,c)||(p=l?E[c]:r[c],m[c]=h&&"function"!=typeof E[c]?r[c]:g&&l?i(p,n):v&&E[c]==p?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):y&&"function"==typeof p?i(Function.call,p):p,y&&((m.virtual||(m.virtual={}))[c]=p,e&u.R&&C&&!C[c]&&s(C,c,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HibiscusErrorHandler=t.HibiscusError=void 0;var n=s(r(35)),a=s(r(55)),i=s(r(56));function s(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t,r,n){(0,a.default)(this,e),2==arguments.length?(this.error=t,this.message=r):3==arguments.length&&(r>99||r.length>2?(this.error=Number(""+t+r),this.message=n):(this.error=Number(t+"0"+r),this.message=n))}return(0,i.default)(e,[{key:"toString",value:function(){return"[ "+this.error+" ] "+this.message}},{key:"getError",value:function(){return this.error}},{key:"getMessage",value:function(){return this.message}}]),e}(),u={isError:function(e){return"object"===(void 0===e?"undefined":(0,n.default)(e))&&void 0!==e.error&&"number"==typeof e.error&&void 0!==e.message&&"string"==typeof e.message},isHibiscusError:function(e){return e instanceof o}};t.HibiscusError=o,t.HibiscusErrorHandler=u},function(e,t){e.exports=!0},function(e,t){e.exports={}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(3).f,a=r(6),i=r(1)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(20);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(42),a=r(27);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(8);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(26)("keys"),a=r(17);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t,r){var n=r(2),a=r(0),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(12)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){t.f=r(1)},function(e,t,r){var n=r(0),a=r(2),i=r(12),s=r(28),o=r(3).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:s.f(e)})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(8),a=r(0).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},,,,function(e,t,r){"use strict";t.__esModule=!0;var n=s(r(59)),a=s(r(71)),i="function"==typeof a.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof a.default&&"symbol"===i(n.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":i(e)}},,,function(e,t,r){"use strict";var n=r(12),a=r(10),i=r(40),s=r(7),o=r(13),u=r(62),c=r(18),l=r(67),p=r(1)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,d,y,g,v){u(r,t,d);var m,C,E,S=function(e){if(!f&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},F=t+" Iterator",T="values"==y,I=!1,A=e.prototype,b=A[p]||A["@@iterator"]||y&&A[y],B=b||S(y),R=y?T?S("entries"):B:void 0,N="Array"==t&&A.entries||b;if(N&&(E=l(N.call(new e)))!==Object.prototype&&E.next&&(c(E,F,!0),n||"function"==typeof E[p]||s(E,p,h)),T&&b&&"values"!==b.name&&(I=!0,B=function(){return b.call(this)}),n&&!v||!f&&!I&&A[p]||s(A,p,B),o[t]=B,o[F]=h,y)if(m={values:T?B:S("values"),keys:g?B:S("keys"),entries:R},v)for(C in m)C in A||i(A,C,m[C]);else a(a.P+a.F*(f||I),t,m);return m}},function(e,t,r){e.exports=!r(4)&&!r(15)(function(){return 7!=Object.defineProperty(r(31)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){e.exports=r(7)},function(e,t,r){var n=r(5),a=r(63),i=r(27),s=r(25)("IE_PROTO"),o=function(){},u=function(){var e,t=r(31)("iframe"),n=i.length;for(t.style.display="none",r(47).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[i[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(o.prototype=n(e),r=new o,o.prototype=null,r[s]=e):r=u(),void 0===t?r:a(r,t)}},function(e,t,r){var n=r(6),a=r(9),i=r(65)(!1),s=r(25)("IE_PROTO");e.exports=function(e,t){var r,o=a(e),u=0,c=[];for(r in o)r!=s&&n(o,r)&&c.push(r);for(;t.length>u;)n(o,r=t[u++])&&(~i(c,r)||c.push(r));return c}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(42),a=r(27).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){"use strict";var n=r(61)(!0);r(38)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){var n=r(22),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t,r){var n=r(0).document;e.exports=n&&n.documentElement},function(e,t,r){r(68);for(var n=r(0),a=r(7),i=r(13),s=r(1)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<o.length;u++){var c=o[u],l=n[c],p=l&&l.prototype;p&&!p[s]&&a(p,s,c),i[c]=i.Array}},function(e,t){},,,,,,function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";t.__esModule=!0;var n,a=r(82),i=(n=a)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t,r){var n=r(23);e.exports=function(e){return Object(n(e))}},function(e,t,r){e.exports={default:r(109),__esModule:!0}},function(e,t,r){e.exports={default:r(60),__esModule:!0}},function(e,t,r){r(45),r(48),e.exports=r(28).f("iterator")},function(e,t,r){var n=r(22),a=r(23);e.exports=function(e){return function(t,r){var i,s,o=String(a(t)),u=n(r),c=o.length;return u<0||u>=c?e?"":void 0:(i=o.charCodeAt(u))<55296||i>56319||u+1===c||(s=o.charCodeAt(u+1))<56320||s>57343?e?o.charAt(u):i:e?o.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(41),a=r(16),i=r(18),s={};r(7)(s,r(1)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(s,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(3),a=r(5),i=r(21);e.exports=r(4)?Object.defineProperties:function(e,t){a(e);for(var r,s=i(t),o=s.length,u=0;o>u;)n.f(e,r=s[u++],t[r]);return e}},function(e,t,r){var n=r(14);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(9),a=r(46),i=r(66);e.exports=function(e){return function(t,r,s){var o,u=n(t),c=a(u.length),l=i(s,c);if(e&&r!=r){for(;c>l;)if((o=u[l++])!=o)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){var n=r(22),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},function(e,t,r){var n=r(6),a=r(57),i=r(25)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,r){"use strict";var n=r(69),a=r(70),i=r(13),s=r(9);e.exports=r(38)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports={default:r(72),__esModule:!0}},function(e,t,r){r(73),r(49),r(79),r(80),e.exports=r(2).Symbol},function(e,t,r){"use strict";var n=r(0),a=r(6),i=r(4),s=r(10),o=r(40),u=r(74).KEY,c=r(15),l=r(26),p=r(18),f=r(17),h=r(1),d=r(28),y=r(29),g=r(75),v=r(76),m=r(5),C=r(8),E=r(9),S=r(24),F=r(16),T=r(41),I=r(77),A=r(78),b=r(3),B=r(21),R=A.f,N=b.f,w=I.f,P=n.Symbol,L=n.JSON,D=L&&L.stringify,O=h("_hidden"),k=h("toPrimitive"),U={}.propertyIsEnumerable,K=l("symbol-registry"),x=l("symbols"),_=l("op-symbols"),V=Object.prototype,M="function"==typeof P,G=n.QObject,j=!G||!G.prototype||!G.prototype.findChild,q=i&&c(function(){return 7!=T(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=R(V,t);n&&delete V[t],N(e,t,r),n&&e!==V&&N(V,t,n)}:N,H=function(e){var t=x[e]=T(P.prototype);return t._k=e,t},Q=M&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},X=function(e,t,r){return e===V&&X(_,t,r),m(e),t=S(t,!0),m(r),a(x,t)?(r.enumerable?(a(e,O)&&e[O][t]&&(e[O][t]=!1),r=T(r,{enumerable:F(0,!1)})):(a(e,O)||N(e,O,F(1,{})),e[O][t]=!0),q(e,t,r)):N(e,t,r)},W=function(e,t){m(e);for(var r,n=g(t=E(t)),a=0,i=n.length;i>a;)X(e,r=n[a++],t[r]);return e},Y=function(e){var t=U.call(this,e=S(e,!0));return!(this===V&&a(x,e)&&!a(_,e))&&(!(t||!a(this,e)||!a(x,e)||a(this,O)&&this[O][e])||t)},z=function(e,t){if(e=E(e),t=S(t,!0),e!==V||!a(x,t)||a(_,t)){var r=R(e,t);return!r||!a(x,t)||a(e,O)&&e[O][t]||(r.enumerable=!0),r}},Z=function(e){for(var t,r=w(E(e)),n=[],i=0;r.length>i;)a(x,t=r[i++])||t==O||t==u||n.push(t);return n},J=function(e){for(var t,r=e===V,n=w(r?_:E(e)),i=[],s=0;n.length>s;)!a(x,t=n[s++])||r&&!a(V,t)||i.push(x[t]);return i};M||(o((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===V&&t.call(_,r),a(this,O)&&a(this[O],e)&&(this[O][e]=!1),q(this,e,F(1,r))};return i&&j&&q(V,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),A.f=z,b.f=X,r(44).f=I.f=Z,r(30).f=Y,r(43).f=J,i&&!r(12)&&o(V,"propertyIsEnumerable",Y,!0),d.f=function(e){return H(h(e))}),s(s.G+s.W+s.F*!M,{Symbol:P});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)h($[ee++]);for(var te=B(h.store),re=0;te.length>re;)y(te[re++]);s(s.S+s.F*!M,"Symbol",{for:function(e){return a(K,e+="")?K[e]:K[e]=P(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in K)if(K[t]===e)return t},useSetter:function(){j=!0},useSimple:function(){j=!1}}),s(s.S+s.F*!M,"Object",{create:function(e,t){return void 0===t?T(e):W(T(e),t)},defineProperty:X,defineProperties:W,getOwnPropertyDescriptor:z,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),L&&s(s.S+s.F*(!M||c(function(){var e=P();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(C(t)||void 0!==e)&&!Q(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Q(t))return t}),n[1]=t,D.apply(L,n)}}),P.prototype[k]||r(7)(P.prototype,k,P.prototype.valueOf),p(P,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(e,t,r){var n=r(17)("meta"),a=r(8),i=r(6),s=r(3).f,o=0,u=Object.isExtensible||function(){return!0},c=!r(15)(function(){return u(Object.preventExtensions({}))}),l=function(e){s(e,n,{value:{i:"O"+ ++o,w:{}}})},p=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[n].w},onFreeze:function(e){return c&&p.NEED&&u(e)&&!i(e,n)&&l(e),e}}},function(e,t,r){var n=r(21),a=r(43),i=r(30);e.exports=function(e){var t=n(e),r=a.f;if(r)for(var s,o=r(e),u=i.f,c=0;o.length>c;)u.call(e,s=o[c++])&&t.push(s);return t}},function(e,t,r){var n=r(14);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(9),a=r(44).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return s.slice()}}(e):a(n(e))}},function(e,t,r){var n=r(30),a=r(16),i=r(9),s=r(24),o=r(6),u=r(39),c=Object.getOwnPropertyDescriptor;t.f=r(4)?c:function(e,t){if(e=i(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(o(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t,r){r(29)("asyncIterator")},function(e,t,r){r(29)("observable")},,function(e,t,r){e.exports={default:r(83),__esModule:!0}},function(e,t,r){r(84);var n=r(2).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(10);n(n.S+n.F*!r(4),"Object",{defineProperty:r(3).f})},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={STORAGE_ERROR_SECURE_STORAGE_GET_WEBCRYPTO_KEY_INDEXED_DB_TRANSACTION_FAILED:10,STORAGE_ERROR_SECURE_STORAGE_GET_WEBCRYPTO_KEY_OBJECT_STORE_GET_FAILED:11,STORAGE_ERROR_SECURE_STORAGE_GET_WEBCRYPTO_KEY_FAILED:12,STORAGE_ERROR_SECURE_STORAGE_REMOVE_WEBCRYPTO_KEY_INDEXED_DB_TRANSACTION_FAILED:13,STORAGE_ERROR_SECURE_STORAGE_REMOVE_WEBCRYPTO_KEY_OBJECT_STORE_GET_FAILED:14,STORAGE_ERROR_SECURE_STORAGE_SET_WEBCRYPTO_KEY_INDEXED_DB_TRANSACTION_FAILED:15,STORAGE_ERROR_SECURE_STORAGE_SET_WEBCRYPTO_KEY_OBJECT_STORE_GET_FAILED:16,STORAGE_ERROR_SECURE_STORAGE_SET_WEBCRYPTO_KEY_FAILED:17,STORAGE_ERROR_SECURE_STORAGE_SET_CERTIFICATELIST_FAILED:18,STORAGE_ERROR_SECURE_INDEXED_DB_REMOVE_KEY_INDEXED_DB_TRANSACTION_FAILED:21,STORAGE_ERROR_SECURE_INDEXED_DB_REMOVE_KEY_OBJECT_STORE_GET_FAILED:22,STORAGE_ERROR_SECURE_INDEXED_DB_REMOVE_KEY_INDEXED_DB_OPEN_FAILED:23,STORAGE_ERROR_SECURE_INDEXED_DB_SET_KEY_INDEXED_DB_TRANSACTION_FAILED:31,STORAGE_ERROR_SECURE_INDEXED_DB_SET_KEY_OBJECT_STORE_GET_FAILED:32,STORAGE_ERROR_SECURE_INDEXED_DB_SET_KEY_INDEXED_DB_OPEN_FAILED:33,STORAGE_ERROR_SECURE_INDEXED_DB_GET_KEY_TRANSACTION_FAILED:41,STORAGE_ERROR_SECURE_INDEXED_DB_GET_KEY_OBJECT_STORE_GET_FAILED:42,SROTAGE_ERROR_SECURE_INDEXED_DB_GET_KEY_INDEXED_DB_OPEN_FAILED:43,SROTAGE_ERROR_SECURE_INDEXED_DB_GET_KEY_UNDEFINED_KEY:44,STORAGE_ERROR_SECURE_INDEXED_DB_SERVER_DB_GET_KEY_FAILED:51,STORAGE_ERROR_SECURE_INDEXED_DB_SERVER_DB_REMOVE_KEY_FAILED:52,STORAGE_ERROR_SECURE_INDEXED_DB_SERVER_KEY_GENERATE_KEY_FAILED:53,STORAGE_ERROR_SECURE_INDEXED_DB_DBKEY_ENCRYPT_INVALID_DATA:54,STORAGE_ERROR_SECURE_INDEXED_DB_CLEAR_KEY_INDEXED_DB_OPEN_FAILED:61,STORAGE_ERROR_SECURE_INDEXED_DB_CLEAR_KEY_INDEXED_DB_TRANSACTION_FAILED:62,STORAGE_ERROR_SECURE_INDEXED_DB_CLEAR_KEY_OBJECT_STORE_GET_FAILED:63,STORAGE_ERROR_SECURE_INDEXED_DB_GET_ALL_KEY_INDEXED_DB_OPEN_FAILED:64,STORAGE_ERROR_SECURE_INDEXED_DB_GET_ALL_KEY_INDEXED_DB_TRANSACTION_FAILED:65,STORAGE_ERROR_SECURE_INDEXED_DB_GET_ALL_KEY_OBJECT_STORE_GET_FAILED:66,SROTAGE_ERROR_SECURE_INDEXED_DB_GET_ALL_KEY_UNDEFINED_KEY:67,STORAGE_ERROR_LOCAL_STORAGE_SET_ITEM_FAILED:81,STORAGE_ERROR_LOCAL_STORAGE_GET_ITEM_FAILED:82,STORAGE_ERROR_LOCAL_STORAGE_REMOVE_ITEM_FAILED:83,STORAGE_ERROR_LOCAL_STORAGE_GET_ITEM_FAILED_NO_VALUE:84,STORAGE_ERROR_LOCAL_STORAGE_CLEAR_ITEM_FAILED:85}},function(e,t,r){var n=r(2),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n,a=r(35),i=(n=a)&&n.__esModule?n:{default:n};r(131),r(132),r(174),e.exports=function(e,t){t("res")},"object"===(0,i.default)(window.vest)&&"object"===(0,i.default)(window.vest.hibiscus)?window.vest.hibiscus.TestFunc=r(130):window.TestFunc=r(130)},function(e,t){
/*!
 * JSRose - Public Key Infrastructure & Cryptography ToolKit
 * Copyright All rights reserved by YettieSoft(c).
 * 
 * Version - 2.7.5
 * Date - 2020.1.22
 * 
 * Contributors
 *  - lovian@yettiesoft.com
 * 
 */
!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){window.ytcrypto=r(1)},function(e,t,r){function n(e){switch(e=e.toLowerCase()){case"seed":return a.seed;case"aes":return a.aes;case"des":return a.des;case"aria":return a.aria;default:throw"not supported blockCipher Algorithm:"+e}}var a={error:function(e,t){void 0===t&&(t=e,e=void 0),this.code=e,this.reason=[t],this.getCode=function(){return this.code},this.getReason=function(){return this.reason},this.pushReason=function(e){this.reason.push(e)}}};a.crypto=a.crypto||{},a.crypto.rsa={},a.crypto.blockCipher=function(e){this.cipher=e},a.crypto.blockCipher.prototype.start=function(e,t){return this.cipher.start(e,t)},a.crypto.blockCipher.prototype.update=function(e){return"string"==typeof e&&(e=a.util.createBuffer(e)),this.cipher.update(e)},a.crypto.blockCipher.prototype.output=null,a.crypto.blockCipher.prototype.finish=function(e){var t;return t=this.cipher.finish(e),this.output=this.cipher.output,t},a.crypto.blockCipher.createEncryptionCipher=function(e,t,r){var i;return i=n(e),new a.crypto.blockCipher(i.createEncryptionCipher(t,r))},a.crypto.blockCipher.createDecryptionCipher=function(e,t,r){var i;return i=n(e),new a.crypto.blockCipher(i.createDecryptionCipher(t,r))},a.crypto.random={},a.crypto.random.getBytes=function(e){return a.random.getBytesSync(e)},a.crypto.util={},"undefined"==typeof Uint8Array&&(Uint8Array=Array),a.crypto.util.stringToArray=function(e){var t;return e.split("").map(function(e){if((t=e.charCodeAt(0))>255)throw"input string is non ascii string";return t})},a.crypto.util.stringToArrayBuffer=function(e){var t;return new Uint8Array(e.split("").map(function(e){if((t=e.charCodeAt(0))>255)throw"input string is non ascii string";return t}))},a.crypto.util.hexToArrayBuffer=function(e){return new Uint8Array(e.match(/(..)/g).map(function(e){return parseInt(e,16)}))},a.crypto.util.arrayToString=function(e){return Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join("")},a.crypto.util.arrayBufferToString=function(e){return Array.prototype.map.call(new Uint8Array(e),function(e){return String.fromCharCode(e)}).join("")},a.crypto.util.arrayBufferToHex=function(e){return Array.prototype.map.call(new Uint8Array(e),function(e){return("0"+e.toString(16)).slice(-2)}).join("")},a.crypto.util.encode64url=function(e){var t=a.util.encode64(e);return(t=(t=t.split("=")[0]).replace(/\+/g,"-")).replace(/\//g,"_")},a.crypto.util.decode64url=function(e){switch((e=(e=e.replace(/\-/g,"+")).replace(/\_/g,"/")).length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new yt.error("illegal base64url string")}return a.util.decode64(e)},a.crypto.handlers={},a.crypto.setHandler=function(e,t){if(void 0!==t)switch(e){case"generateKey":a.crypto.handlers[e]=t;break;default:throw"not supported handler - "+e}else delete a.crypto.handlers[e]};var i={create:function(){return{start:function(e,t){t.length>8&&(t=t.substring(0,8)),this._cipher=e.startEncrypting(a.util.createBuffer(t),a.util.hexToBytes("0000000000000000"))},update:function(e){"string"==typeof e&&(e=a.util.createBuffer(e)),this._cipher.update(e)},getMac:function(){var e,t;return this._cipher.finish(function(e,r,n){var a;return a=e-r.length()%e,r.fillWithByte(0,a),t=e,!0}),this._cipher.output.read=this._cipher.output.length()-t,e=this._cipher.output.getBytes(t),a.util.createBuffer(e)}}}};a.cmac=i,e.exports=a,r(2),r(3),r(4),r(5),r(11),r(13),r(14),r(15),r(16),r(18),r(19),r(20),r(21),r(22),r(23),r(24),r(25),r(26),r(27),r(28),r(29),r(30),r(31),r(32),r(24),r(33),r(34),r(35),r(38)},function(e,t,r){function n(e,t){this.n=e||this.DEFAULT_LENGTH,this.taps=i[this.n],t||(t=this._defaultSeed(this.n));var r=parseInt(Array(this.n+1).join("1"),2);this.register=t&r}var a=r(1);a.base={};var i={2:[2,1],3:[3,2],4:[4,3],5:[5,3],6:[6,5],7:[7,6],8:[8,6,5,4],9:[9,5],10:[10,7],11:[11,9],12:[12,11,10,4],13:[13,12,11,8],14:[14,13,12,2],15:[15,14],16:[16,14,13,11],17:[17,14],18:[18,11],19:[19,18,17,14],20:[20,17],21:[21,19],22:[22,21],23:[23,18],24:[24,23,22,17],25:[25,22],26:[26,6,2,1],27:[27,5,2,1],28:[28,25],29:[29,27],30:[30,6,4,1],31:[31,28]};n.prototype={TAPS:i,DEFAULT_LENGTH:31,shift:function(){var e,t=this.taps.length,r=this.register>>this.n-this.taps[0];for(e=1;e<t;e++)r^=this.register>>this.n-this.taps[e];return r&=1,this.register=this.register>>1|r<<this.n-1,1&r},seq:function(e){for(var t=0,r=0;r<e;r++)t=t<<1|this.shift();return t},seqString:function(e){for(var t="",r=0;r<e;r++)t+=this.shift();return t},maxSeqLen:function(){var e=this.register,t=0;do{this.shift(),t++}while(e!=this.register);return t},_defaultSeed:function(e){if(!e)throw new Error("n is required");return new n(8,92914).seq(e)}};var s=new n(31,(new Date).getTime());a.base.srnd=function(){var e=s.seq(31);return e="0."+e,parseFloat(e)},e.exports=a.base},function(e,t,r){var n,a,i=r(1),s={browserName:null,supportWebCrypto:!1,exportWebCryptoPublicKeyMethod:"spki",importWebCryptoPrivateKeyMethod:"pkcs8",exportWebCryptoPrivateKeyMethod:"pkcs8",wrapWebCryptoArrayBuffer:!1,useSJCL:!1};i.getSettings=function(){var e={};for(var t in s)e[t]=s[t];return e.version="getVersion"in i?i.getVersion():"dev version",e},i.error=function(e,t){void 0===t&&(t=e,e=void 0),this.code=e,this.reason=[t],this.getCode=function(){return this.code},this.getReason=function(){return this.reason},this.pushReason=function(e){this.reason.push(e)}},"undefined"!=typeof window&&(n=window.msCrypto||window.crypto),n&&(a=n.subtle||n.webkitSubtle);var o="";do{for(var u="undefined"!=typeof navigator?navigator.userAgent:"",c="undefined"!=typeof navigator?navigator.appVersion:"",l=c.split(" "),p={},f=0;f<l.length;++f)-1==l[f].indexOf("Chrome/")?-1==l[f].indexOf("Safari/")?-1==l[f].indexOf("Edge/")?-1==l[f].indexOf("Version/")?-1==l[f].indexOf("AppleWebKit/")||(p.AppleWebKit=l[f].split("/")[1],s.webkitVersion=p.AppleWebKit):p.Version=l[f].split("/")[1]:p.Edge=l[f].split("/")[1]:p.Safari=l[f].split("/")[1]:p.Chrome=l[f].split("/")[1];if(-1!=c.indexOf("OPR/")){o="Opera",s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk";break}if(p.hasOwnProperty("Edge")){o="Edge",s.browserVersion=p.Edge,s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk";break}if(p.hasOwnProperty("Chrome")){o="Chrome",s.browserVersion=p.Chrome,s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk",parseInt(p.Chrome)<37&&(o="Chrome under 37",a=void 0);break}if(p.hasOwnProperty("Safari")){o="Safari",s.browserVersion=p.Version,s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk",s.wrapWebCryptoArrayBuffer=!0,s.useSJCL=!0,parseInt(s.browserVersion)>=11?s.wrapWebCryptoArrayBuffer=!1:parseInt(s.browserVersion)<=9&&(a=void 0);break}if(-1!=c.indexOf("Trident")){o="Internet Explorer",s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk",s.wrapWebCryptoArrayBuffer=!0;break}if(-1!=u.indexOf("Firefox")){o="FireFox",s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk";break}}while(0);"undefined"!=typeof location&&"https:"!=location.protocol&&(a=void 0,i.consoleLog),s.browserName=o,s.supportWebCrypto=!!a,void 0===a?(delete s.importWebCryptoPrivateKeyMethod,delete s.exportWebCryptoPrivateKeyMethod,delete s.exportWebCryptoPublicKeyMethod,delete s.wrapWebCryptoArrayBuffer):s.subtle=a,i.useWebCrypto=!0,e.exports=s},function(e,t,r){var n=r(1),a=n.util=n.util||{};a.setImmediate=function(e){setTimeout(e,0)},a.nextTick=a.setImmediate,a.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer};var i=[];"undefined"!=typeof Int8Array&&i.push(Int8Array),"undefined"!=typeof Uint8Array&&i.push(Uint8Array),"undefined"!=typeof Uint8ClampedArray&&i.push(Uint8ClampedArray),"undefined"!=typeof Int16Array&&i.push(Int16Array),"undefined"!=typeof Uint16Array&&i.push(Uint16Array),"undefined"!=typeof Int32Array&&i.push(Int32Array),"undefined"!=typeof Uint32Array&&i.push(Uint32Array),"undefined"!=typeof Float32Array&&i.push(Float32Array),"undefined"!=typeof Float64Array&&i.push(Float64Array),a.isArrayBufferView=function(e){for(var t=0;t<i.length;++t)if(e instanceof i[t])return!0;return!1},a.ByteBuffer=function(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(a.isArrayBuffer(e)||a.isArrayBufferView(e)){var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}},a.ByteBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteBuffer.prototype.putByte=function(e){return this.data+=String.fromCharCode(e),this},a.ByteBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this},a.ByteBuffer.prototype.putBytes=function(e){return this.data+=e,this},a.ByteBuffer.prototype.putString=function(e){return this.data+=a.encodeUtf8(e),this},a.ByteBuffer.prototype.putInt16=function(e){return this.data+=String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},a.ByteBuffer.prototype.putInt24=function(e){return this.data+=String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},a.ByteBuffer.prototype.putInt32=function(e){return this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},a.ByteBuffer.prototype.putInt16Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255),this},a.ByteBuffer.prototype.putInt24Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255),this},a.ByteBuffer.prototype.putInt32Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255),this},a.ByteBuffer.prototype.putInt=function(e,t){do{t-=8,this.data+=String.fromCharCode(e>>t&255)}while(t>0);return this},a.ByteBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},a.ByteBuffer.prototype.putBuffer=function(e){return this.data+=e.getBytes(),this},a.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},a.ByteBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},a.ByteBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},a.ByteBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},a.ByteBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},a.ByteBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},a.ByteBuffer.prototype.getInt=function(e){var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},a.ByteBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},a.ByteBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.ByteBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.ByteBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},a.ByteBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},a.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteBuffer.prototype.copy=function(){var e=a.createBuffer(this.data);return e.read=this.read,e},a.ByteBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},a.ByteBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},a.ByteBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=a.encodeUtf8(e)),new a.ByteBuffer(e)},a.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},a.xorBytes=function(e,t,r){for(var n="",a="",i="",s=0,o=0;r>0;--r,++s)a=e.charCodeAt(s)^t.charCodeAt(s),o>=10&&(n+=i,i="",o=0),i+=String.fromCharCode(a),++o;return n+i},a.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},a.bytesToHex=function(e){return a.createBuffer(e).toHex()},a.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];a.encode64=function(e,t){for(var r,n,a,i="",o="",u=0;u<e.length;)r=e.charCodeAt(u++),n=e.charCodeAt(u++),a=e.charCodeAt(u++),i+=s.charAt(r>>2),i+=s.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=s.charAt((15&n)<<2|a>>6),i+=isNaN(a)?"=":s.charAt(63&a)),t&&i.length>t&&(o+=i.substr(0,t)+"\r\n",i=i.substr(t));return o+i},a.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,a,i="",s=0;s<e.length;)t=o[e.charCodeAt(s++)-43],r=o[e.charCodeAt(s++)-43],n=o[e.charCodeAt(s++)-43],a=o[e.charCodeAt(s++)-43],i+=String.fromCharCode(t<<2|r>>4),64!==n&&(i+=String.fromCharCode((15&r)<<4|n>>2),64!==a&&(i+=String.fromCharCode((3&n)<<6|a)));return i},a.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},a.decodeUtf8=function(e){return decodeURIComponent(escape(e))},a.deflate=function(e,t,r){if(t=a.decode64(e.deflate(a.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},a.inflate=function(e,t,r){var n=e.inflate(a.encode64(t)).rval;return null===n?null:a.decode64(n)};var u=function(e,t,r){if(!e)throw{message:"WebStorage not available."};var n;if(null===r?n=e.removeItem(t):(r=a.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval)throw n.error},c=function(e,t){if(!e)throw{message:"WebStorage not available."};var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error)throw r.error;r=null}else r=r.rval;return null!==r&&(r=JSON.parse(a.decode64(r))),r},l=function(e,t,r,n){var a=c(e,t);null===a&&(a={}),a[r]=n,u(e,t,a)},p=function(e,t,r){var n=c(e,t);return null!==n&&(n=r in n?n[r]:null),n},f=function(e,t,r){var n=c(e,t);if(null!==n&&r in n){delete n[r];var a=!0;for(var i in n){a=!1;break}a&&(n=null),u(e,t,n)}},h=function(e,t){u(e,t,null)},d=function(e,t,r){var n=null;void 0===r&&(r=["web","flash"]);var a,i=!1,s=null;for(var o in r){a=r[o];try{if("flash"===a||"both"===a){if(null===t[0])throw{message:"Flash local storage not available."};n=e.apply(this,t),i="flash"===a}"web"!==a&&"both"!==a||(t[0]=localStorage,n=e.apply(this,t),i=!0)}catch(e){s=e}if(i)break}if(!i)throw s;return n};a.setItem=function(e,t,r,n,a){d(l,arguments,a)},a.getItem=function(e,t,r,n){return d(p,arguments,n)},a.removeItem=function(e,t,r,n){d(f,arguments,n)},a.clearItems=function(e,t,r){d(h,arguments,r)},a.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var y=null;a.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var a,i,s=r[n].indexOf("=");s>0?(a=r[n].substring(0,s),i=r[n].substring(s+1)):(a=r[n],i=null),a in t||(t[a]=[]),a in Object.prototype||null===i||t[a].push(unescape(i))}return t};return void 0===e?(null===y&&(y="undefined"==typeof window?{}:r(window.location.search.substring(1))),t=y):t=r(e),t},a.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:a.getQueryVariables(r)}},a.makeRequest=function(e){var t=a.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},a.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},a.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,a=t.length;n<a;){var i=t[n++];if(n==a)e[i]=r;else{var s=i in e;(!s||s&&"object"!=typeof e[i]||s&&null===e[i])&&(e[i]={}),e=e[i]}}},a.getPath=function(e,t,r){for(var n=0,a=t.length,i=!0;i&&n<a&&"object"==typeof e&&null!==e;){var s=t[n++];(i=s in e)&&(e=e[s])}return i?e:r},a.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var a=t[r++];if(r==n)delete e[a];else{if(!(a in e)||"object"!=typeof e[a]||null===e[a])break;e=e[a]}}},a.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},a.format=function(e){for(var t,r,n=/%./g,a=0,i=[],s=0;t=n.exec(e);){(r=e.substring(s,n.lastIndex-2)).length>0&&i.push(r),s=n.lastIndex;var o=t[0][1];switch(o){case"s":case"o":a<arguments.length?i.push(arguments[1+a++]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+o+"?>")}}return i.push(e.substring(s)),i.join("")},a.formatNumber=function(e,t,r,n){var a=e,i=isNaN(t=Math.abs(t))?2:t,s=void 0===r?",":r,o=void 0===n?".":n,u=a<0?"-":"",c=parseInt(a=Math.abs(+a||0).toFixed(i),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+o:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(i?s+Math.abs(a-c).toFixed(i).slice(2):"")},a.formatSize=function(e){return e>=1073741824?a.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?a.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?a.formatNumber(e/1024,0)+" KiB":a.formatNumber(e,0)+" bytes"},a.bytesFromIP=function(e){return-1!==e.indexOf(".")?a.bytesFromIPv4(e):-1!==e.indexOf(":")?a.bytesFromIPv6(e):null},a.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=a.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},a.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),n=a.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var s=a.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}else n.fillWithByte(0,r),r=0;return n.getBytes()},a.bytesToIP=function(e){return 4===e.length?a.bytesToIPv4(e):16===e.length?a.bytesToIPv6(e):null},a.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},a.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=a.bytesToHex(e[i]+e[i+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var o=r[r.length-1],u=t.length;o&&u===o.end+1?(o.end=u,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},a.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in a&&!e.update)return t(null,a.cores);if(void 0===typeof Worker)return a.cores=1,t(null,a.cores);if(void 0===typeof Blob)return a.cores=2,t(null,a.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,s){if(0===i){var o=Math.floor(n.reduce(function(e,t){return e+t},0)/n.length);return a.cores=Math.max(1,o),URL.revokeObjectURL(r),t(null,a.cores)}!function(e,t){for(var n=[],a=[],i=0;i<e;++i){var s=new Worker(r);s.addEventListener("message",function(r){if(a.push(r.data),a.length===e){for(var i=0;i<e;++i)n[i].terminate();t(null,a)}}),n.push(s)}for(var i=0;i<e;++i)n[i].postMessage(i)}(s,function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var a=t[n],i=r[n]=[],s=0;s<e;++s)if(n!==s){var o=t[s];(a.st>o.st&&a.st<o.et||o.st>a.st&&o.st<a.et)&&i.push(s)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}(s,r)),e(n,i-1,s)})}([],5,16)},e.exports=n.util},function(e,t,r){var n=r(1);n.md=n.md||{},r(6),r(7),r(8),r(9),r(10),n.getSettings().useSJCL&&(n.sha256=n.sha256_sjcl),n.md.algorithms={md5:n.md5,sha1:n.sha1,sha224:n.sha224,sha256:n.sha256},n.md.md5=n.md5,n.md.sha1=n.sha1,n.md.sha224=n.sha224,n.md.sha256=n.sha256,n.md.sha256_sjcl=n.sha256_sjcl,e.exports=n.md},function(e,t,r){var n=r(1),a=n.md5=n.md5||{};n.md=n.md||{},n.md.algorithms=n.md.algorithms||{},n.md.md5=n.md.algorithms.md5=a;var i=null,s=null,o=null,u=null,c=!1,l=function(e,t,r){for(var n,a,i,c,l,p,f,h=r.length();h>=64;){for(a=e.h0,i=e.h1,c=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),n=a+(l^i&(c^l))+u[f]+t[f],a=l,l=c,c=i,i+=n<<(p=o[f])|n>>>32-p;for(;f<32;++f)n=a+(c^l&(i^c))+u[f]+t[s[f]],a=l,l=c,c=i,i+=n<<(p=o[f])|n>>>32-p;for(;f<48;++f)n=a+(i^c^l)+u[f]+t[s[f]],a=l,l=c,c=i,i+=n<<(p=o[f])|n>>>32-p;for(;f<64;++f)n=a+(c^(i|~l))+u[f]+t[s[f]],a=l,l=c,c=i,i+=n<<(p=o[f])|n>>>32-p;e.h0=e.h0+a&4294967295,e.h1=e.h1+i&4294967295,e.h2=e.h2+c&4294967295,e.h3=e.h3+l&4294967295,h-=64}};a.create=function(){c||function(){i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],u=new Array(64);for(var e=0;e<64;++e)u[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));c=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,start:function(){return a.messageLength=0,t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},a}};return a.start(),a.update=function(i,s){return"utf8"===s&&(i=n.util.encodeUtf8(i)),a.messageLength+=i.length,t.putBytes(i),l(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var s=a.messageLength,o=n.util.createBuffer();o.putBytes(t.bytes()),o.putBytes(i.substr(0,64-(s+8)%64)),o.putInt32Le(s<<3&4294967295),o.putInt32Le(s>>>29&255);var u={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};l(u,r,o);var c=n.util.createBuffer();return c.putInt32Le(u.h0),c.putInt32Le(u.h1),c.putInt32Le(u.h2),c.putInt32Le(u.h3),c},a},e.exports=a},function(e,t,r){var n=r(1),a=n.sha1=n.sha1||{};n.md=n.md||{},n.md.algorithms=n.md.algorithms||{},n.md.sha1=n.md.algorithms.sha1=a;var i=null,s=!1,o=function(e,t,r){for(var n,a,i,s,o,u,c,l=r.length();l>=64;){for(a=e.h0,i=e.h1,s=e.h2,o=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(a<<5|a>>>27)+(o^i&(s^o))+u+1518500249+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<20;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(a<<5|a>>>27)+(o^i&(s^o))+u+1518500249+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<32;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(a<<5|a>>>27)+(i^s^o)+u+1859775393+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<40;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(a<<5|a>>>27)+(i^s^o)+u+1859775393+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<60;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(a<<5|a>>>27)+(i&s|o&(i^s))+u+2400959708+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<80;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(a<<5|a>>>27)+(i^s^o)+u+3395469782+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;e.h0+=a,e.h1+=i,e.h2+=s,e.h3+=o,e.h4+=u,l-=64}};a.create=function(){s||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),s=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,start:function(){return a.messageLength=0,t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a}};return a.start(),a.update=function(i,s){return"utf8"===s&&(i=n.util.encodeUtf8(i)),a.messageLength+=i.length,t.putBytes(i),o(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var s=a.messageLength,u=n.util.createBuffer();u.putBytes(t.bytes()),u.putBytes(i.substr(0,64-(s+8)%64)),u.putInt32(s>>>29&255),u.putInt32(s<<3&4294967295);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};o(c,r,u);var l=n.util.createBuffer();return l.putInt32(c.h0),l.putInt32(c.h1),l.putInt32(c.h2),l.putInt32(c.h3),l.putInt32(c.h4),l},a},e.exports=a},function(e,t,r){var n=r(1),a=n.sha224=n.sha224||{};n.md=n.md||{},n.md.algorithms=n.md.algorithms||{},n.md.sha224=n.md.algorithms.sha224=a;var i=null,s=!1,o=null,u=function(e,t,r){for(var n,a,i,s,u,c,l,p,f,h,d,y,g,v=r.length();v>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,a=((a=t[u-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,t[u]=n+t[u-7]+a+t[u-16]&4294967295;for(c=e.h0,l=e.h1,p=e.h2,f=e.h3,h=e.h4,d=e.h5,y=e.h6,g=e.h7,u=0;u<64;++u)i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&l|p&(c^l),n=g+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(y^h&(d^y))+o[u]+t[u],g=y,y=d,d=h,h=f+n&4294967295,f=p,p=l,l=c,c=n+(a=i+s)&4294967295;e.h0=e.h0+c&4294967295,e.h1=e.h1+l&4294967295,e.h2=e.h2+p&4294967295,e.h3=e.h3+f&4294967295,e.h4=e.h4+h&4294967295,e.h5=e.h5+d&4294967295,e.h6=e.h6+y&4294967295,e.h7=e.h7+g&4294967295,v-=64}};a.create=function(){s||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),a={algorithm:"sha224",blockLength:64,digestLength:28,messageLength:0,start:function(){return a.messageLength=0,t=n.util.createBuffer(),e={h0:3238371032,h1:914150663,h2:812702999,h3:4144912697,h4:4290775857,h5:1750603025,h6:1694076839,h7:3204075428},a}};return a.start(),a.update=function(i,s){return"utf8"===s&&(i=n.util.encodeUtf8(i)),a.messageLength+=i.length,t.putBytes(i),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var s=a.messageLength,o=n.util.createBuffer();o.putBytes(t.bytes()),o.putBytes(i.substr(0,64-(s+8)%64)),o.putInt32(s>>>29&255),o.putInt32(s<<3&4294967295);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(c,r,o);var l=n.util.createBuffer();return l.putInt32(c.h0),l.putInt32(c.h1),l.putInt32(c.h2),l.putInt32(c.h3),l.putInt32(c.h4),l.putInt32(c.h5),l.putInt32(c.h6),l},a},e.exports=a},function(e,t,r){var n=r(1),a=n.sha256=n.sha256||{};n.md=n.md||{},n.md.algorithms=n.md.algorithms||{},n.md.sha256=n.md.algorithms.sha256=a;var i=null,s=!1,o=null,u=function(e,t,r){for(var n,a,i,s,u,c,l,p,f,h,d,y,g,v=r.length();v>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,a=((a=t[u-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,t[u]=n+t[u-7]+a+t[u-16]&4294967295;for(c=e.h0,l=e.h1,p=e.h2,f=e.h3,h=e.h4,d=e.h5,y=e.h6,g=e.h7,u=0;u<64;++u)i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&l|p&(c^l),n=g+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(y^h&(d^y))+o[u]+t[u],g=y,y=d,d=h,h=f+n&4294967295,f=p,p=l,l=c,c=n+(a=i+s)&4294967295;e.h0=e.h0+c&4294967295,e.h1=e.h1+l&4294967295,e.h2=e.h2+p&4294967295,e.h3=e.h3+f&4294967295,e.h4=e.h4+h&4294967295,e.h5=e.h5+d&4294967295,e.h6=e.h6+y&4294967295,e.h7=e.h7+g&4294967295,v-=64}};a.create=function(){s||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,start:function(){return a.messageLength=0,t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a}};return a.start(),a.update=function(i,s){return"utf8"===s&&(i=n.util.encodeUtf8(i)),a.messageLength+=i.length,t.putBytes(i),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var s=a.messageLength,o=n.util.createBuffer();o.putBytes(t.bytes()),o.putBytes(i.substr(0,64-(s+8)%64)),o.putInt32(s>>>29&255),o.putInt32(s<<3&4294967295);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(c,r,o);var l=n.util.createBuffer();return l.putInt32(c.h0),l.putInt32(c.h1),l.putInt32(c.h2),l.putInt32(c.h3),l.putInt32(c.h4),l.putInt32(c.h5),l.putInt32(c.h6),l.putInt32(c.h7),l},a},e.exports=a},function(e,t,r){var n=r(1),a={};a.bitArray={bitSlice:function(e,t,r){return e=a.bitArray._shiftRight(e.slice(t/32),32-(31&t)).slice(1),void 0===r?e:a.bitArray.clamp(e,r-t)},extract:function(e,t,r){var n=Math.floor(-t-r&31);return(-32&(t+r-1^t)?e[t/32|0]<<32-n^e[t/32+1|0]>>>n:e[t/32|0]>>>n)&(1<<r)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var r=e[e.length-1],n=a.bitArray.getPartial(r);return 32===n?e.concat(t):a.bitArray._shiftRight(t,n,0|r,e.slice(0,e.length-1))},bitLength:function(e){var t,r=e.length;return 0===r?0:(t=e[r-1],32*(r-1)+a.bitArray.getPartial(t))},clamp:function(e,t){if(32*e.length<t)return e;var r=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=a.bitArray.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:function(e,t,r){return 32===e?t:(r?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(a.bitArray.bitLength(e)!==a.bitArray.bitLength(t))return!1;var r,n=0;for(r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},_shiftRight:function(e,t,r,n){var i,s,o;for(void 0===n&&(n=[]);t>=32;t-=32)n.push(r),r=0;if(0===t)return n.concat(e);for(i=0;i<e.length;i++)n.push(r|e[i]>>>t),r=e[i]<<32-t;return o=e.length?e[e.length-1]:0,s=a.bitArray.getPartial(o),n.push(a.bitArray.partial(t+s&31,t+s>32?r:n.pop(),1)),n},_xor4:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,r;for(t=0;t<e.length;++t)r=e[t],e[t]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return e}},a.codec={},a.codec.hex={fromBits:function(e){var t,r="";for(t=0;t<e.length;t++)r+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return r.substr(0,a.bitArray.bitLength(e)/4)},toBits:function(e){var t,r,n=[];for(r=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)n.push(0^parseInt(e.substr(t,8),16));return a.bitArray.clamp(n,4*r)}},a.codec.utf8String={fromBits:function(e){var t,r,n="",i=a.bitArray.bitLength(e);for(t=0;t<i/8;t++)0==(3&t)&&(r=e[t/4]),n+=String.fromCharCode(r>>>8>>>8>>>8),r<<=8;return decodeURIComponent(escape(n))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,r=[],n=0;for(t=0;t<e.length;t++)n=n<<8|e.charCodeAt(t),3==(3&t)&&(r.push(n),n=0);return 3&t&&r.push(a.bitArray.partial(8*(3&t),n)),r}},a.hash={},a.hash.sha256=function(e){this._key[0]||this._precompute(),e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()},a.hash.sha256.hash=function(e){return(new a.hash.sha256).update(e).finalize()},a.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(e){"string"==typeof e&&(e=a.codec.utf8String.toBits(e));var t,r=this._buffer=a.bitArray.concat(this._buffer,e),n=this._length,i=this._length=n+a.bitArray.bitLength(e);if(i>9007199254740991)throw new a.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var s=new Uint32Array(r),o=0;for(t=512+n-(512+n&511);t<=i;t+=512)this._block(s.subarray(16*o,16*(o+1))),o+=1;r.splice(0,16*o)}else for(t=512+n-(512+n&511);t<=i;t+=512)this._block(r.splice(0,16));return this},finalize:function(){var e,t=this._buffer,r=this._h;for(e=(t=a.bitArray.concat(t,[a.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this._length/4294967296)),t.push(0|this._length);t.length;)this._block(t.splice(0,16));return this.reset(),r},_init:[],_key:[],_precompute:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,r,n=0,a=2;n<64;a++){for(r=!0,t=2;t*t<=a;t++)if(a%t==0){r=!1;break}r&&(n<8&&(this._init[n]=e(Math.pow(a,.5))),this._key[n]=e(Math.pow(a,1/3)),n++)}},_block:function(e){var t,r,n,a,i=this._h,s=this._key,o=i[0],u=i[1],c=i[2],l=i[3],p=i[4],f=i[5],h=i[6],d=i[7];for(t=0;t<64;t++)t<16?r=e[t]:(n=e[t+1&15],a=e[t+14&15],r=e[15&t]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(a>>>17^a>>>19^a>>>10^a<<15^a<<13)+e[15&t]+e[t+9&15]|0),r=r+d+(p>>>6^p>>>11^p>>>25^p<<26^p<<21^p<<7)+(h^p&(f^h))+s[t],d=h,h=f,f=p,p=l+r|0,l=c,c=u,o=r+((u=o)&c^l&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;i[0]=i[0]+o|0,i[1]=i[1]+u|0,i[2]=i[2]+c|0,i[3]=i[3]+l|0,i[4]=i[4]+p|0,i[5]=i[5]+f|0,i[6]=i[6]+h|0,i[7]=i[7]+d|0}};var i={create:function(){var e=new a.hash.sha256;return e.reset(),{algorithm:"sha256",blockLength:64,digestLength:32,start:function(){e.reset()},update:function(t){return t=n.util.bytesToHex(t),t=a.codec.hex.toBits(t),e.update(t),this},digest:function(){var t;return t=e.finalize(),t=a.codec.hex.fromBits(t),t=n.util.hexToBytes(t),n.util.createBuffer(t)}}}};n.sha256_sjcl=i,n.md.sha256_sjcl=i,e.exports=n.sha256_sjcl},function(e,t,r){(function(t){var n=r(1);void 0!==t&&t.versions&&t.versions.node;n.disableNativeCode,(n.prng=n.prng||{}).create=function(e){function t(e){if(s.pools[0].messageLength>=32)return a(),e();var t=32-s.pools[0].messageLength<<5;s.seedFile(t,function(t,r){return t?e(t):(s.collect(r),a(),void e())})}function r(){if(s.pools[0].messageLength>=32)return a();var e=32-s.pools[0].messageLength<<5;s.collect(s.seedFileSync(e)),a()}function a(){var e=n.md.sha1.create();e.update(s.pools[0].digest().getBytes()),s.pools[0].start();for(var t=1,r=1;r<32;++r)(t=31===t?2147483648:t<<2)%s.reseeds==0&&(e.update(s.pools[r].digest().getBytes()),s.pools[r].start());var a=e.digest().getBytes();e.start(),e.update(a);var i=e.digest().getBytes();s.key=s.plugin.formatKey(a),s.seed=s.plugin.formatSeed(i),++s.reseeds,s.generated=0,s.time=+new Date}function i(e){var t=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)})}var a=n.util.createBuffer();if(t)for(;a.length()<e;){var i=Math.max(1,Math.min(e-a.length(),65536)/4),s=new Uint32Array(Math.floor(i));try{t(s);for(var o=0;o<s.length;++o)a.putInt32(s[o])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(a.length()<e)for(var u,c,l,p=Math.floor(65536*ytcrypto.base.srnd());a.length()<e;){c=16807*(65535&p),c+=(32767&(u=16807*(p>>16)))<<16,p=4294967295&(c=(2147483647&(c+=u>>15))+(c>>31));for(o=0;o<3;++o)l=p>>>(o<<3),l^=Math.floor(256*ytcrypto.base.srnd()),a.putByte(String.fromCharCode(255&l))}return a.getBytes(e)}for(var s={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0},o=e.md,u=new Array(32),c=0;c<32;++c)u[c]=o.create();return s.pools=u,s.pool=0,s.generate=function(e,r){if(!r)return s.generateSync(e);var a=s.plugin.cipher,i=s.plugin.increment,o=s.plugin.formatKey,u=s.plugin.formatSeed,c=n.util.createBuffer();!function l(p){if(p)return r(p);if(c.length()>=e)return r(null,c.getBytes(e));if(s.generated>=1048576){var f=+new Date;(null===s.time||f-s.time>100)&&(s.key=null)}if(null===s.key)return t(l);var h=a(s.key,s.seed);s.generated+=h.length,c.putBytes(h),s.key=o(a(s.key,i(s.seed))),s.seed=u(a(s.key,s.seed)),n.util.setImmediate(l)}()},s.generateSync=function(e){for(var t=s.plugin.cipher,a=s.plugin.increment,i=s.plugin.formatKey,o=s.plugin.formatSeed,u=n.util.createBuffer();u.length()<e;){if(s.generated>=1048576){var c=+new Date;(null===s.time||c-s.time>100)&&(s.key=null)}null===s.key&&r();var l=t(s.key,s.seed);s.generated+=l.length,u.putBytes(l),s.key=i(t(s.key,a(s.seed))),s.seed=o(t(s.key,s.seed))}return u.getBytes(e)},s.seedFile=function(e,t){try{t(null,i(e))}catch(e){t(e)}},s.seedFileSync=i,s.collect=function(e){for(var t=e.length,r=0;r<t;++r)s.pools[s.pool].update(e.substr(r,1)),s.pool=31===s.pool?0:s.pool+1},s.collectInt=function(e,t){for(var r="",n=0;n<t;n+=8)r+=String.fromCharCode(e>>n&255);s.collect(r)},s.registerWorker=function(e){e===self?s.seedFile=function(e,t){self.addEventListener("message",function e(r){var n=r.data;n.yt&&n.yt.prng&&(self.removeEventListener("message",e),t(n.yt.prng.err,n.yt.prng.bytes))}),self.postMessage({yt:{prng:{needed:e}}})}:e.addEventListener("message",function(t){var r=t.data;r.yt&&r.yt.prng&&s.seedFile(r.yt.prng.needed,function(t,r){e.postMessage({yt:{prng:{err:t,bytes:r}}})})})},s},e.exports=n.prng}).call(t,r(12))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(){d&&f&&(d=!1,f.length?h=f.concat(h):y=-1,h.length&&s())}function s(){if(!d){var e=a(i);d=!0;for(var t=h.length;t;){for(f=h,h=[];++y<t;)f&&f[y].run();y=-1,t=h.length}f=null,d=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function o(e,t){this.fun=e,this.array=t}function u(){}var c,l,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var f,h=[],d=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new o(e,t)),1!==h.length||d||a(s)},o.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,r){(function(t){var n=r(1),a={},i=new Array(4),s=n.util.createBuffer();a.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},a.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},a.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},a.increment=function(e){return++e[3],e},a.md=n.md.sha1;var o=n.prng.create(a);void 0!==t&&t.versions&&t.versions.node;if("undefined"!=typeof window){var u=window.crypto||window.msCrypto;u&&u.getRandomValues&&function(e){return u.getRandomValues(e)}}if(n.random)for(var c in o)n.random[c]=o[c];else n.random=o;n.random.getBytes=function(e,t){return n.random.generate(e,t)},n.random.getBytesSync=function(e){return n.random.generate(e)},e.exports=n.random}).call(t,r(12))},function(e,t,r){var n=r(1),a=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],s=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,i=e,s=e.length(),o=t,u=Math.ceil(o/8),c=255>>(7&o);for(r=s;r<128;r++)i.putByte(a[i.at(r-1)+i.at(r-s)&255]);for(i.setAt(128-u,a[i.at(128-u)&c]),r=127-u;r>=0;r--)i.setAt(r,a[i.at(r+1)^i.at(r+u)]);return i};var u=function(e,t,r){var a,u,c,l,p=!1,f=null,h=null,d=null,y=[];for(e=n.rc2.expandKey(e,t),c=0;c<64;c++)y.push(e.getInt16Le());r?(a=function(e){for(c=0;c<4;c++)e[c]+=y[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),e[c]=s(e[c],i[c]),l++},u=function(e){for(c=0;c<4;c++)e[c]+=y[63&e[(c+3)%4]]}):(a=function(e){for(c=3;c>=0;c--)e[c]=o(e[c],i[c]),e[c]-=y[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),l--},u=function(e){for(c=3;c>=0;c--)e[c]-=y[63&e[(c+3)%4]]});var g=function(e){var t=[];for(c=0;c<4;c++){var n=f.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),t.push(65535&n)}l=r?0:63;for(var a=0;a<e.length;a++)for(var i=0;i<e[a][0];i++)e[a][1](t);for(c=0;c<4;c++)null!==d&&(r?d.putInt16Le(t[c]):t[c]^=d.getInt16Le()),h.putInt16Le(t[c])},v=null;return v={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),p=!1,f=n.util.createBuffer(),h=t||new n.util.createBuffer,d=e,v.output=h},update:function(e){for(p||f.putBuffer(e);f.length()>=8;)g([[5,a],[1,u],[6,a],[1,u],[5,a]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,f,!r);else{var n=8===f.length()?8:8-f.length();f.fillWithByte(n,n)}if(t&&(p=!0,v.update()),!r&&(t=0===f.length()))if(e)t=e(8,h,!r);else{var a=h.length(),i=h.at(a-1);i>a?t=!1:h.truncate(i)}return t}}};n.rc2.startEncrypting=function(e,t,r){var a=n.rc2.createEncryptionCipher(e,128);return a.start(t,r),a},n.rc2.createEncryptionCipher=function(e,t){return u(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var a=n.rc2.createDecryptionCipher(e,128);return a.start(t,r),a},n.rc2.createDecryptionCipher=function(e,t){return u(e,t,!1)},e.exports=n.rc2},function(e,t,r){var n,a,i,s,o,u=r(1),c=!1,l=4,p=function(){c=!0,i=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;n=new Array(256),a=new Array(256),s=new Array(4),o=new Array(4);for(t=0;t<4;++t)s[t]=new Array(256),o[t]=new Array(256);var r,u,l,p,f,h,d,y=0,g=0;for(t=0;t<256;++t){p=(p=g^g<<1^g<<2^g<<3^g<<4)>>8^255&p^99,n[y]=p,a[p]=y,h=(f=e[p])<<24^p<<16^p<<8^p^f,d=((r=e[y])^(u=e[r])^(l=e[u]))<<24^(y^l)<<16^(y^u^l)<<8^y^r^l;for(var v=0;v<4;++v)s[v][y]=h,o[v][p]=d,h=h<<24|h>>>8,d=d<<24|d>>>8;0===y?y=g=1:(y=r^e[e[e[r^l]]],g^=e[e[g]])}},f=function(e,t){for(var r,a=e.slice(0),s=1,u=a.length,c=l*(u+6+1),p=u;p<c;++p)r=a[p-1],p%u==0?(r=n[r>>>16&255]<<24^n[r>>>8&255]<<16^n[255&r]<<8^n[r>>>24]^i[s]<<24,s++):u>6&&p%u==4&&(r=n[r>>>24]<<24^n[r>>>16&255]<<16^n[r>>>8&255]<<8^n[255&r]),a[p]=a[p-u]^r;if(t){for(var f,h=o[0],d=o[1],y=o[2],g=o[3],v=a.slice(0),m=(p=0,(c=a.length)-l);p<c;p+=l,m-=l)if(0===p||p===c-l)v[p]=a[m],v[p+1]=a[m+3],v[p+2]=a[m+2],v[p+3]=a[m+1];else for(var C=0;C<l;++C)f=a[m+C],v[p+(3&-C)]=h[n[f>>>24]]^d[n[f>>>16&255]]^y[n[f>>>8&255]]^g[n[255&f]];a=v}return a},h=function(e,t,r,i){var u,c,l,p,f,h,d,y,g,v,m,C,E=e.length/4-1;i?(u=o[0],c=o[1],l=o[2],p=o[3],f=a):(u=s[0],c=s[1],l=s[2],p=s[3],f=n),h=t[0]^e[0],d=t[i?3:1]^e[1],y=t[2]^e[2],g=t[i?1:3]^e[3];for(var S=3,F=1;F<E;++F)v=u[h>>>24]^c[d>>>16&255]^l[y>>>8&255]^p[255&g]^e[++S],m=u[d>>>24]^c[y>>>16&255]^l[g>>>8&255]^p[255&h]^e[++S],C=u[y>>>24]^c[g>>>16&255]^l[h>>>8&255]^p[255&d]^e[++S],g=u[g>>>24]^c[h>>>16&255]^l[d>>>8&255]^p[255&y]^e[++S],h=v,d=m,y=C;r[0]=f[h>>>24]<<24^f[d>>>16&255]<<16^f[y>>>8&255]<<8^f[255&g]^e[++S],r[i?3:1]=f[d>>>24]<<24^f[y>>>16&255]<<16^f[g>>>8&255]<<8^f[255&h]^e[++S],r[2]=f[y>>>24]<<24^f[g>>>16&255]<<16^f[h>>>8&255]<<8^f[255&d]^e[++S],r[i?1:3]=f[g>>>24]<<24^f[h>>>16&255]<<16^f[d>>>8&255]<<8^f[255&y]^e[++S]},d=function(e,t,r,n,a){var i=null;if(c||p(),a=(a||"CBC").toUpperCase(),"string"!=typeof e||16!==e.length&&24!==e.length&&32!==e.length){if(u.util.isArray(e)&&(16===e.length||24===e.length||32===e.length))for(var s=e,o=(e=u.util.createBuffer(),0);o<s.length;++o)e.putByte(s[o])}else e=u.util.createBuffer(e);if(!u.util.isArray(e)){s=e;e=[];var d=s.length();if(16===d||24===d||32===d){d>>>=2;for(o=0;o<d;++o)e.push(s.getInt32())}}if(!u.util.isArray(e)||4!==e.length&&6!==e.length&&8!==e.length)return i;var y,g,v,m,C,E,S,F=-1!==["CFB","OFB","CTR"].indexOf(a),T="CBC"===a,I=f(e,n&&!F),A=l<<2;if(i={output:null},"CBC"===a)S=function(){if(n)for(var e=0;e<l;++e)v[e]=y.getInt32();else for(e=0;e<l;++e)v[e]=C[e]^y.getInt32();if(h(I,v,m,n),n){for(e=0;e<l;++e)g.putInt32(C[e]^m[e]);C=v.slice(0)}else{for(e=0;e<l;++e)g.putInt32(m[e]);C=m}};else if("CFB"===a)S=function(){h(I,v,m,!1);for(var e=0;e<l;++e)v[e]=y.getInt32();for(e=0;e<l;++e){var t=v[e]^m[e];n||(v[e]=t),g.putInt32(t)}};else if("OFB"===a)S=function(){h(I,v,m,!1);for(var e=0;e<l;++e)v[e]=y.getInt32();for(e=0;e<l;++e)g.putInt32(v[e]^m[e]),v[e]=m[e]};else if("CTR"===a)S=function(){h(I,v,m,!1);for(var e=l-1;e>=0;--e){if(4294967295!==v[e]){++v[e];break}v[e]=0}for(e=0;e<l;++e)g.putInt32(y.getInt32()^m[e])};else{if("ECB"!==a)throw{message:'Unsupported block cipher mode of operation: "'+a+'"'};S=function(){for(var e=0;e<l;++e)v[e]=y.getInt32();for(h(I,v,m,n),e=0;e<l;++e)g.putInt32(m[e])}}return i.update=function(e){for(E||y.putBuffer(e);y.length()>=A||y.length()>0&&E;)S()},i.finish=function(e){var t=!0,r=y.length()%A;if(!n)if(e)t=e(A,y,n);else if(T){var a=y.length()===A?A:A-y.length();y.fillWithByte(a,a)}if(t&&(E=!0,i.update()),n&&(T&&(t=0===r),t))if(e)t=e(A,g,n);else if(T){var s=g.length(),o=g.at(s-1);o>l<<2?t=!1:g.truncate(o)}return!T&&!e&&r>0&&g.truncate(A-r),t},i.start=function(e,t){if(null===e&&(e=C.slice(0)),void 0===e&&(e="0000000000000000"),"string"==typeof e&&16===e.length)e=u.util.createBuffer(e);else if(u.util.isArray(e)&&16===e.length)for(var r=e,n=(e=u.util.createBuffer(),0);n<16;++n)e.putByte(r[n]);if(!u.util.isArray(e)){r=e;(e=new Array(4))[0]=r.getInt32(),e[1]=r.getInt32(),e[2]=r.getInt32(),e[3]=r.getInt32()}if(y=u.util.createBuffer(),g=t||u.util.createBuffer(),C=e.slice(0),v=new Array(l),m=new Array(l),E=!1,i.output=g,-1!==["CFB","OFB","CTR"].indexOf(a)){for(n=0;n<l;++n)v[n]=C[n];C=null}},null!==t&&i.start(t,r),i};u.aes=u.aes||{},u.aes.startEncrypting=function(e,t,r,n){return d(e,t,r,!1,n)},u.aes.createEncryptionCipher=function(e,t){return d(e,null,null,!1,t)},u.aes.startDecrypting=function(e,t,r,n){return d(e,t,r,!0,n)},u.aes.createDecryptionCipher=function(e,t){return d(e,null,null,!0,t)},u.aes._expandKey=function(e,t){return c||p(),f(e,t)},u.aes._updateBlock=h,e.exports=u.aes},function(e,t,r){var n=r(1),a=r(17),i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],s=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],h=function(e,t,r){function h(e,t,r){var n,a,h=e[0],y=e[1];a=3===E?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],h^=(n=252645135&(h>>>4^y))<<4,h^=(n=65535&(h>>>16^(y^=n)))<<16,h^=n=858993459&((y^=n)>>>2^h),h^=n=16711935&((y^=n<<2)>>>8^h),h=(h^=(n=1431655765&(h>>>1^(y^=n<<8)))<<1)<<1|h>>>31,y=(y^=n)<<1|y>>>31;for(var g=0;g<E;g+=3){for(var v=a[g+1],m=a[g+2],C=a[g];C!=v;C+=m){var S=y^d[C],F=(y>>>4|y<<28)^d[C+1];n=h,h=y,y=n^(s[S>>>24&63]|u[S>>>16&63]|l[S>>>8&63]|f[63&S]|i[F>>>24&63]|o[F>>>16&63]|c[F>>>8&63]|p[63&F])}n=h,h=y,y=n}y=y>>>1|y<<31,y^=n=1431655765&((h=h>>>1|h<<31)>>>1^y),y^=(n=16711935&(y>>>8^(h^=n<<1)))<<8,y^=(n=858993459&(y>>>2^(h^=n)))<<2,y^=n=65535&((h^=n)>>>16^y),y^=n=252645135&((h^=n<<16)>>>4^y),h^=n<<4,t[0]=h,t[1]=y}"string"!=typeof e||8!==e.length&&24!==e.length||(e=n.util.createBuffer(e));var d=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],a=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],C=0,E=0;E<g;E++){var S=e.getInt32(),F=e.getInt32();S^=(t=252645135&(S>>>4^F))<<4,S^=t=65535&((F^=t)>>>-16^S),S^=(t=858993459&(S>>>2^(F^=t<<-16)))<<2,S^=t=65535&((F^=t)>>>-16^S),S^=(t=1431655765&(S>>>1^(F^=t<<-16)))<<1,S^=t=16711935&((F^=t)>>>8^S),t=(S^=(t=1431655765&(S>>>1^(F^=t<<8)))<<1)<<8|(F^=t)>>>20&240,S=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240,F=t;for(var T=0;T<m.length;T++){m[T]?(S=S<<2|S>>>26,F=F<<2|F>>>26):(S=S<<1|S>>>27,F=F<<1|F>>>27);var I=r[(S&=-15)>>>28]|n[S>>>24&15]|a[S>>>20&15]|i[S>>>16&15]|s[S>>>12&15]|o[S>>>8&15]|u[S>>>4&15],A=c[(F&=-15)>>>28]|l[F>>>24&15]|p[F>>>20&15]|f[F>>>16&15]|h[F>>>12&15]|d[F>>>8&15]|y[F>>>4&15];t=65535&(A>>>16^I),v[C++]=I^t,v[C++]=A^t<<16}}return v}(e),y=(r=r?r.toLowerCase():"cbc",null),g=[],v=!1,m=null,C=null,E=32===d.length?3:9,S=null;return S={start:function(e,t){if(e?("string"==typeof e&&8===e.length&&(e=n.util.createBuffer(e)),g[0]=e.getInt32(),g[1]=e.getInt32(),y=a.getModeFunction(r,2,g)):y=a.getModeFunction("ecb",2,null),null==y)throw"unsupported mode:"+r;v=!1,m=n.util.createBuffer(),C=t||n.util.createBuffer(),S.output=C},update:function(e){v||m.putBuffer(e),y(h,m,C,!t)},finish:function(e){var n=!0;if(t&&"ofb8"!==r)if(e)n=e(8,m,!t);else{var a=8===m.length()?8:8-m.length();m.fillWithByte(a,a)}if("ofb8"===r&&(n=!1),n&&(v=!0,y(h,m,C,!t)),!t&&(n=0===m.length()))if(e)n=e(8,C,!t);else{var i=C.length(),s=C.at(i-1);s>i?n=!1:C.truncate(s)}return n}}};n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var a=h(e,!0,n);return a.start(t,r),a},n.des.createEncryptionCipher=function(e,t){return h(e,!0,t)},n.des.startDecrypting=function(e,t,r,n){var a=h(e,!1,n);return a.start(t,r),a},n.des.createDecryptionCipher=function(e,t){return h(e,!1,t)},e.exports=n.des},function(e,t,r){var n=r(1),a=function(){};a.prototype.cbc=function(e,t){for(var r=[],n=0;n<e;++n)r[n]=t[n];return function(t,n,a,i){for(var s=[],o=[];n.length()>=4*e;){for(var u=0;u<e;++u)s[u]=n.getInt32();if(!i)for(u=0;u<e;++u)s[u]=r[u]^s[u];if(t(s,o,!i),i){for(u=0;u<e;++u)a.putInt32(r[u]^o[u]);r=s.slice(0)}else for(u=0;u<e;++u)a.putInt32(o[u]),r[u]=o[u]}}},a.prototype.ofb=function(e,t,r){var a=t,i=[],s=[];return function(t,o,u,c){for(var l;o.length()>=r/8;){if(a.length>0)for(l=0;l<e;++l)i[l]=a.shift();for(t(i,s,!0),_tempBlock=n.util.createBuffer(),l=0;l<2*e;++l)l<e?_tempBlock.putInt32(i[l]):_tempBlock.putInt32(s[l%e]);for(l=0;l<r/8;++l)_tempBlock.getByte();for(l=0;l<e;++l)i[l]=_tempBlock.getInt32();for(_tempBlock=n.util.createBuffer(),l=0;l<e;++l)_tempBlock.putInt32(s[l]);for(_tempBlock=_tempBlock.getBytes(),l=0;l<r/8;++l)u.putByte(o.getByte()^_tempBlock.charCodeAt(l))}}},a.prototype.getModeFunction=function(e,t,r){if(arguments.length<3)throw"bad input! need more parameter";if("cbc"===(e=e.toLowerCase()))return this.cbc(t,r);if(-1!=e.indexOf("ofb")){var n=0;return n=parseInt(e.substr(3)),n=isNaN(n)?8:n,this.ofb(t,r,n)}return null},e.exports=new a},function(e,t,r){function n(e){return s[3][e>>>24&255]^s[2][e>>>16&255]^s[1][e>>>8&255]^s[0][255&e]}function a(e,t){var r=e[0],a=e[1],i=[];return i[0]=a[0]^t[0],i[1]=a[1]^t[1],i[1]^=i[0],i[1]=n(i[1]),i[0]+=i[1],i[0]=n(i[0]),i[1]+=i[0],i[1]=n(i[1]),i[0]+=i[1],r[0]^=i[0],r[1]^=i[1],[a,r]}var i=r(1);i.seed=i.seed||{};var s=[[696885672,92635524,382128852,331600848,340021332,487395612,747413676,621093156,491606364,54739776,403181592,504238620,289493328,1020063996,181060296,591618912,671621160,71581764,536879136,495817116,549511392,583197408,147374280,386339604,629514660,261063564,50529024,994800504,999011256,318968592,314757840,785310444,809529456,210534540,1057960764,680042664,839004720,500027868,919007988,876900468,751624428,361075092,185271048,390550356,474763356,457921368,1032696252,16843008,604250148,470552604,860058480,411603096,268439568,214745292,851636976,432656856,738992172,667411428,843215472,58950528,462132120,297914832,109478532,164217288,541089888,272650320,595829664,734782440,218956044,914797236,512660124,256852812,931640244,441078360,113689284,944271480,646357668,302125584,797942700,365285844,557932896,63161280,881111220,21053760,306336336,1028485500,227377548,134742024,521081628,428446104,0,420024600,67371012,323179344,935850996,566354400,1036907004,910586484,789521196,654779172,813740208,193692552,235799052,730571688,578986656,776888940,327390096,223166796,692674920,1011642492,151585032,168428040,1066382268,802153452,868479984,96846276,126321540,335810580,1053750012,608460900,516870876,772678188,189481800,436867608,101057028,553722144,726360936,642146916,33686016,902164980,310547088,176849544,202113036,864269232,1045328508,281071824,977957496,122110788,377918100,633725412,637936164,8421504,764256684,533713884,562143648,805318704,923218740,781099692,906375732,352653588,570565152,940060728,885321972,663200676,88424772,206323788,25264512,701096424,75792516,394761108,889532724,197903304,248431308,1007431740,826372464,285282576,130532292,160006536,893743476,1003222008,449499864,952692984,344232084,424235352,42107520,80003268,1070593020,155795784,956903736,658989924,12632256,265274316,398971860,948482232,252642060,244220556,37896768,587408160,293704080,743202924,466342872,612671652,872689716,834793968,138952776,46318272,793731948,1024274748,755835180,4210752,1049539260,1041117756,1015853244,29475264,713728680,982168248,240009804,356864340,990589752,483184860,675831912,1062171516,478974108,415813848,172638792,373707348,927429492,545300640,768467436,105267780,897954228,722150184,625303908,986379e3,600040416,965325240,830583216,529503132,508449372,969535992,650568420,847426224,822161712,717939432,760045932,525292380,616882404,817950960,231588300,143163528,369496596,973746744,407392344,348442836,574775904,688464168,117900036,855847728,684253416,453710616,84214020,961114488,276861072,709517928,705307176,445289112],[943196208,3894986976,741149985,2753988258,3423588291,3693006546,2956166067,3090712752,2888798115,1612726368,1410680145,3288844227,1141130304,1815039843,1747667811,1478183763,3221472195,1612857954,808649523,3023406513,673777953,2686484640,3760374498,2754054051,3490956243,2417066385,269549841,67503618,471600144,3158084784,875955762,1208699715,3962556387,2282260608,1814842464,2821228704,337053459,3288646848,336987666,4097098992,3221406402,1141196097,3760308705,3558262482,1010765619,1010634033,2349764226,2551744656,673712160,1276005954,4097230578,1010699826,2753922465,4164536817,202181889,3693072339,3625502928,673909539,1680229986,2017086066,606537507,741281571,4029792753,1882342002,1073889858,3558130896,1073824065,3221274816,1882407795,1680295779,2888600736,2282457987,4097296371,2888666529,2147516544,471797523,3356150466,741084192,2821360290,875824176,3490890450,134941443,3962490594,3895052769,1545424209,2484372624,404228112,4164471024,1410811731,2888732322,134744064,3288712641,269681427,3423456705,2215020162,3090778545,4232040435,2084392305,3221340609,808517937,4097164785,2282392194,1747602018,2956034481,3490824657,538968096,3558328275,131586,539099682,67372032,1747470432,1882276209,67569411,3625700307,2619182481,2551810449,1612792161,3158216370,3827746530,1478052177,3692940753,1343308113,2417000592,3692874960,2551876242,2686682019,2821426083,3490758864,2147582337,202313475,1141327683,404359698,3760440291,3962359008,2349698433,3158282163,2484504210,2017151859,1545358416,2686616226,2686550433,1612923747,539165475,1275940161,3356018880,2619248274,2619116688,943327794,202116096,741215778,3090844338,1814974050,2619314067,1478117970,4029858546,2417132178,4029924339,1208568129,2016954480,3423390912,336921873,4164668403,1882210416,1949648241,2084523891,875889969,269484048,197379,1680098400,1814908257,3288778434,1949582448,3558196689,3023340720,3895118562,134809857,1949714034,404293905,4231974642,1073758272,269615634,3760242912,3158150577,67437825,4164602610,65793,4029726960,673843746,1545490002,2821294497,1410745938,1073955651,2214954369,336856080,2282326401,2551942035,2955968688,3827680737,1208502336,2017020273,2484570003,4231843056,471731730,2147648130,539033889,2349632640,404425491,1545555795,1949779827,1410614352,2956100274,471665937,606405921,1276071747,0,1141261890,3962424801,1477986384,1343373906,3895184355,2084458098,3625634514,3356084673,4231908849,808452144,2484438417,1680164193,1010568240,3023472306,3827614944,3090910131,2084326512,202247682,1343242320,943262001,606471714,808583730,2214888576,1747536225,2417197971,876021555,3827812323,606340128,2753856672,3356216259,1343439699,134875650,2215085955,3625568721,1275874368,2147713923,2349830019,3423522498,943393587,1208633922,3023538099],[2712152457,2172913029,3537114822,3553629123,1347687492,287055117,2695638156,556016901,1364991309,1128268611,270014472,303832590,1364201793,4043062476,3267889866,1667244867,539502600,1078199364,538976256,2442927501,3772784832,3806339778,3234334920,320083719,2711889285,2206994319,50332419,1937259339,3015195531,319820547,3536851650,3807129294,1886400576,2156661900,859586319,2695374984,842019330,3520863693,4076091078,1886663748,3773574348,2442401157,50858763,1398019911,1348213836,1398283083,2981903757,16777473,539239428,270277644,1936732995,2425886856,269488128,3234598092,4075827906,3520600521,539765772,3823380423,1919955522,2206204803,2476219275,3520074177,2189690502,3251112393,1616912448,1347424320,2745181059,3823643595,17566989,2998154886,2459704974,1129058127,3014932359,1381505610,3267626694,1886926920,2728666758,303043074,2745970575,3520337349,1633689921,3284140995,2964599940,1094713665,1380979266,1903967565,2173439373,526344,320610063,2442664329,0,286791945,263172,1397756739,4092868551,3789562305,4059839949,1920218694,590098191,589571847,2964336768,2206731147,34344462,2745707403,2728403586,1651256910,2475692931,1095503181,1634216265,1887190092,17303817,34081290,3015458703,3823906767,4092605379,3250849221,2206467975,269751300,4076617422,1617175620,3537641166,573320718,1128794955,303569418,33818118,555753729,1667771211,1650730566,33554946,4059313605,2458915458,2189953674,789516,3014669187,1920745038,3503296704,1920481866,1128531783,2459178630,3789825477,572794374,2155872384,2712415629,3554418639,2711626113,808464384,859059975,2729193102,842282502,286528773,572531202,808990728,4042536132,2745444231,1094976837,1078725708,2172649857,3790088649,2156135556,2475956103,825505029,3284667339,3268153038,809253900,1903178049,286265601,3284404167,2173176201,1903441221,4093131723,3537377994,4042799304,2425623684,1364728137,2189427330,3234071748,4093394895,1095240009,825768201,1667508039,3233808576,3284930511,3553892295,2964863112,51121935,2190216846,1111491138,589308675,2442137985,1617701964,3554155467,2695111812,808727556,4059050433,1078462536,3267363522,1668034383,826031373,556543245,1077936192,2998681230,842808846,2965126284,3250586049,2728929930,2998418058,1112280654,1364464965,859323147,3504086220,1617438792,1937522511,2426150028,3503823048,1112017482,1381242438,1936996167,2694848640,3790351821,1111754310,2981377413,589835019,1633953093,4076354250,3823117251,2981640585,2981114241,2476482447,1381768782,4059576777,3806602950,2997891714,825241857,3806866122,1634479437,1398546255,3773048004,4042272960,3251375565,2156398728,303306246,842545674,1347950664,3503559876,1650467394,556280073,50595591,858796803,3773311176,320346891,17040645,1903704393,2425360512,1650993738,573057546,2459441802],[137377848,3370182696,220277805,2258805798,3485715471,3469925406,2209591347,2293282872,2409868335,1080057888,1162957845,3351495687,1145062404,1331915823,1264805931,1263753243,3284385795,1113743394,53686323,2243015733,153167913,2158010400,3269648418,2275648551,3285438483,2173800465,17895441,100795398,202382364,2360392764,103953462,1262700555,3487820847,2290124808,1281387564,2292230184,118690839,3300967428,101848086,3304125492,3267543042,1161905157,3252805665,3335705622,255015999,221330493,2390920206,2291177496,136325160,1312967694,3337810998,238173246,2241963045,3388078137,218172429,3486768159,3369130008,186853419,1180853286,1249015866,119743527,253963311,3253858353,1114796082,1111638018,3302020116,1094795265,3233857536,1131638835,1197696039,2359340076,2340653067,3354653751,2376182829,2155905024,252910623,3401762826,203435052,2325915690,70267956,3268595730,184748043,3470978094,3387025449,1297177629,2224067604,135272472,3371235384,1196643351,2393025582,134219784,3317810181,51580947,3452029965,2256700422,2310125625,3488873535,1299283005,3250700289,20000817,3320968245,2323810314,1247963178,2175905841,3251752977,2105376,3352548375,33685506,35790882,67109892,1214277672,1097953329,117638151,3419658267,2375130141,2308020249,1096900641,2394078270,3336758310,1230067737,3453082653,1095847953,2156957712,3436239900,2324863002,2208538659,2342758443,3234910224,2172747777,251857935,1195590663,168957978,3286491171,3437292588,2374077453,2410921023,2257753110,1265858619,1280334876,2191695906,2174853153,1130586147,52633635,1296124941,3368077320,2391972894,2358287388,171063354,201329676,237120558,2326968378,1315073070,2408815647,1246910490,3270701106,2190643218,3287543859,1229015049,1215330360,3435187212,85005333,3421763643,1081110576,1165063221,1332968511,87110709,1052688,50528259,1147167780,1298230317,3334652934,1148220468,3318862869,2226172980,3403868202,151062537,1181905974,152115225,3472030782,1077952512,34738194,3235962912,2377235517,83952645,3404920890,16842753,3237015600,170010666,1314020382,2309072937,1179800598,1128480771,2239857669,68162580,2306967561,2341705755,2159063088,3319915557,1212172296,1232173113,2274595863,3438345276,236067870,2189590530,18948129,2357234700,185800731,1330863135,1198748727,1146115092,2192748594,219225117,86058021,1329810447,0,1178747910,3454135341,1213224984,1112690706,3420710955,1316125758,3402815514,3384920073,3455188029,3158064,2240910357,1164010533,204487740,2259858486,3303072804,2343811131,1282440252,235015182,1079005200,154220601,102900774,36843570,2223014916,1231120425,2207485971,120796215,3353601063,69215268,2225120292,3418605579,1129533459,167905290,2273543175,3385972761,1279282188,2206433283,2407762959,3468872718,187906107,1245857802,2276701239]],o=[2654435769,1013904243,2027808486,4055616972,3816266649,3337566003,2380164711,465362127,930724254,1861448508,3722897016,3150826737,2006686179,4013372358,3731777421,3168587547],u=function(e,t,r,n){!function(e,t,r){for(var n=[e.slice(0,2),e.slice(2,4)],i=0;i<16;i++)n=a(n,t[i]);n.reverse(),r.splice(0,4,n[0][0],n[0][1],n[1][0],n[1][1])}(t,e,r)},c=function(e,t,r,a,s){var c,l,p,f,h,d,y,g="CBC"===s,v=null,m=16;if("string"!=typeof e||16!=e.length)throw"bad key";return d=function(){var e;if(e=v._roundKeys,a){e=v._invRoundKeys;for(var t=0;t<4;++t)p[t]=c.getInt32()}else for(t=0;t<4;++t)p[t]=y[t]^c.getInt32();if(u(e,p,f,a),a){for(t=0;t<4;++t)l.putInt32(y[t]^f[t]);y=p.slice(0)}else{for(t=0;t<4;++t)l.putInt32(f[t]);y=f}},(v={_key:e,output:null}).update=function(e){for(h||c.putBuffer(e);c.length()>=m||c.length()>0&&h;)d()},v.finish=function(e){var t=!0,r=c.length()%m;if(!a)if(e)t=e(m,c,a);else if(g){var n=c.length()===m?m:m-c.length();c.fillWithByte(n,n)}if(t&&(h=!0,v.update()),a&&(g&&(t=0===r),t))if(e)t=e(m,l,a);else if(g){var i=l.length(),s=l.at(i-1);s>16?t=!1:l.truncate(s)}return!g&&!e&&r>0&&l.truncate(m-r),t},v.start=function(e,t){if(e,"string"==typeof e&&16===e.length)e=i.util.createBuffer(e);else if(i.util.isArray(e)&&16===e.length){var r=e;e=i.util.createBuffer();for(var a=0;a<16;++a)e.putByte(r[a])}if(c=i.util.createBuffer(),l=t||i.util.createBuffer(),(y=[]).splice(0,4,e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()),p=new Array(4),f=new Array(4),h=!1,v.output=l,-1!==["CFB","OFB","CTR"].indexOf(s)){for(a=0;a<4;++a)p[a]=y[a];y=null}var u=i.util.createBuffer(this._key),d=u.getInt32(),g=u.getInt32(),m=u.getInt32(),C=u.getInt32(),E=[];for(a=0;a<16;a++)if(E[a]=[],E[a][0]=n(d+m-o[a]),E[a][1]=n(g-C+o[a]),a%2==0){var S=d;d=d>>>8|g<<24,g=g>>>8|S<<24}else{var F=m;m=m<<8|C>>>24,C=C<<8|F>>>24}this._roundKeys=E,this._invRoundKeys=E.slice().reverse()},null!==t&&v.start(t,r),v};i.seed.createEncryptionCipher=function(e,t){return c(e,null,null,!1,t)},i.seed.createDecryptionCipher=function(e,t){return c(e,null,null,!0,t)},e.exports=i.seed},function(e,t,r){function n(e,t){for(var r=[],n=0;n<e.length;++n)r[n]=e[n]^t[n];return s(r=i(1,r))}function a(e,t){for(var r=[],n=0;n<e.length;++n)r[n]=e[n]^t[n];return s(r=i(2,r))}function i(e,t){var r=[];X=u.util.createBuffer();for(var n=0;n<t.length;++n)X.putInt32(t[n]);if(1==e)r[0]=h[X.getByte()],r[0]<<=8,r[0]|=d[X.getByte()],r[0]<<=8,r[0]|=y[X.getByte()],r[0]<<=8,r[0]|=g[X.getByte()],r[1]=h[X.getByte()],r[1]<<=8,r[1]|=d[X.getByte()],r[1]<<=8,r[1]|=y[X.getByte()],r[1]<<=8,r[1]|=g[X.getByte()],r[2]=h[X.getByte()],r[2]<<=8,r[2]|=d[X.getByte()],r[2]<<=8,r[2]|=y[X.getByte()],r[2]<<=8,r[2]|=g[X.getByte()],r[3]=h[X.getByte()],r[3]<<=8,r[3]|=d[X.getByte()],r[3]<<=8,r[3]|=y[X.getByte()],r[3]<<=8,r[3]|=g[X.getByte()];else{if(2!=e)throw"internal error";r[0]=y[X.getByte()],r[0]<<=8,r[0]|=g[X.getByte()],r[0]<<=8,r[0]|=h[X.getByte()],r[0]<<=8,r[0]|=d[X.getByte()],r[1]=y[X.getByte()],r[1]<<=8,r[1]|=g[X.getByte()],r[1]<<=8,r[1]|=h[X.getByte()],r[1]<<=8,r[1]|=d[X.getByte()],r[2]=y[X.getByte()],r[2]<<=8,r[2]|=g[X.getByte()],r[2]<<=8,r[2]|=h[X.getByte()],r[2]<<=8,r[2]|=d[X.getByte()],r[3]=y[X.getByte()],r[3]<<=8,r[3]|=g[X.getByte()],r[3]<<=8,r[3]|=h[X.getByte()],r[3]<<=8,r[3]|=d[X.getByte()]}return r}function s(e){var t=[];if(e.length<16){var r=u.util.createBuffer();for(e.map(function(e){r.putInt32(e)}),e=[];r.length()>0;)e.push(r.getByte())}return t[0]=e[3]^e[4]^e[6]^e[8]^e[9]^e[13]^e[14],t[0]<<=8,t[0]|=e[2]^e[5]^e[7]^e[8]^e[9]^e[12]^e[15],t[0]<<=8,t[0]|=e[1]^e[4]^e[6]^e[10]^e[11]^e[12]^e[15],t[0]<<=8,t[0]|=e[0]^e[5]^e[7]^e[10]^e[11]^e[13]^e[14],t[1]=e[0]^e[2]^e[5]^e[8]^e[11]^e[14]^e[15],t[1]<<=8,t[1]|=e[1]^e[3]^e[4]^e[9]^e[10]^e[14]^e[15],t[1]<<=8,t[1]|=e[0]^e[2]^e[7]^e[9]^e[10]^e[12]^e[13],t[1]<<=8,t[1]|=e[1]^e[3]^e[6]^e[8]^e[11]^e[12]^e[13],t[2]=e[0]^e[1]^e[4]^e[7]^e[10]^e[13]^e[15],t[2]<<=8,t[2]|=e[0]^e[1]^e[5]^e[6]^e[11]^e[12]^e[14],t[2]<<=8,t[2]|=e[2]^e[3]^e[5]^e[6]^e[8]^e[13]^e[15],t[2]<<=8,t[2]|=e[2]^e[3]^e[4]^e[7]^e[9]^e[12]^e[14],t[3]=e[1]^e[2]^e[6]^e[7]^e[9]^e[11]^e[12],t[3]<<=8,t[3]|=e[0]^e[3]^e[6]^e[7]^e[8]^e[10]^e[13],t[3]<<=8,t[3]|=e[0]^e[3]^e[4]^e[5]^e[9]^e[11]^e[14],t[3]<<=8,t[3]|=e[1]^e[2]^e[4]^e[5]^e[8]^e[10]^e[15],t}function o(e,t,r){var n=[],a=4-parseInt(r/32),i=r%32,s=32-i;return n[0]=t[a%4]>>>i^t[(a+3)%4]<<s^e[0],n[1]=t[(a+1)%4]>>>i^t[a%4]<<s^e[1],n[2]=t[(a+2)%4]>>>i^t[(a+1)%4]<<s^e[2],n[3]=t[(a+3)%4]>>>i^t[(a+2)%4]<<s^e[3],n}var u=r(1);u.aria=u.aria||{};var c=4,l=[1367130551,656542356,4262702056,4204424928],p=[1840335564,2653014048,4280857045,4015907504],f=[3683792669,556198256,52729717,82364686],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[226,78,84,252,148,194,74,204,98,13,106,70,60,77,139,209,94,250,100,203,180,151,190,43,188,119,46,3,211,25,89,193,29,6,65,107,85,240,153,105,234,156,24,174,99,223,231,187,0,115,102,251,150,76,133,228,58,9,69,170,15,238,16,235,45,127,244,41,172,207,173,145,141,120,200,149,249,47,206,205,8,122,136,56,92,131,42,40,71,219,184,199,147,164,18,83,255,135,14,49,54,33,88,72,1,142,55,116,50,202,233,177,183,171,12,215,196,86,66,38,7,152,96,217,182,185,17,64,236,32,140,189,160,201,132,4,73,35,241,79,80,31,19,220,216,192,158,87,227,195,123,101,59,2,143,62,232,37,146,229,21,221,253,23,169,191,212,154,126,197,57,103,254,118,157,67,167,225,208,245,104,242,27,52,112,5,163,138,213,121,134,168,48,198,81,75,30,166,39,246,53,210,110,36,22,130,95,218,230,117,162,239,44,178,28,159,93,111,128,10,114,68,155,108,144,11,91,51,125,90,82,243,97,161,247,176,214,63,124,109,237,20,224,165,61,34,179,248,137,222,113,26,175,186,181,129],y=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],g=[48,104,153,27,135,185,33,120,80,57,219,225,114,9,98,60,62,126,94,142,241,160,204,163,42,29,251,182,214,32,196,141,129,101,245,137,203,157,119,198,87,67,86,23,212,64,26,77,192,99,108,227,183,200,100,106,83,170,56,152,12,244,155,237,127,34,118,175,221,58,11,88,103,136,6,195,53,13,1,139,140,194,230,95,2,36,117,147,102,30,229,226,84,216,16,206,122,232,8,44,18,151,50,171,180,39,10,35,223,239,202,217,184,250,220,49,107,209,173,25,73,189,81,150,238,228,168,65,218,255,205,85,134,54,190,97,82,248,187,14,130,72,105,154,224,71,158,92,4,75,52,21,121,38,167,222,41,174,146,215,132,233,210,186,93,243,197,176,191,164,59,113,68,70,43,252,235,111,213,246,20,254,124,112,90,125,253,47,24,131,22,165,145,31,5,149,116,169,193,91,74,133,109,19,7,79,78,69,178,15,201,28,166,188,236,115,144,123,207,89,143,161,249,45,242,177,0,148,55,159,208,46,156,110,40,63,128,240,61,211,37,138,181,231,66,179,199,234,247,76,17,51,3,162,172,96],v=function(e,t,r,s){var o=[],u=[];o[0]=e;for(var c=1;c<s;++c)o[c]=c%2==1?n(o[c-1],t[c]):a(o[c-1],t[c]);for(c=0;c<o[s-1].length;++c)u[c]=o[s-1][c]^t[s][c];u=i(2,u);for(c=0;c<u.length;++c)r[c]=u[c]^t[s+1][c]},m=function(e,t,r,i,h){var d,y,g,m,C,E,S,F,T,I,A="CBC"===(h=(h||"CBC").toUpperCase()),b=null,B=16,R=0;if(b={_key:e,output:null},16==e.length)R=12,F=l,T=p,I=f;else if(24==e.length)R=14,F=p,T=f,I=l;else{if(32!=e.length)throw"bad key length";R=16,F=f,T=l,I=p}if("CBC"===h)E=function(){var e;if(e=b._roundKeys,i)for(var t=0;t<4;++t)g[t]=d.getInt32();else for(t=0;t<4;++t)g[t]=S[t]^d.getInt32();if(N(e,g,m,i),i){for(t=0;t<4;++t)y.putInt32(S[t]^m[t]);S=g.slice(0)}else{for(t=0;t<4;++t)y.putInt32(m[t]);S=m}};else if("CFB"===h)E=cfbOp;else if("OFB"===h)E=ofbOp;else if("CTR"===h)E=ctrOp;else{if("ECB"!==h)throw{message:'Unsupported block cipher mode of operation: "'+h+'"'};E=function(){var e;e=b._roundKeys;for(var t=0;t<c;++t)g[t]=d.getInt32();for(N(e,g,m,i),t=0;t<c;++t)y.putInt32(m[t])}}for(b._key=[],e=u.util.createBuffer(e);e.length()>0;)b._key.push(e.getInt32());!function(){var e,t,r,c,l,p,f;for(e=b._key.slice(0,4),t=(t=b._key.slice(4)).concat([0,0,0,0]).slice(0,4),c=n(r=e,F),f=0;f<c.length;++f)c[f]=c[f]^t[f];for(l=a(c,T),f=0;f<c.length;++f)l[f]=l[f]^r[f];for(p=n(l,I),f=0;f<c.length;++f)p[f]=p[f]^c[f];d=u.util.createBuffer(),r.map(function(e){d.putInt32(e)}),u.consoleLog,d=u.util.createBuffer(),c.map(function(e){d.putInt32(e)}),u.consoleLog,d=u.util.createBuffer(),l.map(function(e){d.putInt32(e)}),u.consoleLog,d=u.util.createBuffer(),p.map(function(e){d.putInt32(e)}),u.consoleLog,b.W0=r,b.W1=c,b.W2=l,b.W3=p;var h=[];for(h[1]=o(r,c,19),h[2]=o(c,l,19),h[3]=o(l,p,19),h[4]=o(p,r,19),h[5]=o(r,c,31),h[6]=o(c,l,31),h[7]=o(l,p,31),h[8]=o(p,r,31),h[9]=o(r,c,67),h[10]=o(c,l,67),h[11]=o(l,p,67),h[12]=o(p,r,67),h[13]=o(r,c,97),h[14]=o(c,l,97),h[15]=o(l,p,97),h[16]=o(p,r,97),h[17]=o(r,c,109),f=1;f<h.length;++f){var d=u.util.createBuffer();h[f].map(function(e){d.putInt32(e)}),u.consoleLog}if(b._roundKeys=h,i){var y=[];for(f=1;f<R+2;++f)y[f]=h[R+2-f],1!=f&&f!=R+1&&(y[f]=s(y[f]));for(f=1;f<y.length;++f)d=u.util.createBuffer(),y[f].map(function(e){d.putInt32(e)}),u.consoleLog;b._roundKeys=y}}();var N=function(e,t,r,n){v(t,e,r,R)};return b.update=function(e){for(C||d.putBuffer(e);d.length()>=B||d.length()>0&&C;)E()},b.finish=function(e){var t=!0,r=d.length()%B;if(!i)if(e)t=e(B,d,i);else if(A){var n=d.length()===B?B:B-d.length();d.fillWithByte(n,n)}if(t&&(C=!0,b.update()),i&&(A&&(t=0===r),t))if(e)t=e(B,y,i);else if(A){var a=y.length(),s=y.at(a-1);s>16?t=!1:y.truncate(s)}return!A&&!e&&r>0&&y.truncate(B-r),t},b.start=function(e,t){if(void 0===e&&(e="0000000000000000"),null===e&&(e=S.slice(0)),"string"==typeof e&&16===e.length)e=u.util.createBuffer(e);else if(u.util.isArray(e)&&16===e.length)for(var r=e,n=(e=u.util.createBuffer(),0);n<16;++n)e.putByte(r[n]);if(!u.util.isArray(e)){r=e;(e=new Array(4))[0]=r.getInt32(),e[1]=r.getInt32(),e[2]=r.getInt32(),e[3]=r.getInt32()}if(d=u.util.createBuffer(),y=t||u.util.createBuffer(),S=e.slice(0),g=new Array(c),m=new Array(c),C=!1,b.output=y,-1!==["CFB","OFB","CTR"].indexOf(h)){for(n=0;n<c;++n)g[n]=S[n];S=null}},null!==t&&b.start(t,r),b};u.aria.createEncryptionCipher=function(e,t){return m(e,null,null,!1,t)},u.aria.createDecryptionCipher=function(e,t){return m(e,null,null,!0,t)},e.exports=u.aria},function(e,t,r){var n=r(1),a=n.asn1=n.asn1||{};a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.create=function(e,t,r,a){if(n.util.isArray(a)){for(var i=[],s=0;s<a.length;++s)void 0!==a[s]&&i.push(a[s]);a=i}return{tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(a),value:a}};var i=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};a.fromDer=function(e,t){if(void 0===t&&(t=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),e.length()<2)throw{message:"Too few bytes to parse DER.",bytes:e.length()};var r=e.getByte(),s=192&r,o=31&r,u=i(e);if(e.length()<u){if(t)throw{message:"Too few bytes to read ASN.1 value.",detail:e.length()+" < "+u};u=e.length()}var c,l=32==(32&r),p=l;if(!p&&s===a.Class.UNIVERSAL&&o===a.Type.BITSTRING&&u>1){var f=e.read;e.getByte();e.read=f}if(p)if(c=[],void 0===u)for(;;){if(e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2);break}c.push(a.fromDer(e,t))}else for(var h=e.length();u>0;)c.push(a.fromDer(e,t)),u-=h-e.length(),h=e.length();else{if(void 0===u){if(t)throw{message:"Non-constructed ASN.1 object of indefinite length."};u=e.length()}if(o===a.Type.BMPSTRING){c="";for(var d=0;d<u;d+=2)c+=String.fromCharCode(e.getInt16())}else c=e.getBytes(u)}return a.create(s,o,l,c)},a.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,i=n.util.createBuffer();if(e.composed){e.constructed?r|=32:i.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&i.putBuffer(a.toDer(e.value[s]))}else if(e.type===a.Type.BMPSTRING)for(s=0;s<e.value.length;++s)i.putInt16(e.value.charCodeAt(s));else i.putBytes(e.value);if(t.putByte(r),i.length()<=127)t.putByte(127&i.length());else{var o=i.length(),u="";do{u+=String.fromCharCode(255&o),o>>>=8}while(o>0);t.putByte(128|u.length);for(s=u.length-1;s>=0;--s)t.putByte(u.charCodeAt(s))}return t.putBuffer(i),t},a.oidToDer=function(e){var t=e.split("."),r=n.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var a,i,s,o,u=2;u<t.length;++u){a=!0,i=[],s=parseInt(t[u],10);do{o=127&s,s>>>=7,a||(o|=128),i.push(o),a=!1}while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r},a.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var a=0;e.length()>0;)a<<=7,128&(r=e.getByte())?a+=127&r:(t+="."+(a+r),a=0);return t},a.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,a=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var u=e.charAt(10),c=10;"+"!==u&&"-"!==u&&(o=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,a),t.setUTCHours(i,s,o,0),c&&("+"===(u=e.charAt(c))||"-"===u)){var l=60*parseInt(e.substr(c+1,2),10)+parseInt(e.substr(c+4,2),10);l*=6e4,"+"===u?t.setTime(+t-l):t.setTime(+t+l)}return t},a.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,a=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),u=0,c=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var p=e.length-5,f=e.charAt(p);"+"!==f&&"-"!==f||(c=60*parseInt(e.substr(p+1,2),10)+parseInt(e.substr(p+4,2),10),c*=6e4,"+"===f&&(c*=-1),l=!0);return"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,a),t.setUTCHours(i,s,o,u),t.setTime(+t+c)):(t.setFullYear(r,n,a),t.setHours(i,s,o,u)),t},a.dateToUtcTime=function(e){var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},a.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);throw{message:"Integer too large; max is 32-bits.",integer:e}},a.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw{message:"Integer too large; max is 32-bits."};return e.getSignedInt(t)},a.validate=function(e,t,r,i){var s=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)i&&(e.tagClass!==t.tagClass&&i.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&i.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(s=!0,t.value&&n.util.isArray(t.value))for(var o=0,u=0;s&&u<t.value.length;++u)s=t.value[u].optional||!1,e.value[o]&&((s=a.validate(e.value[o],t.value[u],r,i))?++o:t.value[u].optional&&(s=!0)),!s&&i&&i.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e))}else i&&i.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return s};var s=/[^\\u0000-\\u00ff]/;a.prettyPrint=function(e,t,r){var i="";t=t||0,r=r||2,t>0&&(i+="\n");for(var o="",u=0;u<t*r;++u)o+=" ";switch(i+=o+"Tag: ",e.tagClass){case a.Class.UNIVERSAL:i+="Universal:";break;case a.Class.APPLICATION:i+="Application:";break;case a.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case a.Class.PRIVATE:i+="Private:"}if(e.tagClass===a.Class.UNIVERSAL)switch(i+=e.type,e.type){case a.Type.NONE:i+=" (None)";break;case a.Type.BOOLEAN:i+=" (Boolean)";break;case a.Type.BITSTRING:i+=" (Bit string)";break;case a.Type.INTEGER:i+=" (Integer)";break;case a.Type.OCTETSTRING:i+=" (Octet string)";break;case a.Type.NULL:i+=" (Null)";break;case a.Type.OID:i+=" (Object Identifier)";break;case a.Type.ODESC:i+=" (Object Descriptor)";break;case a.Type.EXTERNAL:i+=" (External or Instance of)";break;case a.Type.REAL:i+=" (Real)";break;case a.Type.ENUMERATED:i+=" (Enumerated)";break;case a.Type.EMBEDDED:i+=" (Embedded PDV)";break;case a.Type.UTF8:i+=" (UTF8)";break;case a.Type.ROID:i+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:i+=" (Sequence)";break;case a.Type.SET:i+=" (Set)";break;case a.Type.PRINTABLESTRING:i+=" (Printable String)";break;case a.Type.IA5String:i+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:i+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case a.Type.BMPSTRING:i+=" (BMP String)"}else i+=e.type;if(i+="\n",i+=o+"Constructed: "+e.constructed+"\n",e.composed){var c=0,l="";for(u=0;u<e.value.length;++u)void 0!==e.value[u]&&(c+=1,l+=a.prettyPrint(e.value[u],t+1,r),u+1<e.value.length&&(l+=","));i+=o+"Sub values: "+c+l}else{if(i+=o+"Value: ",e.type===a.Type.OID){var p=a.derToOid(e.value);i+=p,n.pki&&n.pki.oids&&p in n.pki.oids&&(i+=" ("+n.pki.oids[p]+")")}if(e.type===a.Type.INTEGER)try{i+=a.derToInteger(e.value)}catch(t){i+="0x"+n.util.bytesToHex(e.value)}else i+=s.test(e.value)?"0x"+n.util.createBuffer(e.value,"utf8").toHex():0===e.value.length?"[null]":e.value}return i},e.exports=a},function(e,t,r){function n(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new n(null)}function i(e,t,r,n,a,i){for(var s=16383&t,o=t>>14;--i>=0;){var u=16383&this.data[e],c=this.data[e++]>>14,l=o*u+c*s;a=((u=s*u+((16383&l)<<14)+r.data[n]+a)>>28)+(l>>14)+o*c,r.data[n++]=268435455&u}return a}function s(e){return A.charAt(e)}function o(e,t){var r=b[e.charCodeAt(t)];return null==r?-1:r}function u(e){var t=a();return t.fromInt(e),t}function c(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function l(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function f(e,t){return e&t}function h(e,t){return e|t}function d(e,t){return e^t}function y(e,t){return e&~t}function g(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function v(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function m(){}function C(e){return e}function E(e){this.r2=a(),this.q3=a(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}var S,F=r(1);"undefined"==typeof navigator?(n.prototype.am=i,S=28):"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(e,t,r,n,a,i){for(var s=32767&t,o=t>>15;--i>=0;){var u=32767&this.data[e],c=this.data[e++]>>15,l=o*u+c*s;a=((u=s*u+((32767&l)<<15)+r.data[n]+(1073741823&a))>>>30)+(l>>>15)+o*c+(a>>>30),r.data[n++]=1073741823&u}return a},S=30):"Netscape"!=navigator.appName?(n.prototype.am=function(e,t,r,n,a,i){for(;--i>=0;){var s=t*this.data[e++]+r.data[n]+a;a=Math.floor(s/67108864),r.data[n++]=67108863&s}return a},S=26):(n.prototype.am=i,S=28),n.prototype.DB=S,n.prototype.DM=(1<<S)-1,n.prototype.DV=1<<S;n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-S,n.prototype.F2=2*S-52;var T,I,A="0123456789abcdefghijklmnopqrstuvwxyz",b=new Array;for(T="0".charCodeAt(0),I=0;I<=9;++I)b[T++]=I;for(T="a".charCodeAt(0),I=10;I<36;++I)b[T++]=I;for(T="A".charCodeAt(0),I=10;I<36;++I)b[T++]=I;l.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},l.prototype.revert=function(e){return e},l.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},l.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},l.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},p.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var a=e.length,i=!1,s=0;--a>=0;){var u;if((u=8==r?e.charCodeAt?e.charCodeAt(a):e[a]:o(e,a))>=256)throw"input data is not binary";u<0?e.charAt?"-"==e.charAt(a)&&(i=!0):"-"==e[a]&&(i=!0):(i=!1,0==s?this.data[this.t++]=u:s+r>this.DB?(this.data[this.t-1]|=(u&(1<<this.DB-s)-1)<<s,this.data[this.t++]=u>>this.DB-s):this.data[this.t-1]|=u<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,a=this.DB-n,i=(1<<a)-1,s=Math.floor(e/this.DB),o=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+s+1]=this.data[r]>>a|o,o=(this.data[r]&i)<<n;for(r=s-1;r>=0;--r)t.data[r]=0;t.data[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,a=this.DB-n,i=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&i)<<a,t.data[s-r]=this.data[s]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&i)<<a),t.t=this.t-r,t.clamp()}},n.prototype.subTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),a=e.abs(),i=r.t;for(t.t=i+a.t;--i>=0;)t.data[i]=0;for(i=0;i<a.t;++i)t.data[i+r.t]=r.am(0,a.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,r){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var o=a(),u=this.s,l=e.s,p=this.DB-c(i.data[i.t-1]);p>0?(i.lShiftTo(p,o),s.lShiftTo(p,r)):(i.copyTo(o),s.copyTo(r));var f=o.t,h=o.data[f-1];if(0!=h){var d=h*(1<<this.F1)+(f>1?o.data[f-2]>>this.F2:0),y=this.FV/d,g=(1<<this.F1)/d,v=1<<this.F2,m=r.t,C=m-f,E=null==t?a():t;for(o.dlShiftTo(C,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),n.ONE.dlShiftTo(f,E),E.subTo(o,o);o.t<f;)o.data[o.t++]=0;for(;--C>=0;){var S=r.data[--m]==h?this.DM:Math.floor(r.data[m]*y+(r.data[m-1]+v)*g);if((r.data[m]+=o.am(0,S,r,C,0,f))<S)for(o.dlShiftTo(C,E),r.subTo(E,r);r.data[m]<--S;)r.subTo(E,r)}null!=t&&(r.drShiftTo(f,t),u!=l&&n.ZERO.subTo(t,t)),r.t=f,r.clamp(),p>0&&r.rShiftTo(p,r),u<0&&n.ZERO.subTo(r,r)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var r=a(),i=a(),s=t.convert(this),o=c(e)-1;for(s.copyTo(r);--o>=0;)if(t.sqrTo(r,i),(e&1<<o)>0)t.mulTo(i,s,r);else{var u=r;r=i,i=u}return t.revert(r)},n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,a=!1,i="",o=this.t,u=this.DB-o*this.DB%t;if(o-- >0)for(u<this.DB&&(r=this.data[o]>>u)>0&&(a=!0,i=s(r));o>=0;)u<t?(r=(this.data[o]&(1<<u)-1)<<t-u,r|=this.data[--o]>>(u+=this.DB-t)):(r=this.data[o]>>(u-=t)&n,u<=0&&(u+=this.DB,--o)),r>0&&(a=!0),a&&(i+=s(r));return a?i:"0"},n.prototype.negate=function(){var e=a();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+c(this.data[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new l(t):new p(t),this.exp(e,r)},n.ZERO=u(0),n.ONE=u(1),m.prototype.convert=C,m.prototype.revert=C,m.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},m.prototype.sqrTo=function(e,t){e.squareTo(t)},E.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},E.prototype.revert=function(e){return e},E.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},E.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},E.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var B=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],R=(1<<26)/B[B.length-1];n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=u(r),i=a(),s=a(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),a=Math.pow(t,r),i=!1,s=0,u=0,c=0;c<e.length;++c){var l=o(e,c);l<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(u=t*u+l,++s>=r&&(this.dMultiply(a),this.dAddOffset(u,0),s=0,u=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(u,0)),i&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),h,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var a=new Array,i=7&e;a.length=1+(e>>3),t.nextBytes(a),i>0?a[0]&=(1<<i)-1:a[0]=0,this.fromString(a,256)}},n.prototype.bitwiseTo=function(e,t,r){var n,a,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(a=e.s&this.DM,n=i;n<this.t;++n)r.data[n]=t(this.data[n],a);r.t=this.t}else{for(a=this.s&this.DM,n=i;n<e.t;++n)r.data[n]=t(a,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},n.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},n.prototype.multiplyLowerTo=function(e,t,r){var n,a=Math.min(this.t+e.t,t);for(r.s=0,r.t=a;a>0;)r.data[--a]=0;for(n=r.t-this.t;a<n;++a)r.data[a+this.t]=this.am(0,e.data[a],r,a,0,this.t);for(n=Math.min(e.t,t);a<n;++a)this.am(0,e.data[a],r,a,0,t-a);r.clamp()},n.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var a,i=t.shiftRight(r),s={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(255*F.base.srnd())}},o=0;o<e;++o){do{a=new n(this.bitLength(),s)}while(a.compareTo(n.ONE)<=0||a.compareTo(t)>=0);var u=a.modPow(i,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(t)){for(var c=1;c++<r&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},n.prototype.clone=function(){var e=a();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,a=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[a++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==a&&(128&this.s)!=(128&r)&&++a,(a>0||r!=this.s)&&(t[a++]=r);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=a();return this.bitwiseTo(e,f,t),t},n.prototype.or=function(e){var t=a();return this.bitwiseTo(e,h,t),t},n.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,d,t),t},n.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,y,t),t},n.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+g(this.data[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=v(this.data[r]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,h)},n.prototype.clearBit=function(e){return this.changeBit(e,y)},n.prototype.flipBit=function(e){return this.changeBit(e,d)},n.prototype.add=function(e){var t=a();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},n.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),s=u(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new l(t):t.isEven()?new E(t):new p(t);var o=new Array,f=3,h=r-1,d=(1<<r)-1;if(o[1]=n.convert(this),r>1){var y=a();for(n.sqrTo(o[1],y);f<=d;)o[f]=a(),n.mulTo(y,o[f-2],o[f]),f+=2}var g,v,m=e.t-1,C=!0,S=a();for(i=c(e.data[m])-1;m>=0;){for(i>=h?g=e.data[m]>>i-h&d:(g=(e.data[m]&(1<<i+1)-1)<<h-i,m>0&&(g|=e.data[m-1]>>this.DB+i-h)),f=r;0==(1&g);)g>>=1,--f;if((i-=f)<0&&(i+=this.DB,--m),C)o[g].copyTo(s),C=!1;else{for(;f>1;)n.sqrTo(s,S),n.sqrTo(S,s),f-=2;f>0?n.sqrTo(s,S):(v=s,s=S,S=v),n.mulTo(S,o[g],s)}for(;m>=0&&0==(e.data[m]&1<<i);)n.sqrTo(s,S),v=s,s=S,S=v,--i<0&&(i=this.DB-1,--m)}return n.revert(s)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),a=this.clone(),i=u(1),s=u(0),o=u(0),c=u(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;a.isEven();)a.rShiftTo(1,a),t?(o.isEven()&&c.isEven()||(o.addTo(this,o),c.subTo(e,c)),o.rShiftTo(1,o)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(a)>=0?(r.subTo(a,r),t&&i.subTo(o,i),s.subTo(c,s)):(a.subTo(r,a),t&&o.subTo(i,o),c.subTo(s,c))}return 0!=a.compareTo(n.ONE)?n.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},n.prototype.pow=function(e){return this.exp(e,new m)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var a=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(a<i&&(i=a),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(a=t.getLowestSetBit())>0&&t.rShiftTo(a,t),(a=r.getLowestSetBit())>0&&r.rShiftTo(a,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},n.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=B[B.length-1]){for(t=0;t<B.length;++t)if(r.data[0]==B[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<B.length;){for(var n=B[t],a=t+1;a<B.length&&n<R;)n*=B[a++];for(n=r.modInt(n);t<a;)if(n%B[t++]==0)return!1}return r.millerRabin(e)},n.prototype.square=function(){var e=a();return this.squareTo(e),e},n.fromByteArrayUnsigned=function(e){return e.length?new n(128&e[0]?[0].concat(e):e):new n.valueOf(0)},n.fromByteArraySigned=function(e){return 128&e[0]?(e[0]&=127,n.fromByteArrayUnsigned(e).negate()):n.fromByteArrayUnsigned(e)},n.prototype.toByteArrayUnsigned=function(){var e=this.abs().toByteArray();if(!e.length)return e;0===e[0]&&(e=e.slice(1));for(var t=0;t<e.length;++t)e[t]=e[t]<0?e[t]+256:e[t];return e},n.prototype.toByteArraySigned=function(){var e=this.toByteArrayUnsigned(),t=this.s<0;return 128&e[0]?e.unshift(t?128:0):t&&(e[0]|=128),e},n.prototype.toBinary=function(e){var t,r=[];for(t=this.toByteArrayUnsigned();8*(r.length+t.length)<e;)r=[String.fromCharCode(0)].concat(r);return t.map(function(e,t){r.push(String.fromCharCode(e))}),r.join("")},F.jsbn=F.jsbn||{},F.jsbn.BigInteger=n,F.jsbn.Barrett=E,e.exports=F.jsbn},function(e,t,r){var n=r(1);n.pki=n.pki||{};var a=n.pki.oids=n.oids=n.oids||{};a["1.2.840.113549.1.1.1"]="rsaEncryption",a.rsaEncryption="1.2.840.113549.1.1.1",a["1.2.840.113549.1.1.4"]="md5WithRSAEncryption",a.md5WithRSAEncryption="1.2.840.113549.1.1.4",a["1.2.840.113549.1.1.5"]="sha1WithRSAEncryption",a.sha1WithRSAEncryption="1.2.840.113549.1.1.5",a["1.2.840.113549.1.1.7"]="RSAES-OAEP",a["RSAES-OAEP"]="1.2.840.113549.1.1.7",a["1.2.840.113549.1.1.8"]="mgf1",a.mgf1="1.2.840.113549.1.1.8",a["1.2.840.113549.1.1.9"]="pSpecified",a.pSpecified="1.2.840.113549.1.1.9",a["1.2.840.113549.1.1.10"]="RSASSA-PSS",a["RSASSA-PSS"]="1.2.840.113549.1.1.10",a["1.2.840.113549.1.1.11"]="sha256WithRSAEncryption",a.sha256WithRSAEncryption="1.2.840.113549.1.1.11",a["1.2.840.113549.1.1.12"]="sha384WithRSAEncryption",a.sha384WithRSAEncryption="1.2.840.113549.1.1.12",a["1.2.840.113549.1.1.13"]="sha512WithRSAEncryption",a.sha512WithRSAEncryption="1.2.840.113549.1.1.13",a["1.3.14.3.2.7"]="desCBC",a.desCBC="1.3.14.3.2.7",a["1.3.14.3.2.26"]="sha1",a.sha1="1.3.14.3.2.26",a["2.16.840.1.101.3.4.2.1"]="sha256",a.sha256="2.16.840.1.101.3.4.2.1",a["2.16.840.1.101.3.4.2.2"]="sha384",a.sha384="2.16.840.1.101.3.4.2.2",a["2.16.840.1.101.3.4.2.3"]="sha512",a.sha512="2.16.840.1.101.3.4.2.3",a["1.2.840.113549.2.5"]="md5",a.md5="1.2.840.113549.2.5",a.kcdsa="1.2.410.200004.1.21",a["1.2.410.200004.1.21"]="kcdsa",a.ecdsa="1.2.840.10045.2.1",a["1.2.840.10045.2.1"]="ecdsa",a.secp256r1="1.2.840.10045.3.1.7",a["1.2.840.10045.3.1.7"]="secp256r1",e.exports=a},function(e,t,r){function n(e,t,r){r||(r=a.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);r.start(),r.update(e+o),n+=r.digest().getBytes()}return n.substring(0,t)}var a=r(1),i=a.asn1,s=a.pki,o=a.pkcs1=a.pkcs1||{};o.encode_rsa_oaep=function(e,t,r){var i=void 0,s=void 0,o=void 0,u=void 0;"string"==typeof r?(i=r,s=arguments[3]||void 0,o=arguments[4]||void 0):r&&(i=r.label||void 0,s=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),o?o.start():o=a.md.sha1.create(),u||(u=o);var c=Math.ceil(e.n.bitLength()/8),l=c-2*o.digestLength-2;if(t.length>l)throw{message:"RSAES-OAEP input message length is too long.",length:t.length,maxLength:l};i||(i=""),o.update(i,"raw");for(var p=o.digest(),f="",h=l-t.length,d=0;d<h;d++)f+="\0";var y=p.getBytes()+f+""+t;if(s){if(s.length!==o.digestLength)throw{message:"Invalid RSAES-OAEP seed. The seed length must match the digest length.",seedLength:s.length,digestLength:o.digestLength}}else s=a.random.getBytes(o.digestLength);var g=n(s,c-o.digestLength-1,u),v=a.util.xorBytes(y,g,y.length),m=n(v,o.digestLength,u);return"\0"+a.util.xorBytes(s,m,s.length)+v},o.decode_rsa_oaep=function(e,t,r){var i=void 0,s=void 0,o=void 0;"string"==typeof r?(i=r,s=arguments[3]||void 0):r&&(i=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var u=Math.ceil(e.n.bitLength()/8);if(t.length!==u)throw{message:"RSAES-OAEP encoded message length is invalid.",length:t.length,expectedLength:u};if(void 0===s?s=a.md.sha1.create():s.start(),o||(o=s),u<2*s.digestLength+2)throw{message:"RSAES-OAEP key is too short for the hash function."};i||(i=""),s.update(i,"raw");for(var c=s.digest().getBytes(),l=t.charAt(0),p=t.substring(1,s.digestLength+1),f=t.substring(1+s.digestLength),h=n(f,s.digestLength,o),d=n(a.util.xorBytes(p,h,p.length),u-s.digestLength-1,o),y=a.util.xorBytes(f,d,f.length),g=y.substring(0,s.digestLength),v="\0"!==l,m=0;m<s.digestLength;++m)v|=c.charAt(m)!==g.charAt(m);for(var C=1,E=s.digestLength,S=s.digestLength;S<y.length;S++){var F=y.charCodeAt(S);v|=F&(C?65534:0),E+=C&=1&F^1}if(v||1!==y.charCodeAt(E))throw{message:"Invalid RSAES-OAEP padding."};return y.substring(E+1)},o.createDigestInfo=function(e,t,r){var n;if(arguments.length<2){if(!(e.algorithm in s.oids))throw{message:"Unknown message digest algorithm.",algorithm:e.algorithm};if(n=s.oids[e.algorithm],e.hasOwnProperty("parameter")){if(8!=e.parameter.length)throw"invalid parameter length(must be 8 bytes)";r=i.create(i.Class.UNIVERSAL,i.Type,OCTETSTRING,!1,e.parameter)}t=e.digest().getBytes()}else if(n=e,void 0===t)throw{message:"invalid input need digest value"};void 0===r&&(r=i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,""));var a=i.oidToDer(n).getBytes(),o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),u=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);u.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,a)),u.value.push(r);t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t);return o.value.push(u),o.value.push(t),i.toDer(o).getBytes()},e.exports=o},function(e,t,r){function n(e,t,r){var n=s.util.createBuffer(),a=Math.ceil(t.n.bitLength()/8);if(e.length>a-11)throw{message:"Message is too long for PKCS#1 v1.5 padding.",length:e.length,max:a-11};n.putByte(0),n.putByte(r);var i,o=a-3-e.length;if(0===r||1===r){i=0===r?0:255;for(var u=0;u<o;++u)n.putByte(i)}else for(;o>0;){var c=0,l=s.random.getBytes(o);for(u=0;u<o;++u)0===(i=l.charCodeAt(u))?++c:n.putByte(i);o=c}return n.putByte(0),n.putBytes(e),n}function a(e,t,r,n){var a=Math.ceil(t.n.bitLength()/8),i=s.util.createBuffer(e),o=i.getByte(),u=i.getByte();if(0!==o||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===n)throw{message:"Encryption block is invalid."};var c=0;if(0===u){c=a-3-n;for(var l=0;l<c;++l)if(0!==i.getByte())throw{message:"Encryption block is invalid."}}else if(1===u)for(c=0;i.length()>1;){if(255!==i.getByte()){--i.read;break}++c}else if(2===u)for(c=0;i.length()>1;){if(0===i.getByte()){--i.read;break}++c}if(0!==i.getByte()||c!==a-3-i.length())throw{message:"Encryption block is invalid."};return i.getBytes()}function i(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}var s=r(1);if(void 0===o)var o=s.jsbn.BigInteger;var u=s.asn1;s.pki=s.pki||{},s.pki.rsa=s.rsa=s.rsa||{};var c=s.pki,l=[6,4,2,4,2,4,6,2],p=function(e){var t;if(!(e.algorithm in c.oids))throw{message:"Unknown message digest algorithm.",algorithm:e.algorithm};t=c.oids[e.algorithm];var r=u.oidToDer(t).getBytes(),n=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),a=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);if(a.value.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,r)),e.hasOwnProperty("parameter")){if(8!=e.parameter.length)throw"invalid parameter length(must be 8 bytes)";a.value.push(u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,e.parameter))}else a.value.push(u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,""));var i=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,e.digest().getBytes());return n.value.push(a),n.value.push(i),u.toDer(n).getBytes()},f=function(e,t,r){var n;if(r)n=e.modPow(t.e,t.n);else if(t.p&&t.q){t.dP||(t.dP=t.d.mod(t.p.subtract(o.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(o.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));for(var a=e.mod(t.p).modPow(t.dP,t.p),i=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(i)<0;)a=a.add(t.p);n=a.subtract(i).multiply(t.qInv).mod(t.p).multiply(t.q).add(i)}else n=e.modPow(t.d,t.n);return n};c.rsa.encrypt=function(e,t,r){var a,i=r,u=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(i=2===r,a=n(e,t,r)):(a=s.util.createBuffer()).putBytes(e);for(var c=new o(a.toHex(),16),l=f(c,t,i).toString(16),p=s.util.createBuffer(),h=u-Math.ceil(l.length/2);h>0;)p.putByte(0),--h;return p.putBytes(s.util.hexToBytes(l)),p.getBytes()},c.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i)throw{message:"Encrypted message length is invalid.",length:e.length,expected:i};var u=new o(s.util.createBuffer(e).toHex(),16);if(u.compareTo(t.n)>=0)throw{message:"Encrypted message is invalid."};for(var c=f(u,t,r).toString(16),l=s.util.createBuffer(),p=i-Math.ceil(c.length/2);p>0;)l.putByte(0),--p;return l.putBytes(s.util.hexToBytes(c)),!1!==n?a(l.getBytes(),t,r):l.getBytes()},c.rsa.createKeyPairGenerationState=function(e,t){"string"==typeof e&&(e=parseInt(e,10));var r={nextBytes:function(e){for(var t=s.random.getBytes(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},n={state:0,bits:e=e||2048,rng:r,eInt:t||65537,e:new o(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null};return n.e.fromInt(n.eInt),n},c.rsa.stepKeyPairGenerationState=function(e,t){var r=new o(null);r.fromInt(30);for(var n,a=0,s=function(e,t){return e|t},u=+new Date,p=0;null===e.keys&&(t<=0||p<t);){if(0===e.state){var f=null===e.p?e.pBits:e.qBits,h=f-1;0===e.pqState?(e.num=new o(f,e.rng),e.num.testBit(h)||e.num.bitwiseTo(o.ONE.shiftLeft(h),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),a=0,++e.pqState):1===e.pqState?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(i(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(l[a++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(o.ONE).gcd(e.e).compareTo(o.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(o.ONE),e.q1=e.q.subtract(o.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(o.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var d=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)}}p+=(n=+new Date)-u,u=n}return null!==e.keys},c.rsa.generateKeyPair=function(e,t,r,n){1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(n=e,e=void 0):2===arguments.length?("number"==typeof e?"function"==typeof t?n=t:r=t:(r=e,n=t,e=void 0),t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537);var a=c.rsa.createKeyPairGenerationState(e,t);return n?void function(e,t,r){function n(){u=Math.max(1,u),a(e.pBits,function(t,n){return t?r(t):(e.p=n,void a(e.qBits,i))})}function a(t,r){function n(){var r=t-1,n=new o(t,e.rng);return n.testBit(r)||n.bitwiseTo(o.ONE.shiftLeft(r),d,n),n.dAddOffset(31-n.mod(h).byteValue(),0),n}function a(a){if(!y){var s=a.data;if(s.found){for(var u=0;u<i.length;++u)i[u].terminate();return y=!0,r(null,new o(s.prime,16))}c.bitLength()>t&&(c=n());var f=c.toString(16);a.target.postMessage({e:e.eInt,hex:f,workLoad:l}),c.dAddOffset(p,0)}}for(var i=[],s=0;s<u;++s)i[s]=new Worker(f);var c=n();for(s=0;s<u;++s)i[s].addEventListener("message",a);var y=!1}function i(t,s){if(e.q=s,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p1=e.p.subtract(o.ONE),e.q1=e.q.subtract(o.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(o.ONE))return e.p=e.q=null,void n();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void a(e.qBits,i);var l=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}if("function"==typeof t&&(r=t,t={}),"undefined"==typeof Worker)return function t(){return c.rsa.stepKeyPairGenerationState(e,10)?r(null,e.keys):void s.util.setImmediate(t)}();var u=t.workers||2,l=t.workLoad||100,p=30*l/8,f=t.workerScript||"yt/prime.worker.js",h=new o(null);h.fromInt(30);var d=function(e,t){return e|t};-1===u?s.util.estimateCores(function(e,t){e&&(t=2),u=t-1,n()}):n()}(a,r,n):(c.rsa.stepKeyPairGenerationState(a,0),a.keys)},c.setRsaPublicKey=c.rsa.setPublicKey=function(e,t,r){var i={oid:c.oids.rsaEncryption,n:e,e:t,params:r,encrypt:function(e,t,r){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return n(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return s.pkcs1.encode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw{message:'Unsupported encryption scheme: "'+t+'".'};t={encode:function(e){return e}}}var a=t.encode(e,i,!0);return c.rsa.encrypt(a,i,!0)},verify:function(e,t,r){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){return t=a(t,i,!0),e===u.fromDer(t).value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===(t=a(t,i,!0))}});var n=c.rsa.decrypt(t,i,!0,!1);return s.consoleLog,r.verify(e,n,i.n.bitLength())}};return i},c.kcdsa={},c.setKcdsaPublicKey=c.kcdsa.setPublicKey=function(e,t,r,n){var a={oid:c.oids.kcdsa,y:e,params:{P:t,Q:r,G:n},verify:function(e,t){throw"not supported"}};return a},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(e,t,r,n,i,o,u,l){var f={oid:c.oids.rsaEncryption,n:e,e:t,d:r,p:n,q:i,dP:o,dQ:u,qInv:l,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var n=c.rsa.decrypt(e,f,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:a};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return s.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw{message:'Unsupported encryption scheme: "'+t+'".'};t={decode:function(e){return e}}}return t.decode(n,f,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:p},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,f.n.bitLength());return s.consoleLog,c.rsa.encrypt(n,f,r)}};return f},c.wrapRsaPrivateKey=function(e){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(c.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(e).getBytes())])},e.exports=s.rsa},function(e,t,r){var n=r(1);n.mgf=n.mgf||{},(n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var a=new n.util.ByteBuffer,i=Math.ceil(r/e.digestLength),s=0;s<i;s++){var o=new n.util.ByteBuffer;o.putInt32(s),e.start(),e.update(t+o.getBytes()),a.putBuffer(e.digest())}return a.truncate(a.length()-r),a.getBytes()}}},e.exports=n.mgf1},function(e,t,r){var n=r(1);n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1,e.exports=n.mgf},function(e,t,r){var n=r(1);(n.pss=n.pss||{}).create=function(e,t,r){var a=e.digestLength,i={verify:function(i,s,o){var u,c=o-1,l=Math.ceil(c/8);if(s=s.substr(-l),l<a+r+2)throw{message:"Inconsistent parameters to PSS signature verification."};if(188!==s.charCodeAt(l-1))throw{message:"Encoded message does not end in 0xBC."};var p=l-a-1,f=s.substr(0,p),h=s.substr(p,a),d=65280>>8*l-c&255;if(0!=(f.charCodeAt(0)&d))throw{message:"Bits beyond keysize not zero as expected."};var y=t.generate(h,p),g="";for(u=0;u<p;u++)g+=String.fromCharCode(f.charCodeAt(u)^y.charCodeAt(u));g=String.fromCharCode(g.charCodeAt(0)&~d)+g.substr(1);var v=l-a-r-2;for(u=0;u<v;u++)if(0!==g.charCodeAt(u))throw{message:"Leftmost octets not zero as expected"};if(1!==g.charCodeAt(v))throw{message:"Inconsistent PSS signature, 0x01 marker not found"};var m=g.substring(g.length-r,g.length),C=new n.util.ByteBuffer;return C.fillWithByte(0,8),C.putBytes(i),C.putBytes(m),e.start(),e.update(C.getBytes()),h===e.digest().getBytes()},encode:function(i,s){var o,u=s-1,c=Math.ceil(u/8),l=i.digest().getBytes();if(c<a+r+2)throw{message:"Message is too long to encrypt"};var p=n.random.getBytes(r),f=new n.util.ByteBuffer;f.fillWithByte(0,8),f.putBytes(l),f.putBytes(p),e.start(),e.update(f.getBytes());var h=e.digest().getBytes(),d=new n.util.ByteBuffer;d.fillWithByte(0,c-r-a-2),d.putByte(1),d.putBytes(p);var y=d.getBytes(),g=c-a-1,v=t.generate(h,g),m="";for(o=0;o<g;o++)m+=String.fromCharCode(y.charCodeAt(o)^v.charCodeAt(o));var C=65280>>8*c-u&255;return(m=String.fromCharCode(m.charCodeAt(0)&~C)+m.substr(1))+h+String.fromCharCode(188)}};return i},e.exports=n.pss},function(e,t,r){function n(e,t){this.x=t,this.q=e}function a(e,t,r,n){this.curve=e,this.x=t,this.y=r,this.z=null==n?o.ONE:n,this.zinv=null}function i(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new a(this,null,null),this.reducer=new u(this.q)}var s=r(1),o=s.jsbn.BigInteger,u=s.jsbn.Barrett;s.ec={},n.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},n.prototype.toBigInteger=function(){return this.x},n.prototype.negate=function(){return new n(this.q,this.x.negate().mod(this.q))},n.prototype.add=function(e){return new n(this.q,this.x.add(e.toBigInteger()).mod(this.q))},n.prototype.subtract=function(e){return new n(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},n.prototype.multiply=function(e){return new n(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},n.prototype.square=function(){return new n(this.q,this.x.square().mod(this.q))},n.prototype.divide=function(e){return new n(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},a.decodeFrom=function(e,t){var r=t[0],n=t.length-1;if(4!=r)throw"not supported ECPoint encoding:"+r;var i=t.slice(1,1+n/2),s=t.slice(1+n/2,1+n);i.unshift(0),s.unshift(0);var u=new o(i),c=new o(s);return new a(e,e.fromBigInteger(u),e.fromBigInteger(c))},a.prototype.getX=function(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var e=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},a.prototype.getY=function(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var e=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},a.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(o.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(o.ZERO))},a.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(o.ZERO)&&!this.y.toBigInteger().equals(o.ZERO)},a.prototype.negate=function(){return new a(this.curve,this.x,this.y.negate(),this.z)},a.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(o.ZERO.equals(r))return o.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new o("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),u=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),c=u.multiply(r),l=i.multiply(u),p=t.square().multiply(this.z),f=p.subtract(l.shiftLeft(1)).multiply(e.z).subtract(c).multiply(r).mod(this.curve.q),h=l.multiply(n).multiply(t).subtract(s.multiply(c)).subtract(p.multiply(t)).multiply(e.z).add(t.multiply(c)).mod(this.curve.q),d=c.multiply(this.z).multiply(e.z).mod(this.curve.q);return new a(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(h),d)},a.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new o("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),s=this.curve.a.toBigInteger(),u=t.square().multiply(e);o.ZERO.equals(s)||(u=u.add(this.z.square().multiply(s)));var c=(u=u.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),l=u.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(u.square().multiply(u)).mod(this.curve.q),p=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new a(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(l),p)},a.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new o("3")),a=this.negate(),i=this;for(t=n.bitLength()-2;t>0;--t){i=i.twice();var s=n.testBit(t);s!=r.testBit(t)&&(i=i.add(s?this:a))}return i},a.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var a=this.curve.getInfinity(),i=this.add(t);n>=0;)a=a.twice(),e.testBit(n)?a=r.testBit(n)?a.add(i):a.add(this):r.testBit(n)&&(a=a.add(t)),--n;return a},s.ec.ECPointFp=a,i.prototype.getQ=function(){return this.q},i.prototype.getA=function(){return this.a},i.prototype.getB=function(){return this.b},i.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},i.prototype.getInfinity=function(){return this.infinity},i.prototype.fromBigInteger=function(e){return new n(this.q,e)},i.prototype.reduce=function(e){this.reducer.reduce(e)},i.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),n=e.substr(t+2,t);return new a(this,this.fromBigInteger(new o(r,16)),this.fromBigInteger(new o(n,16)));default:return null}},i.prototype.encodePointHex=function(e){if(e.isInfinity())return"00";var t=e.getX().toBigInteger().toString(16),r=e.getY().toBigInteger().toString(16),n=this.getQ().toString(16).length;for(n%2!=0&&n++;t.length<n;)t="0"+t;for(;r.length<n;)r="0"+r;return"04"+t+r},s.ec.ECCurveFp=i,e.exports=s.ec},function(e,t,r){function n(e){this.privateKey=e.privateKey,this.publicKey=e.publicKey}var a=r(1),i=a.ec.ECPointFp;n.prototype.computeSharedData=function(e){var t=a.ECParameterDB.getByName("P-256"),r=e.raw.Q.toByteArrayUnsigned();if(!t.h.equals(a.jsbn.BigInteger.ONE))throw"need more calculation(h inverse) but not implemented";var n=(r=i.decodeFrom(t.curve,r)).multiply(this.privateKey.raw.d);return a.crypto.util.arrayToString(n.getX().toBigInteger().toByteArrayUnsigned())},a.ecdh=n,e.exports=a.ecdh},function(e,t,r){var n=r(1),a=n.jsbn.BigInteger,i=n.ec.ECCurveFp;n.ECParameterDB=new function(){function e(e){return new a(e,16)}var t={},r={};this.getByName=function(e){var n=e;if(void 0!==r[n]&&(n=r[e]),void 0!==t[n])return t[n];throw"unregistered EC curve name: "+n},this.regist=function(n,a,s,o,u,c,l,p,f,h,d,y){t[n]={};var g=e(s),v=e(o),m=e(u),C=e(c),E=e(l),S=new i(g,v,m),F=S.decodePointHex("04"+p+f);t[n].name=n,t[n].keylen=a,t[n].curve=S,t[n].G=F,t[n].n=C,t[n].h=E,t[n].oid=d,t[n].info=y;for(var T=0;T<h.length;T++)r[h[T]]=n}},n.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),n.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),n.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),n.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),n.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),n.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),n.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),n.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),n.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),n.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),e.exports=n.ECParameterDB},function(e,t,r){
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
	 */
function n(){this.i=0,this.j=0,this.S=new Array}function a(){var e;e=(new Date).getTime(),d[y++]^=255&e,d[y++]^=e>>8&255,d[y++]^=e>>16&255,d[y++]^=e>>24&255,y>=g&&(y-=g)}function i(){if(null==h){for(a(),(h=new n).init(d),y=0;y<d.length;++y)d[y]=0;y=0}return h.next()}function s(){}function o(e){return F.forEach(function(t){if(t.curveName==S.getName(e))return t}),F.push(new S({curve:e})),F[F.length-1]}function u(){}var c=r(1),l=c.jsbn.BigInteger,p=c.ec.ECPointFp,f=c.pki;n.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},n.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var h,d,y,g=256;if(null==d){var v;if(d=new Array,y=0,"undefined"!=typeof window&&(void 0!==window.crypto||void 0!==window.msCrypto)){var m=window.crypto||window.msCrypto;if(m.getRandomValues){var C=new Uint8Array(32);for(m.getRandomValues(C),v=0;v<32;++v)d[y++]=C[v]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var E=window.crypto.random(32);for(v=0;v<E.length;++v)d[y++]=255&E.charCodeAt(v)}}for(;y<g;)v=Math.floor(65536*Math.random()),d[y++]=v>>>8,d[y++]=255&v;y=0,a()}s.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=i()};var S=function(e){var t=new s;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){var r;return(r=new l(e.bitLength(),t).mod(e.subtract(l.ONE)).add(l.ONE)).bitLength()!=e.bitLength()&&(r=r.setBit(e.bitLength()-1)),r},this.checkBigRandom=function(e,t){var r=t;if(r.bitLength()!=e.bitLength())throw new c.error("mismatch number bits (need "+e.bitLength()+" bits)");r.mod(e.subtract(l.ONE)).add(l.ONE)},this.setNamedCurve=function(e){this.ecparams=c.ECParameterDB.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(e){var t,r=this.ecparams.n;void 0===e?(t=this.getBigRandom(r),this.checkBigRandom(r,t)):(this.checkBigRandom(r,e),t=e);var n=this.ecparams.G.multiply(t),a=n.getX().toBigInteger(),i=n.getY().toBigInteger(),s=this.ecparams.keylen/4,o=("0000000000"+t.toString(16)).slice(-s),u="04"+("0000000000"+a.toString(16)).slice(-s)+("0000000000"+i.toString(16)).slice(-s);return this.setPrivateKeyHex(o),this.setPublicKeyHex(u),{ecprvhex:o,ecpubhex:u}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new l(t,16),n=this.ecparams.n,a=new l(e,16);do{var i=this.getBigRandom(n),s=this.ecparams.G.multiply(i).getX().toBigInteger().mod(n)}while(s.compareTo(l.ZERO)<=0);var o=i.modInverse(n).multiply(a.add(r.multiply(s))).mod(n);return c.ECDSA.biRSSigToASN1Sig(s,o)},this.sign=function(e,t,r){var n=t,a=this.ecparams.n,i=l.fromByteArrayUnsigned(e);do{var s=this.getBigRandom(a);r.hasOwnProperty("k")&&(s=new l(c.util.bytesToHex(r.k),16));var o=this.ecparams.G.multiply(s).getX().toBigInteger().mod(a)}while(o.compareTo(l.ZERO)<=0);var u=s.modInverse(a).multiply(i.add(n.multiply(o))).mod(a);return this.serializeSig(o,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){var n,a,i,s=c.ECDSA.parseSigHex(t);n=s.r,a=s.s,i=p.decodeFromHex(this.ecparams.curve,r);var o=new l(e,16);return this.verifyRaw(o,n,a,i)},this.verify=function(e,t,r){var n,a,i;if(c.util.isArray(t)||c.util.isArrayBuffer){var s=this.parseSig(t);n=s.r,a=s.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";n=t.r,a=t.s}if(r instanceof p)i=r;else{if(!c.util.isArray(r)&&!c.util.isArrayBuffer(r))throw"Invalid format for pubkey value, must be byte array or ECPointFp";i=p.decodeFrom(this.ecparams.curve,r)}var o=l.fromByteArrayUnsigned(e);return this.verifyRaw(o,n,a,i)},this.verifyRaw=function(e,t,r,n){var a=this.ecparams.n,i=this.ecparams.G;if(t.compareTo(l.ONE)<0||t.compareTo(a)>=0)return!1;if(r.compareTo(l.ONE)<0||r.compareTo(a)>=0)return!1;var s=r.modInverse(a),o=e.multiply(s).mod(a),u=t.multiply(s).mod(a);return i.multiply(o).add(n.multiply(u)).getX().toBigInteger().mod(a).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),n=t.toByteArraySigned(),a=[];return a.push(2),a.push(r.length),(a=a.concat(r)).push(2),a.push(n.length),(a=a.concat(n)).unshift(a.length),a.unshift(48),a},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:l.fromByteArrayUnsigned(r),s:l.fromByteArrayUnsigned(n)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:l.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:l.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){var t,r,n,a=ASN1HEX,i=c.ECDSA.getName,s=a.getVbyList;if(!1===a.isASN1HEX(e))throw"not ASN.1 hex string";try{t=s(e,0,[2,0],"06"),r=s(e,0,[1],"04");try{n=s(e,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=i(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){var t,r,n,a=ASN1HEX,i=c.ECDSA.getName,s=a.getVbyList;if(!1===a.isASN1HEX(e))throw"not ASN.1 hex string";try{s(e,0,[1,0],"06"),t=s(e,0,[1,1],"06"),r=s(e,0,[2,0,1],"04");try{n=s(e,0,[2,0,2,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=i(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){var t,r,n=ASN1HEX,a=c.ECDSA.getName,i=n.getVbyList;if(!1===n.isASN1HEX(e))throw"not ASN.1 hex string";try{i(e,0,[0,0],"06"),t=i(e,0,[0,1],"06"),r=i(e,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}if(this.curveName=a(t),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var r,n,a=ASN1HEX,i=S.getName,s=a.getVbyList;if(!1===a.isASN1HEX(e))throw"not ASN.1 hex string";try{r=s(e,0,[0,t,0,1],"06"),n=s(e,0,[0,t,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}if(this.curveName=i(r),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))};S.parseSigHex=function(e){var t=c.ECDSA.parseSigHexInHexRS(e);return{r:new l(t.r,16),s:new l(t.s,16)}},S.parseSigHexInHexRS=function(e){var t=ASN1HEX,r=t.getChildIdx,n=t.getV;if("30"!=e.substr(0,2))throw"signature is not a ASN.1 sequence";var a=r(e,0);if(2!=a.length)throw"number of signature ASN.1 sequence elements seem wrong";var i=a[0],s=a[1];if("02"!=e.substr(i,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=e.substr(s,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:n(e,i),s:n(e,s)}},S.asn1SigToConcatSig=function(e){var t=c.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if("00"==r.substr(0,2)&&r.length/2*8%128==8&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length/2*8%128==8&&(n=n.substr(2)),r.length/2*8%128!=0)throw"unknown ECDSA sig r length error";if(n.length/2*8%128!=0)throw"unknown ECDSA sig s length error";return r+n},S.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return c.ECDSA.hexRSSigToASN1Sig(t,r)},S.hexRSSigToASN1Sig=function(e,t){var r=new l(e,16),n=new l(t,16);return c.ECDSA.biRSSigToASN1Sig(r,n)},S.biRSSigToASN1Sig=function(e,t){var r=KJUR.asn1,n=new r.DERInteger({bigint:e}),a=new r.DERInteger({bigint:t});return new r.DERSequence({array:[n,a]}).getEncodedHex()},S.getName=function(e){return"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null};var F=[];c.ecdsa=new u,u.prototype.generateKeyPair=function(e,t){var r,n;return r=o(e),void 0===t&&(t={}),n=r.generateKeyPairHex(t.privateKey),{privateKey:f.setECPrivateKey(e,new l(n.ecprvhex,16),new l(n.ecpubhex,16)),publicKey:f.setECPublicKey(e,new l(n.ecpubhex,16))}},u.prototype.sign=function(e,t,r,n){var a,i,s=n||{};if(!(a=o(e.namedCurve)))throw"not supported curve";t=c.crypto.util.stringToArray(t),i=a.sign(t,e.d,s),r(i=c.crypto.util.arrayToString(i))},u.prototype.verify=function(e,t,r,n){var a,i=n||{};if(!(a=o(r.namedCurve)))throw"not supported curve";return e=c.crypto.util.stringToArray(e),t=c.crypto.util.stringToArray(t),r=r.Q.toByteArrayUnsigned(),a.verify(e,t,r,i)},e.exports=c.ecdsa},function(e,t,r){function n(e,t,r){var n,a,i=0,s=8*r.digestLength,u=t/s,l=t%s,p=0;for(r.start(),e=o.util.hexToBytes(e.toRadix(16));0==e.charCodeAt(p);)++p;for(a=c.ZERO,i=0;i<=u;++i)r.update(e,p,e.length-p),r.update(String.fromCharCode(i)),n=(n=r.digest()).getBytes(),V_i=new c(n,256),V_i.signum()<0&&(V_i=V_i.negate()),i==u&&(mod=c.ZERO.setBit(l),V_i=V_i.mod(mod)),0!=i&&(mod=c.ZERO.setBit(i*s),V_i=V_i.mod(mod)),a=a.add(V_i);return a}function a(e,t){var r,a,i,s=e.bitLength(),u={};switch(s){case 224:r=o.md.sha224.create();break;case 256:r=o.md.sha256.create();break;default:throw"not supported parameter Q length:"+s}if(t.hasOwnProperty("KKEY")&&t.hasOwnProperty("KSEED"))u.KKEY=t.KKEY,u.KSEED=t.KSEED,a=new c(u.KKEY,256),i=new c(u.KSEED,256);else{var l=function(e,t,r){for(var a;a=o.random.getBytes(e/8),(a=new c(a,256)).setBit(e),a.bitLength()<t.bitLength(););return KSEED=n(new c(o.random.getBytes(e/8),256),e,r),{KKEY:a,KSEED:KSEED}}(s,e,r);a=l.KKEY,i=l.KSEED}var p,f,h=a.add(i),d=c.ZERO.setBit(s);return o.consoleLog,o.consoleLog,h=h.mod(d),o.consoleLog,p=n(h,s,r),o.consoleLog,p=p.mod(e),o.consoleLog,f=n(p.add(i.mod(d)),s,r),a=a.add(f.mod(d)),p}function i(e,t){return t=parseInt(t/8),e.substring(e.length-t)}function s(){this.KKEY=null,this.KSEED=null}var o=r(1),u=o.asn1,c=o.jsbn.BigInteger;s.prototype.encodeRS=function(e,t){var r,n,a=[];return n=String.fromCharCode(0)+e.R.toBinary(t),(a=e.S.toBinary()).charCodeAt(0)>128&&(a=String.fromCharCode(0)+a),r=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,n),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,a)]),(r=u.toDer(r)).getBytes()},s.prototype.decodeRS=function(e){var t={};return e=o.asn1.fromDer(e),t.R=new c(e.value[0].value.substring(1),256),t.S=new c(e.value[1].value,256),t},s.prototype.sign=function(e,t,r,n){var s,u,l,p,f,h,d,y,g=n.digest;d=8*g.blockLength,s=e.params.P,u=e.params.Q,l=e.params.G,y=u.bitLength();var v=a(u,n);f=l.modPow(v,s).toBinary(),h=0,g.start(),g.update(f,h,f.length-h),p=g.digest().getBytes(),o.consoleLog,p=i(p,y),o.consoleLog,Y=function(e,t){var r=e.modInverse(t.Q);return t.G.modPow(r,t.P)}(e.X,e.params),o.consoleLog,h=(f=o.util.hexToBytes(Y.toRadix(16))).length-d/8,f=f.substr(h),o.consoleLog,g.start(),g.update(f,0,f.length),g.update(t,0,t.length),H=g.digest().getBytes(),o.consoleLog,H=i(H,y),o.consoleLog,(p=new c(p,256)).signum()<0&&(p=p.negate()),H=new c(H,256),H.signum()<0&&(H=H.negate());var m=p.xor(H);E=m.mod(u),o.consoleLog,S=v.subtract(E).multiply(e.X).mod(u),o.consoleLog,RS={R:p,S:S},r(RS)},s.prototype.verify=function(e,t,r,n,a){var s,u,l,p,f,h,d,y,g,v,m=n.digest;if(s=e.params.P,u=e.params.Q,l=e.params.G,(f=8*m.blockLength)>(p=u.bitLength())){if(p/8!=parseInt((r.R.bitLength()+7)/8))return void a(!1)}else if(f/8!=parseInt((r.R.bitLength()+7)/8))return void a(!1);return c.ZERO.max(r.S)!=r.S||r.S.max(u)!=u?void a(!1):(h=Y.toRadix(16),h=(h=o.util.hexToBytes(h)).substr(h.length-parseInt(f/8)),o.consoleLog,m.start(),m.update(h),m.update(t),y=i(y=m.digest().getBytes(),p),y=new c(y,256),o.consoleLog,g=r.R.xor(y).mod(u),o.consoleLog,v=(v=(v=Y.modPow(r.S,s)).multiply(l.modPow(g,s))).mod(s),o.consoleLog,h=v.toRadix(16),h=o.util.hexToBytes(h),m.start(),m.update(h),h=m.digest().getBytes(),o.consoleLog,h=i(h,p),o.consoleLog,d=new c(h,256),0!=r.R.compareTo(d)?void a(!1):void a(!0))},o.kcdsa=new s,e.exports=o.kcdsa},function(e,t,r){function n(e){var t=e.toString(16);return t[0]>="8"&&(t="00"+t),o.util.hexToBytes(t)}function a(e,t){var r=o.util.createBuffer(e.publicKeyModulus).toHex(),n=o.util.createBuffer(e.publicKeyExponent).toHex();return u.setRsaPublicKey(new l(r,16),new l(n,16),t)}function i(e,t){var r=o.util.createBuffer(e.y).toHex(),n=[];if(!c.validate(t,h,e,n))throw{message:"Cannot read public key parameter. ASN.1 object does not contain an KCDSAPublicKey Parameter.",errors:n};var a=o.util.createBuffer(e.P).toHex(),i=o.util.createBuffer(e.Q).toHex(),s=o.util.createBuffer(e.G).toHex();return u.setKcdsaPublicKey(new l(r,16),new l(a,16),new l(i,16),new l(s,16))}function s(e,t){var r=o.util.createBuffer(e.q).toHex();if(t.type==c.Type.OID){var n=c.derToOid(t.value);return n=u.oids[n],u.setECPublicKey(n,new l(r,16))}throw{message:"not implemented choice, only support oid type"}}var o=r(1),u=o.pki,c=o.asn1,l=o.jsbn.BigInteger,p={name:"RSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f={name:"KCDSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"y"},h={name:"KCDSAParameter",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"KCDSAParameter.P",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"P"},{name:"KCDSAParameter.Q",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"Q"},{name:"KCDSAParameter.G",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"G"}]},d={name:"ECDSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,construncted:!0,capture:"q"},y={name:"SubjectPublicKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"publicKey"}]};u.publicKeyValidator=y,u.publicKeyFromAsn1=function(e){var t,r,n={},o=[];if(!c.validate(e,y,n,o))throw{message:"can not read public key.",errors:o};var l=c.derToOid(n.publicKeyOid);switch(l){case u.oids.rsaEncryption:r=p;break;case u.oids.kcdsa:r=f;break;case u.oids.ecdsa:r=d;break;default:throw{message:"Cannot read public key. Unknown OID.",oid:l}}if(e.value[0].value.length>1&&(t=e.value[0].value[1]),e=(e=n.publicKey).substring(1),r==d)n.q=e;else if(e=c.fromDer(e),o=[],!c.validate(e,r,n,o))throw{message:"Cannot read public key. ASN.1 object does not contain an ECPublicKey.",errors:o};switch(r){default:case p:return a(n,t);case f:return i(n,t);case d:return s(n,t)}},u.setECPublicKey=function(e,t){var r={};return r.oid=u.oids.ecdsa,r.type="public",r.namedCurve=e,r.Q=t instanceof l?t:new l(o.util.bytesToHex(t),16),r},u.setKCDSAPublicKey=function(e,t,r,n,a,i){var s=new function(){this.oid=o.pki.oids.kcdsa,this.type="public",this.params={}};if(void 0===e||void 0===t||void 0===r||void 0===n)throw"need mandatory parameters (Y, P, Q, G)";return s.Y=e instanceof l?e:new l(e,256),s.params.P=t instanceof l?t:new l(t,256),s.params.Q=r instanceof l?r:new l(r,256),s.params.G=n instanceof l?n:new l(n,256),a&&(s.params.J=a instanceof l?a:new l(a,256)),i&&(s.params.validation=i),s},u.publicKeyToAsn1=u.publicKeyToSubjectPublicKeyInfo=function(e){var t,r,a;switch(e.oid){case u.oids.rsaEncryption:a=c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,""),r=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+c.toDer(u.publicKeyToRSAPublicKey(e)).bytes());break;case u.oids.kcdsa:(a=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[])).value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.params.P))),a.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.params.Q))),a.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.params.G))),r=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+c.toDer(u.publicKeyToKCDSAPublicKey(e)).bytes());break;case u.oids.ecdsa:a=c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(o.pki.oids.secp256r1).getBytes()),r=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+u.publicKeyToECPublicKey(e));break;default:throw"unknown public key oid:"+e.oid}return(t=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.oid).getBytes()),a])])).value.push(r),t},u.publicKeyToRSAPublicKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.n)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.e))])},u.publicKeyToKCDSAPublicKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.y))},u.publicKeyToECPublicKey=function(e){return n(e.Q)},e.exports=u},function(e,t,r){function n(e){var t=e.toString(16);return t[0]>="8"&&(t="00"+t),o.util.hexToBytes(t)}function a(e,t){var r,n,a,i,s,p,h,d,y={},g=[];if(!c.validate(e,f,y,g))throw{message:"Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.",errors:g};return r=o.util.createBuffer(y.privateKeyModulus).toHex(),n=o.util.createBuffer(y.privateKeyPublicExponent).toHex(),a=o.util.createBuffer(y.privateKeyPrivateExponent).toHex(),i=o.util.createBuffer(y.privateKeyPrime1).toHex(),s=o.util.createBuffer(y.privateKeyPrime2).toHex(),p=o.util.createBuffer(y.privateKeyExponent1).toHex(),h=o.util.createBuffer(y.privateKeyExponent2).toHex(),d=o.util.createBuffer(y.privateKeyCoefficient).toHex(),u.setRsaPrivateKey(new l(r,16),new l(n,16),new l(a,16),new l(i,16),new l(s,16),new l(p,16),new l(h,16),new l(d,16))}function i(e){if(1!=c.derToInteger(e.privateKeyVersion))throw"unknown ecprivatekey version";var t=c.derToOid(e.namedCurve);switch(t=u.oids[t]){case"secp256r1":t="P-256";break;default:throw"not implemented curve name:"+t}return u.setECPrivateKey(t,e.privateKey)}function s(e,t){var r,n,a,i;return r=new l(e.value,256),n=new l(t[0].value,256),a=new l(t[1].value,256),i=new l(t[2].value,256),t.length,u.setKCDSAPrivateKey(r,n,a,i,void 0,void 0)}var o=r(1),u=o.pki,c=o.asn1,l=o.jsbn.BigInteger,p={name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"privateKeyOid"},{name:"AlgorithmIdentifier.parameter",tagClass:c.Class.UNIVERSAL,type:c.Type.ANY,constructed:!1,capture:"keyParameter",optional:!0}]},{name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"privateKey"},{name:"PrivateKeyInfo.attributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,captureAsn1:"attributes",optional:!0}]},f={name:"RSAPrivateKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"ECPrivateKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"ECPrivateKey.privateKey",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"privateKey"},{name:"ECPrivateKey.parameters",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,capture:"namedCurve"}]},{name:"ECPrivateKey.publicKey",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"ECPrivateKey.publicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,capture:"publicKey"}]}]};u.privateKeyToAsn1=function(e){switch(e.oid){case o.pki.oids.rsaEncryption:return u.privateKeyToRSAPrivateKey(e);case o.pki.oids.ecdsa:return u.privateKeyToECPrivateKey(e);default:throw"not implemented oid:"+e.oid}},u.privateKeyToRSAPrivateKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(0).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.n)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.e)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.d)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.p)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.q)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.dP)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.dQ)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.qInv))])},u.privateKeyToECPrivateKey=function(e){var t,r,a;switch(e.namedCurve){default:case"P-256":a="secp256r1"}return a=u.oids[a],r=c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(a).getBytes()),e.hasOwnProperty("Q")&&(t=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+n(e.Q))),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(1)),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,n(e.d)),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[r]),t?c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[t]):void 0])},u.setECPrivateKey=function(e,t,r){var n={};return n.oid=o.pki.oids.ecdsa,n.type="private",n.namedCurve=e,n.d=t instanceof l?t:new l(o.util.bytesToHex(t),16),n.Q=r instanceof l?r:new l(o.util.bytesToHex(r),16),n},u.setKCDSAPrivateKey=function(e,t,r,n,a,i){var s={};if(void 0===e||void 0===t||void 0===r||void 0===n)throw"need mandatory parameters (X, P, Q, G)";return s.oid=o.pki.oids.kcdsa,s.type="private",s.params={},s.X=e instanceof l?e:new l(e,256),s.params.P=t instanceof l?t:new l(t,256),s.params.Q=r instanceof l?r:new l(r,256),s.params.G=n instanceof l?n:new l(n,256),a&&(s.params.J=a instanceof l?a:new l(a,256)),i&&(s.params.validation=i),s},u.privateKeyFromAsn1=function(e,t,r){var n={},u=[];return t==o.oids.kcdsa?s(e,r):(c.validate(e,p,n,u)&&(e=c.fromDer(o.util.createBuffer(n.privateKey)),void 0===t&&n.privateKeyOid&&(t=c.derToOid(n.privateKeyOid)),n.keyParameter&&!r&&(r=n.keyParameter)),u=[],n=[],c.validate(e,h,n,u)?i(n):a(e))},e.exports=u},function(e,t,r){function n(e,t,r,n,s){var l,p,f,h=n.algorithm,d={hash:{name:"SHA-256"}},y=!0,g=[],v=!0;switch(void 0===h&&(h="RSASSA-PKCS1-v1_5"),h){case"RSA-PSS":d.name="RSA-PSS",d.saltLength=n.saltLength||32,v=!0;break;case"RSASSA-PKCS1-v1_5":d.name="RSASSA-PKCS1-v1_5",v=!0;break;case"RSAES-PKCS1-v1_5":d.name="RSAES-PKCS1-v1_5",v=!1;break;case"RSAES-OAEP":d.name="RSAES_OAEP",v=!1;break;default:return void s(new a.error("not supported algorithm for cms signing:"+h))}if(a.useWebCrypto&&r&&u){if("private"==t)p=e,l=a.pki.privateKeyToAsn1(e),f="pkcs8",y=!1,v?g.push("sign"):g.push("decrypt");else try{l=a.pki.publicKeyToAsn1(e),p=a.pki.publicKeyFromAsn1(l),f="spki",v?g.push("verify"):g.push("encrypt")}catch(e){return void s(new a.error("ìì ìë í¤ ìëë¤:"+e))}(function(e,r,n){var s;switch(o.importWebCryptoPrivateKeyMethod){case"pkcs8":s=a.crypto.util.stringToArrayBuffer(r),f="pkcs8";break;case"jwk":var l=i.encode(e,p);f="jwk",o.wrapWebCryptoArrayBuffer?(l=JSON.stringify(l),s=a.crypto.util.stringToArrayBuffer(l)):s=l;break;default:return void n(new a.error("not supported importKey method:"+o.importWebCryptoPrivateKeyMethod))}c(u.importKey(f,s,d,y,g),function(e){n(new a.crypto.key(e,t,!0))},function(e){a.consoleLog,n(new a.error(e))})})(h,a.asn1.toDer(l).getBytes(),s)}else s(new a.crypto.key(e,t))}var a=r(1),i=r(36),s=r(37),o=a.getSettings(),u=o.subtle,c=function(e,t,r){return e.then?e.then(t,r):(e.onerror=r,e.oncomplete=function(){1==arguments.length&&arguments[0]instanceof Event&&(arguments[0]=arguments[0].target.result),t.apply(this,arguments)},e)};a.Promise=c,a.crypto.key=function(e,t,r){function n(e,t,r,n,i){a.consoleLog,n=a.crypto.util.hexToArrayBuffer(a.util.bytesToHex(n)),r=a.crypto.util.hexToArrayBuffer(a.util.bytesToHex(r)),c(u.verify(t,e.raw,r,n),function(e){a.consoleLog,i(e)},function(e){a.consoleLog,i(new a.error(e))})}if(void 0!==e){var l,p=0;if(this.raw=e,this.type=t,this.webcrypto=!(void 0===r||!r),this.webcrypto)void 0===t&&"type"in e&&(this.type=e.type);else switch(e.oid){case a.pki.oids.rsaEncryption:if(l="RSA",!e.hasOwnProperty("n")||!e.hasOwnProperty("e"))throw new a.error("bad rsa publickey");e.hasOwnProperty("p")&&e.hasOwnProperty("q")?this.type="private":this.type="public",p=e.n.bitLength();break;case a.pki.oids.kcdsa:l="KCDSA",p=e.params.P.bitLength(),e.hasOwnProperty("y")?this.type="public":this.type="private";break;case a.pki.oids.ecdsa:l="ECDSA",this.namedCurve=e.namedCurve,e.hasOwnProperty("type")&&(this.type=e.type);break;default:throw new a.error("not supported key")}this.getKeyAlgorithm=function(){return l},this.getKeySize=function(){return p},this.encrypt=function(e,t,r){var n,i,o;if(void 0!==t&&"RSA-OAEP"===t.name&&(i="RSA-OAEP","label"in t))throw new a.error("not supported OAEP label");return a.useWebCrypto&&this.webcrypto?void(this.raw.extractable?s.exportKeyInfo.call(this,function(t){t=a.pki.publicKeyFromAsn1(a.asn1.fromDer(t)),n=t.encrypt(e,i,o),r(n)}):s.encrypt.apply(this,arguments)):(n=this.raw.encrypt(e,i,o),void 0===r?n:void r(n))},this.decrypt=function(e,t,r){var n,i,s;if(void 0!==t&&"RSA-OAEP"===t.name&&(i="RSA-OAEP","label"in t))throw new a.error("not supported OAEP label");if(a.useWebCrypto&&this.webcrypto){if(this.raw.extractable)return void this.exportKeyInfo(function(t){t=a.pki.privateKeyFromAsn1(a.asn1.fromDer(t)),n=t.decrypt(e,i,s),r(n)});throw new yt.error("need extractable webcrypto key.")}try{n=this.raw.decrypt(e,i,s)}catch(e){if(r)return void r(new a.error(e))}return void 0===r?n:void r(n)},this.sign=function(e,t,r,n){if("private"===this.type)if(-1==e.name.indexOf("RSA"))if("ECDSA"!=e.name){if("KCDSA"!=e.name)throw"unknown algorithm:"+e.name;!function(e,t,r,n,i){var s,o={};if("RAW"===t.hash)throw"not supported hash";s=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()],o.digest=s.create(),a.kcdsa.sign(e.raw,r,function(t){t=a.kcdsa.encodeRS(t,e.raw.params.Q.bitLength()/8),n(t)},o)}(this,e,t,r)}else!function(e,t,r,n,i){var s,o;"RAW"!==t.hash?((s=(s=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()]).create()).update(r),o=s.digest().getBytes()):o=r,a.ecdsa.sign(e.raw,o,n,i)}(this,e,t,r,n);else!function(e,t,r,n){var i,s,o=0;if(a.consoleLog,t.hasOwnProperty("saltLength")?o=t.saltLength:(o=32,"RSA-PSS"===t.name&&(t.saltLength=o)),a.consoleLog,t.hash.hasOwnProperty("parameter")&&(s=t.hash.parameter),a.useWebCrypto&&e.webcrypto){if(void 0!==s)return void n(new a.error("webcrypto object does not support sign with parameter"));i=a.crypto.util.stringToArrayBuffer(r),a.consoleLog,c(u.sign(t,e.raw,i.buffer),function(e){a.consoleLog,n(a.crypto.util.arrayBufferToString(e))},function(e){a.consoleLog,n(new a.error(e))})}else{var l,p,f,h;t.inputTypeDigestInfo?(p=r,h=null):"RAW"!==t.hash?((p=(l=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()]).create()).update(r),a.consoleLog,void 0!==s&&(p.parameter=s),"RSA-PSS"===t.name&&(h=a.pss.create(p,a.mgf.mgf1.create(l.create()),o))):p={algorithm:"RAW",digest:function(){return new ByteBuffer(r)}},f=e.raw.sign(p,h),a.consoleLog,n(f)}}(this,e,t,r);else r(new a.error("publicKey can not sign a data"))},this.verify=function(e,t,r,i){return"public"!==this.type?void i(new a.error("privateKey can not verify a signature")):void(-1!=e.name.indexOf("RSA")?function(e,t,r,i,s){var o,u=0;if(a.consoleLog,o=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()],t.hasOwnProperty("saltLength")?u=t.saltLength:(u=32,"RSA-PSS"===t.name&&(t.saltLength=u)),a.consoleLog,a.useWebCrypto&&e.webcrypto)n(e,t,r,i,s);else{var c,l=o.create();a.consoleLog,a.consoleLog,t.inputTypeDigestInfo?c=a.asn1.fromDer(i).value[1].value:((l=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()].create()).update(i),c=l.digest().getBytes()),a.consoleLog;try{var p;"RSA-PSS"===t.name&&(p=a.pss.create(l,a.mgf.mgf1.create(o.create()),u));var f=e.raw.verify(c,r,p)}catch(e){return a.consoleLog,void s(new a.error(e.message?e.message:e))}s(f)}}(this,e,t,r,i):"ECDSA"==e.name?function(e,t,r,n,i){var s,o;"RAW"!==t.hash?((s=(s=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()]).create()).update(n),o=s.digest().getBytes()):o=n,i(a.ecdsa.verify(o,r,e.raw))}(this,e,t,r,i):"KCDSA"==e.name&&function(e,t,r,n,i){var s,o={};if("RAW"===t.hash)throw"not supported hash algorithm raw";s=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()],o.digest=s.create(),r=a.kcdsa.decodeRS(r),a.kcdsa.verify(e.raw,n,r,o,function(e){i(e)})}(this,e,t,r,i))},this.exportKeyInfo=function(e,t){function r(r,n){var i,s,o;if(n.hasOwnProperty("namedCurve")&&(i=a.asn1.oidToDer(a.pki.oids.secp256r1).getBytes()),"public"==r){if(a.consoleLog,s=a.pki.publicKeyToAsn1(n),t.rawPublicKey)return a.consoleLog,o=s.value[1].value.substring(1),void e(o,i)}else"private"==r&&(a.consoleLog,s=a.pki.privateKeyToAsn1(n));e(a.asn1.toDer(s).getBytes(),i)}function n(t){a.consoleLog,e(new a.error(t))}var s=this;if(t=t||{},!1!==a.useWebCrypto&&!1!==this.webcrypto){var l="";l="public"==this.type?o.exportWebCryptoPublicKeyMethod:o.exportWebCryptoPrivateKeyMethod;try{c(u.exportKey(l,this.raw),function(e){var t=e,n=null;if(o.wrapWebCryptoArrayBuffer){if(t=a.crypto.util.arrayBufferToString(e),"jwk"==l)try{n=JSON.parse(t)}catch(e){a.consoleLog}}else"jwk"==l&&(n=t);null!=n&&(t=i.decode(n)),r(s.type,t)},n)}catch(e){n(e)}}else r(this.type,this.raw)}}},a.crypto.key.fromBytes=function(e,t,r,i){var s,o,u,c="public";void 0===r&&(r={}),u=r.autoImport,o=a.asn1.fromDer(e);try{s=a.pki.privateKeyFromAsn1(o,i),c="private"}catch(e){try{s=a.pki.publicKeyFromAsn1(o),c="public"}catch(e){return a.consoleLog,void t(new a.error("ìì ìë í¤ ìëë¤:"+e))}}switch(void 0===i&&(i=s.oid),i){case a.pki.oids.kcdsa:!function(e,t,r,n){r(new a.crypto.key(e,t))}(s,c,t);break;case a.pki.oids.ecdsa:!function(e,t,r){r(new a.crypto.key(e,t))}(s,c,t);break;case a.pki.oids.rsaEncryption:default:n(s,c,u,r,t)}},a.crypto.key.fromString=function(e,t){return a.crypto.key.fromBytes(a.util.hexToBytes(e),t)},a.crypto.generateKey=function(e,t,r,n){if(a.crypto.handlers.generateKey)a.crypto.handlers.generateKey(e,t,r,n);else if(a.useWebCrypto&&u&&e.webcrypto&&"ECDSA"!=e.name)s.generateKey(e,t,r,n);else{var i;if(-1!=e.name.indexOf("RSA"))i=a.rsa.generateKeyPair(e.modulusLength,void 0!==e.publicExponent?e.publicExponent:65537);else{if("ECDSA"!=e.name)throw"unsupported algorithm name:"+e.name;i=a.ecdsa.generateKeyPair(e.namedCurve,e.options)}a.consoleLog,n({publicKey:new a.crypto.key(i.publicKey,"public"),privateKey:new a.crypto.key(i.privateKey,"private")})}},e.exports=a.crypto.key},function(e,t,r){function n(e){return e=s.crypto.util.decode64url(e),new s.jsbn.BigInteger(e,256)}function a(e){var t;return t=e.toString(16),s.crypto.util.encode64url(s.util.hexToBytes(t))}function i(){}var s=r(1);i.prototype.encode=function(e,t){var r={kty:"RSA",alg:"RS256"};return"RSA-PSS"==e&&(r.alg="PS256"),r.n=a(t.n),r.e=a(t.e),t.hasOwnProperty("d")&&(r.d=a(t.d),r.p=a(t.p),r.q=a(t.q),r.dp=a(t.dP),r.dq=a(t.dQ),r.qi=a(t.qInv)),r},i.prototype.decode=function(e){return!1===e.hasOwnProperty("d")?s.pki.setRsaPublicKey(n(e.n),n(e.e)):s.pki.setRsaPrivateKey(n(e.n),n(e.e),n(e.d),n(e.p),n(e.q),n(e.dp),n(e.dq),n(e.qi))},e.exports=new i},function(e,t,r){var n=r(1),a=r(36),i={},s=n.getSettings(),o=s.subtle,u=function(e,t,r){return e.then?e.then(t,r):(e.onerror=r,e.oncomplete=function(){1==arguments.length&&arguments[0]instanceof Event&&(arguments[0]=arguments[0].target.result),t.apply(this,arguments)},e)};i.encrypt=function(e,t,r){e=n.crypto.util.stringToArrayBuffer(e),u(o.encrypt(t,this.raw,e),function(e){n.consoleLog,r(n.crypto.util.arrayBufferToString(e))},function(e){n.consoleLog,r(new n.error(e))})},i.exportKeyInfo=function(e,t){function r(r,a){var i,s,o;if(a.hasOwnProperty("namedCurve")&&(i=n.asn1.oidToDer(n.pki.oids.secp256r1).getBytes()),"public"==r){if(n.consoleLog,s=n.pki.publicKeyToAsn1(a),t.rawPublicKey)return n.consoleLog,o=s.value[1].value.substring(1),void e(o,i)}else"private"==r&&(n.consoleLog,s=n.pki.privateKeyToAsn1(a));e(n.asn1.toDer(s).getBytes(),i)}function i(t){n.consoleLog,e(new n.error(t))}var c=this;if(t=t||{},!1!==n.useWebCrypto&&!1!==this.webcrypto){var l="";l="public"==this.type?s.exportWebCryptoPublicKeyMethod:s.exportWebCryptoPrivateKeyMethod;try{u(o.exportKey(l,this.raw),function(e){var t=e,i=null;if(s.wrapWebCryptoArrayBuffer){if(t=n.crypto.util.arrayBufferToString(e),"jwk"==l)try{i=JSON.parse(t)}catch(e){n.consoleLog}}else"jwk"==l&&(i=t);null!=i&&(t=a.decode(i)),r(c.type,t)},i)}catch(e){i(e)}}else r(this.type,this.raw)},i.generateKey=function(e,t,r,a){try{u(o.generateKey(e,t,r),function(e){publicKey=new n.crypto.key(e.publicKey,"public",!0),privateKey=new n.crypto.key(e.privateKey,"private",!0),n.consoleLog,a({publicKey:publicKey,privateKey:privateKey})},function(t){e===t&&(n.consoleLog,t="Unsupported Algorithm or Keysize(maybe)"),a(new n.error(t))})}catch(e){n.consoleLog,n.consoleLog,a(new n.error(e))}},e.exports=i},function(e,t,r){var n=r(1),a=n.hmac=n.hmac||{};a.create=function(){var e=null,t=null,r=null,a=null,i={start:function(i,s){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in n.md.algorithms))throw'Unknown hash algorithm "'+i+'"';t=n.md.algorithms[i].create()}else t=i;if(null===s)s=e;else{if("string"==typeof s)s=n.util.createBuffer(s);else if(n.util.isArray(s)){var o=s;s=n.util.createBuffer();for(var u=0;u<o.length;++u)s.putByte(o[u])}var c=s.length();c>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=n.util.createBuffer(),a=n.util.createBuffer(),c=s.length();for(u=0;u<c;++u){o=s.at(u);r.putByte(54^o),a.putByte(92^o)}if(c<t.blockLength)for(o=t.blockLength-c,u=0;u<o;++u)r.putByte(54),a.putByte(92);e=s,r=r.bytes(),a=a.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(a),t.update(e),t.digest()}};return i.digest=i.getMac,i},e.exports=a}])},function(e,t){
/*!
 * JSRose - Public Key Infrastructure & Cryptography ToolKit
 * Copyright All rights reserved by YettieSoft(c).
 * 
 * Version - 2.7.5
 * Date - 2020.1.22
 * 
 * Contributors
 *  - lovian@yettiesoft.com
 * 
 */
!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){window.ytcrypto=r(1),window.yt=r(39),e.exports=yt},function(e,t,r){function n(e){switch(e=e.toLowerCase()){case"seed":return a.seed;case"aes":return a.aes;case"des":return a.des;case"aria":return a.aria;default:throw"not supported blockCipher Algorithm:"+e}}var a={error:function(e,t){void 0===t&&(t=e,e=void 0),this.code=e,this.reason=[t],this.getCode=function(){return this.code},this.getReason=function(){return this.reason},this.pushReason=function(e){this.reason.push(e)}}};a.crypto=a.crypto||{},a.crypto.rsa={},a.crypto.blockCipher=function(e){this.cipher=e},a.crypto.blockCipher.prototype.start=function(e,t){return this.cipher.start(e,t)},a.crypto.blockCipher.prototype.update=function(e){return"string"==typeof e&&(e=a.util.createBuffer(e)),this.cipher.update(e)},a.crypto.blockCipher.prototype.output=null,a.crypto.blockCipher.prototype.finish=function(e){var t;return t=this.cipher.finish(e),this.output=this.cipher.output,t},a.crypto.blockCipher.createEncryptionCipher=function(e,t,r){var i;return i=n(e),new a.crypto.blockCipher(i.createEncryptionCipher(t,r))},a.crypto.blockCipher.createDecryptionCipher=function(e,t,r){var i;return i=n(e),new a.crypto.blockCipher(i.createDecryptionCipher(t,r))},a.crypto.random={},a.crypto.random.getBytes=function(e){return a.random.getBytesSync(e)},a.crypto.util={},"undefined"==typeof Uint8Array&&(Uint8Array=Array),a.crypto.util.stringToArray=function(e){var t;return e.split("").map(function(e){if((t=e.charCodeAt(0))>255)throw"input string is non ascii string";return t})},a.crypto.util.stringToArrayBuffer=function(e){var t;return new Uint8Array(e.split("").map(function(e){if((t=e.charCodeAt(0))>255)throw"input string is non ascii string";return t}))},a.crypto.util.hexToArrayBuffer=function(e){return new Uint8Array(e.match(/(..)/g).map(function(e){return parseInt(e,16)}))},a.crypto.util.arrayToString=function(e){return Array.prototype.map.call(e,function(e){return String.fromCharCode(e)}).join("")},a.crypto.util.arrayBufferToString=function(e){return Array.prototype.map.call(new Uint8Array(e),function(e){return String.fromCharCode(e)}).join("")},a.crypto.util.arrayBufferToHex=function(e){return Array.prototype.map.call(new Uint8Array(e),function(e){return("0"+e.toString(16)).slice(-2)}).join("")},a.crypto.util.encode64url=function(e){var t=a.util.encode64(e);return(t=(t=t.split("=")[0]).replace(/\+/g,"-")).replace(/\//g,"_")},a.crypto.util.decode64url=function(e){switch((e=(e=e.replace(/\-/g,"+")).replace(/\_/g,"/")).length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new yt.error("illegal base64url string")}return a.util.decode64(e)},a.crypto.handlers={},a.crypto.setHandler=function(e,t){if(void 0!==t)switch(e){case"generateKey":a.crypto.handlers[e]=t;break;default:throw"not supported handler - "+e}else delete a.crypto.handlers[e]};var i={create:function(){return{start:function(e,t){t.length>8&&(t=t.substring(0,8)),this._cipher=e.startEncrypting(a.util.createBuffer(t),a.util.hexToBytes("0000000000000000"))},update:function(e){"string"==typeof e&&(e=a.util.createBuffer(e)),this._cipher.update(e)},getMac:function(){var e,t;return this._cipher.finish(function(e,r,n){var a;return a=e-r.length()%e,r.fillWithByte(0,a),t=e,!0}),this._cipher.output.read=this._cipher.output.length()-t,e=this._cipher.output.getBytes(t),a.util.createBuffer(e)}}}};a.cmac=i,e.exports=a,r(2),r(3),r(4),r(5),r(11),r(13),r(14),r(15),r(16),r(18),r(19),r(20),r(21),r(22),r(23),r(24),r(25),r(26),r(27),r(28),r(29),r(30),r(31),r(32),r(24),r(33),r(34),r(35),r(38)},function(e,t,r){function n(e,t){this.n=e||this.DEFAULT_LENGTH,this.taps=i[this.n],t||(t=this._defaultSeed(this.n));var r=parseInt(Array(this.n+1).join("1"),2);this.register=t&r}var a=r(1);a.base={};var i={2:[2,1],3:[3,2],4:[4,3],5:[5,3],6:[6,5],7:[7,6],8:[8,6,5,4],9:[9,5],10:[10,7],11:[11,9],12:[12,11,10,4],13:[13,12,11,8],14:[14,13,12,2],15:[15,14],16:[16,14,13,11],17:[17,14],18:[18,11],19:[19,18,17,14],20:[20,17],21:[21,19],22:[22,21],23:[23,18],24:[24,23,22,17],25:[25,22],26:[26,6,2,1],27:[27,5,2,1],28:[28,25],29:[29,27],30:[30,6,4,1],31:[31,28]};n.prototype={TAPS:i,DEFAULT_LENGTH:31,shift:function(){var e,t=this.taps.length,r=this.register>>this.n-this.taps[0];for(e=1;e<t;e++)r^=this.register>>this.n-this.taps[e];return r&=1,this.register=this.register>>1|r<<this.n-1,1&r},seq:function(e){for(var t=0,r=0;r<e;r++)t=t<<1|this.shift();return t},seqString:function(e){for(var t="",r=0;r<e;r++)t+=this.shift();return t},maxSeqLen:function(){var e=this.register,t=0;do{this.shift(),t++}while(e!=this.register);return t},_defaultSeed:function(e){if(!e)throw new Error("n is required");return new n(8,92914).seq(e)}};var s=new n(31,(new Date).getTime());a.base.srnd=function(){var e=s.seq(31);return e="0."+e,parseFloat(e)},e.exports=a.base},function(e,t,r){var n,a,i=r(1),s={browserName:null,supportWebCrypto:!1,exportWebCryptoPublicKeyMethod:"spki",importWebCryptoPrivateKeyMethod:"pkcs8",exportWebCryptoPrivateKeyMethod:"pkcs8",wrapWebCryptoArrayBuffer:!1,useSJCL:!1};i.getSettings=function(){var e={};for(var t in s)e[t]=s[t];return e.version="getVersion"in i?i.getVersion():"dev version",e},i.error=function(e,t){void 0===t&&(t=e,e=void 0),this.code=e,this.reason=[t],this.getCode=function(){return this.code},this.getReason=function(){return this.reason},this.pushReason=function(e){this.reason.push(e)}},"undefined"!=typeof window&&(n=window.msCrypto||window.crypto),n&&(a=n.subtle||n.webkitSubtle);var o="";do{for(var u="undefined"!=typeof navigator?navigator.userAgent:"",c="undefined"!=typeof navigator?navigator.appVersion:"",l=c.split(" "),p={},f=0;f<l.length;++f)-1==l[f].indexOf("Chrome/")?-1==l[f].indexOf("Safari/")?-1==l[f].indexOf("Edge/")?-1==l[f].indexOf("Version/")?-1==l[f].indexOf("AppleWebKit/")||(p.AppleWebKit=l[f].split("/")[1],s.webkitVersion=p.AppleWebKit):p.Version=l[f].split("/")[1]:p.Edge=l[f].split("/")[1]:p.Safari=l[f].split("/")[1]:p.Chrome=l[f].split("/")[1];if(-1!=c.indexOf("OPR/")){o="Opera",s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk";break}if(p.hasOwnProperty("Edge")){o="Edge",s.browserVersion=p.Edge,s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk";break}if(p.hasOwnProperty("Chrome")){o="Chrome",s.browserVersion=p.Chrome,s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk",parseInt(p.Chrome)<37&&(o="Chrome under 37",a=void 0);break}if(p.hasOwnProperty("Safari")){o="Safari",s.browserVersion=p.Version,s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk",s.wrapWebCryptoArrayBuffer=!0,s.useSJCL=!0,parseInt(s.browserVersion)>=11?s.wrapWebCryptoArrayBuffer=!1:parseInt(s.browserVersion)<=9&&(a=void 0);break}if(-1!=c.indexOf("Trident")){o="Internet Explorer",s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk",s.wrapWebCryptoArrayBuffer=!0;break}if(-1!=u.indexOf("Firefox")){o="FireFox",s.importWebCryptoPrivateKeyMethod="jwk",s.exportWebCryptoPublicKeyMethod="jwk",s.exportWebCryptoPrivateKeyMethod="jwk";break}}while(0);"undefined"!=typeof location&&"https:"!=location.protocol&&(a=void 0,i.consoleLog),s.browserName=o,s.supportWebCrypto=!!a,void 0===a?(delete s.importWebCryptoPrivateKeyMethod,delete s.exportWebCryptoPrivateKeyMethod,delete s.exportWebCryptoPublicKeyMethod,delete s.wrapWebCryptoArrayBuffer):s.subtle=a,i.useWebCrypto=!0,e.exports=s},function(e,t,r){var n=r(1),a=n.util=n.util||{};a.setImmediate=function(e){setTimeout(e,0)},a.nextTick=a.setImmediate,a.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer};var i=[];"undefined"!=typeof Int8Array&&i.push(Int8Array),"undefined"!=typeof Uint8Array&&i.push(Uint8Array),"undefined"!=typeof Uint8ClampedArray&&i.push(Uint8ClampedArray),"undefined"!=typeof Int16Array&&i.push(Int16Array),"undefined"!=typeof Uint16Array&&i.push(Uint16Array),"undefined"!=typeof Int32Array&&i.push(Int32Array),"undefined"!=typeof Uint32Array&&i.push(Uint32Array),"undefined"!=typeof Float32Array&&i.push(Float32Array),"undefined"!=typeof Float64Array&&i.push(Float64Array),a.isArrayBufferView=function(e){for(var t=0;t<i.length;++t)if(e instanceof i[t])return!0;return!1},a.ByteBuffer=function(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(a.isArrayBuffer(e)||a.isArrayBufferView(e)){var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}},a.ByteBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteBuffer.prototype.putByte=function(e){return this.data+=String.fromCharCode(e),this},a.ByteBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this},a.ByteBuffer.prototype.putBytes=function(e){return this.data+=e,this},a.ByteBuffer.prototype.putString=function(e){return this.data+=a.encodeUtf8(e),this},a.ByteBuffer.prototype.putInt16=function(e){return this.data+=String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},a.ByteBuffer.prototype.putInt24=function(e){return this.data+=String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},a.ByteBuffer.prototype.putInt32=function(e){return this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},a.ByteBuffer.prototype.putInt16Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255),this},a.ByteBuffer.prototype.putInt24Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255),this},a.ByteBuffer.prototype.putInt32Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255),this},a.ByteBuffer.prototype.putInt=function(e,t){do{t-=8,this.data+=String.fromCharCode(e>>t&255)}while(t>0);return this},a.ByteBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},a.ByteBuffer.prototype.putBuffer=function(e){return this.data+=e.getBytes(),this},a.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},a.ByteBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},a.ByteBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},a.ByteBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},a.ByteBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},a.ByteBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},a.ByteBuffer.prototype.getInt=function(e){var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},a.ByteBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},a.ByteBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.ByteBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.ByteBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},a.ByteBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},a.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteBuffer.prototype.copy=function(){var e=a.createBuffer(this.data);return e.read=this.read,e},a.ByteBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},a.ByteBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},a.ByteBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=a.encodeUtf8(e)),new a.ByteBuffer(e)},a.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},a.xorBytes=function(e,t,r){for(var n="",a="",i="",s=0,o=0;r>0;--r,++s)a=e.charCodeAt(s)^t.charCodeAt(s),o>=10&&(n+=i,i="",o=0),i+=String.fromCharCode(a),++o;return n+i},a.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},a.bytesToHex=function(e){return a.createBuffer(e).toHex()},a.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];a.encode64=function(e,t){for(var r,n,a,i="",o="",u=0;u<e.length;)r=e.charCodeAt(u++),n=e.charCodeAt(u++),a=e.charCodeAt(u++),i+=s.charAt(r>>2),i+=s.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=s.charAt((15&n)<<2|a>>6),i+=isNaN(a)?"=":s.charAt(63&a)),t&&i.length>t&&(o+=i.substr(0,t)+"\r\n",i=i.substr(t));return o+i},a.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,a,i="",s=0;s<e.length;)t=o[e.charCodeAt(s++)-43],r=o[e.charCodeAt(s++)-43],n=o[e.charCodeAt(s++)-43],a=o[e.charCodeAt(s++)-43],i+=String.fromCharCode(t<<2|r>>4),64!==n&&(i+=String.fromCharCode((15&r)<<4|n>>2),64!==a&&(i+=String.fromCharCode((3&n)<<6|a)));return i},a.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},a.decodeUtf8=function(e){return decodeURIComponent(escape(e))},a.deflate=function(e,t,r){if(t=a.decode64(e.deflate(a.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},a.inflate=function(e,t,r){var n=e.inflate(a.encode64(t)).rval;return null===n?null:a.decode64(n)};var u=function(e,t,r){if(!e)throw{message:"WebStorage not available."};var n;if(null===r?n=e.removeItem(t):(r=a.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval)throw n.error},c=function(e,t){if(!e)throw{message:"WebStorage not available."};var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error)throw r.error;r=null}else r=r.rval;return null!==r&&(r=JSON.parse(a.decode64(r))),r},l=function(e,t,r,n){var a=c(e,t);null===a&&(a={}),a[r]=n,u(e,t,a)},p=function(e,t,r){var n=c(e,t);return null!==n&&(n=r in n?n[r]:null),n},f=function(e,t,r){var n=c(e,t);if(null!==n&&r in n){delete n[r];var a=!0;for(var i in n){a=!1;break}a&&(n=null),u(e,t,n)}},h=function(e,t){u(e,t,null)},d=function(e,t,r){var n=null;void 0===r&&(r=["web","flash"]);var a,i=!1,s=null;for(var o in r){a=r[o];try{if("flash"===a||"both"===a){if(null===t[0])throw{message:"Flash local storage not available."};n=e.apply(this,t),i="flash"===a}"web"!==a&&"both"!==a||(t[0]=localStorage,n=e.apply(this,t),i=!0)}catch(e){s=e}if(i)break}if(!i)throw s;return n};a.setItem=function(e,t,r,n,a){d(l,arguments,a)},a.getItem=function(e,t,r,n){return d(p,arguments,n)},a.removeItem=function(e,t,r,n){d(f,arguments,n)},a.clearItems=function(e,t,r){d(h,arguments,r)},a.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var y=null;a.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var a,i,s=r[n].indexOf("=");s>0?(a=r[n].substring(0,s),i=r[n].substring(s+1)):(a=r[n],i=null),a in t||(t[a]=[]),a in Object.prototype||null===i||t[a].push(unescape(i))}return t};return void 0===e?(null===y&&(y="undefined"==typeof window?{}:r(window.location.search.substring(1))),t=y):t=r(e),t},a.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:a.getQueryVariables(r)}},a.makeRequest=function(e){var t=a.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},a.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},a.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,a=t.length;n<a;){var i=t[n++];if(n==a)e[i]=r;else{var s=i in e;(!s||s&&"object"!=typeof e[i]||s&&null===e[i])&&(e[i]={}),e=e[i]}}},a.getPath=function(e,t,r){for(var n=0,a=t.length,i=!0;i&&n<a&&"object"==typeof e&&null!==e;){var s=t[n++];(i=s in e)&&(e=e[s])}return i?e:r},a.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var a=t[r++];if(r==n)delete e[a];else{if(!(a in e)||"object"!=typeof e[a]||null===e[a])break;e=e[a]}}},a.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},a.format=function(e){for(var t,r,n=/%./g,a=0,i=[],s=0;t=n.exec(e);){(r=e.substring(s,n.lastIndex-2)).length>0&&i.push(r),s=n.lastIndex;var o=t[0][1];switch(o){case"s":case"o":a<arguments.length?i.push(arguments[1+a++]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+o+"?>")}}return i.push(e.substring(s)),i.join("")},a.formatNumber=function(e,t,r,n){var a=e,i=isNaN(t=Math.abs(t))?2:t,s=void 0===r?",":r,o=void 0===n?".":n,u=a<0?"-":"",c=parseInt(a=Math.abs(+a||0).toFixed(i),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+o:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(i?s+Math.abs(a-c).toFixed(i).slice(2):"")},a.formatSize=function(e){return e>=1073741824?a.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?a.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?a.formatNumber(e/1024,0)+" KiB":a.formatNumber(e,0)+" bytes"},a.bytesFromIP=function(e){return-1!==e.indexOf(".")?a.bytesFromIPv4(e):-1!==e.indexOf(":")?a.bytesFromIPv6(e):null},a.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=a.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},a.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),n=a.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var s=a.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}else n.fillWithByte(0,r),r=0;return n.getBytes()},a.bytesToIP=function(e){return 4===e.length?a.bytesToIPv4(e):16===e.length?a.bytesToIPv6(e):null},a.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},a.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=a.bytesToHex(e[i]+e[i+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var o=r[r.length-1],u=t.length;o&&u===o.end+1?(o.end=u,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},a.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in a&&!e.update)return t(null,a.cores);if(void 0===typeof Worker)return a.cores=1,t(null,a.cores);if(void 0===typeof Blob)return a.cores=2,t(null,a.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,s){if(0===i){var o=Math.floor(n.reduce(function(e,t){return e+t},0)/n.length);return a.cores=Math.max(1,o),URL.revokeObjectURL(r),t(null,a.cores)}!function(e,t){for(var n=[],a=[],i=0;i<e;++i){var s=new Worker(r);s.addEventListener("message",function(r){if(a.push(r.data),a.length===e){for(var i=0;i<e;++i)n[i].terminate();t(null,a)}}),n.push(s)}for(var i=0;i<e;++i)n[i].postMessage(i)}(s,function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var a=t[n],i=r[n]=[],s=0;s<e;++s)if(n!==s){var o=t[s];(a.st>o.st&&a.st<o.et||o.st>a.st&&o.st<a.et)&&i.push(s)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}(s,r)),e(n,i-1,s)})}([],5,16)},e.exports=n.util},function(e,t,r){var n=r(1);n.md=n.md||{},r(6),r(7),r(8),r(9),r(10),n.getSettings().useSJCL&&(n.sha256=n.sha256_sjcl),n.md.algorithms={md5:n.md5,sha1:n.sha1,sha224:n.sha224,sha256:n.sha256},n.md.md5=n.md5,n.md.sha1=n.sha1,n.md.sha224=n.sha224,n.md.sha256=n.sha256,n.md.sha256_sjcl=n.sha256_sjcl,e.exports=n.md},function(e,t,r){var n=r(1),a=n.md5=n.md5||{};n.md=n.md||{},n.md.algorithms=n.md.algorithms||{},n.md.md5=n.md.algorithms.md5=a;var i=null,s=null,o=null,u=null,c=!1,l=function(e,t,r){for(var n,a,i,c,l,p,f,h=r.length();h>=64;){for(a=e.h0,i=e.h1,c=e.h2,l=e.h3,f=0;f<16;++f)t[f]=r.getInt32Le(),n=a+(l^i&(c^l))+u[f]+t[f],a=l,l=c,c=i,i+=n<<(p=o[f])|n>>>32-p;for(;f<32;++f)n=a+(c^l&(i^c))+u[f]+t[s[f]],a=l,l=c,c=i,i+=n<<(p=o[f])|n>>>32-p;for(;f<48;++f)n=a+(i^c^l)+u[f]+t[s[f]],a=l,l=c,c=i,i+=n<<(p=o[f])|n>>>32-p;for(;f<64;++f)n=a+(c^(i|~l))+u[f]+t[s[f]],a=l,l=c,c=i,i+=n<<(p=o[f])|n>>>32-p;e.h0=e.h0+a&4294967295,e.h1=e.h1+i&4294967295,e.h2=e.h2+c&4294967295,e.h3=e.h3+l&4294967295,h-=64}};a.create=function(){c||function(){i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],u=new Array(64);for(var e=0;e<64;++e)u[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));c=!0}();var e=null,t=n.util.createBuffer(),r=new Array(16),a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,start:function(){return a.messageLength=0,t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},a}};return a.start(),a.update=function(i,s){return"utf8"===s&&(i=n.util.encodeUtf8(i)),a.messageLength+=i.length,t.putBytes(i),l(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var s=a.messageLength,o=n.util.createBuffer();o.putBytes(t.bytes()),o.putBytes(i.substr(0,64-(s+8)%64)),o.putInt32Le(s<<3&4294967295),o.putInt32Le(s>>>29&255);var u={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};l(u,r,o);var c=n.util.createBuffer();return c.putInt32Le(u.h0),c.putInt32Le(u.h1),c.putInt32Le(u.h2),c.putInt32Le(u.h3),c},a},e.exports=a},function(e,t,r){var n=r(1),a=n.sha1=n.sha1||{};n.md=n.md||{},n.md.algorithms=n.md.algorithms||{},n.md.sha1=n.md.algorithms.sha1=a;var i=null,s=!1,o=function(e,t,r){for(var n,a,i,s,o,u,c,l=r.length();l>=64;){for(a=e.h0,i=e.h1,s=e.h2,o=e.h3,u=e.h4,c=0;c<16;++c)n=r.getInt32(),t[c]=n,n=(a<<5|a>>>27)+(o^i&(s^o))+u+1518500249+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<20;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(a<<5|a>>>27)+(o^i&(s^o))+u+1518500249+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<32;++c)n=(n=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|n>>>31,t[c]=n,n=(a<<5|a>>>27)+(i^s^o)+u+1859775393+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<40;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(a<<5|a>>>27)+(i^s^o)+u+1859775393+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<60;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(a<<5|a>>>27)+(i&s|o&(i^s))+u+2400959708+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;for(;c<80;++c)n=(n=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|n>>>30,t[c]=n,n=(a<<5|a>>>27)+(i^s^o)+u+3395469782+n,u=o,o=s,s=i<<30|i>>>2,i=a,a=n;e.h0+=a,e.h1+=i,e.h2+=s,e.h3+=o,e.h4+=u,l-=64}};a.create=function(){s||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),s=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,start:function(){return a.messageLength=0,t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a}};return a.start(),a.update=function(i,s){return"utf8"===s&&(i=n.util.encodeUtf8(i)),a.messageLength+=i.length,t.putBytes(i),o(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var s=a.messageLength,u=n.util.createBuffer();u.putBytes(t.bytes()),u.putBytes(i.substr(0,64-(s+8)%64)),u.putInt32(s>>>29&255),u.putInt32(s<<3&4294967295);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};o(c,r,u);var l=n.util.createBuffer();return l.putInt32(c.h0),l.putInt32(c.h1),l.putInt32(c.h2),l.putInt32(c.h3),l.putInt32(c.h4),l},a},e.exports=a},function(e,t,r){var n=r(1),a=n.sha224=n.sha224||{};n.md=n.md||{},n.md.algorithms=n.md.algorithms||{},n.md.sha224=n.md.algorithms.sha224=a;var i=null,s=!1,o=null,u=function(e,t,r){for(var n,a,i,s,u,c,l,p,f,h,d,y,g,v=r.length();v>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,a=((a=t[u-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,t[u]=n+t[u-7]+a+t[u-16]&4294967295;for(c=e.h0,l=e.h1,p=e.h2,f=e.h3,h=e.h4,d=e.h5,y=e.h6,g=e.h7,u=0;u<64;++u)i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&l|p&(c^l),n=g+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(y^h&(d^y))+o[u]+t[u],g=y,y=d,d=h,h=f+n&4294967295,f=p,p=l,l=c,c=n+(a=i+s)&4294967295;e.h0=e.h0+c&4294967295,e.h1=e.h1+l&4294967295,e.h2=e.h2+p&4294967295,e.h3=e.h3+f&4294967295,e.h4=e.h4+h&4294967295,e.h5=e.h5+d&4294967295,e.h6=e.h6+y&4294967295,e.h7=e.h7+g&4294967295,v-=64}};a.create=function(){s||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),a={algorithm:"sha224",blockLength:64,digestLength:28,messageLength:0,start:function(){return a.messageLength=0,t=n.util.createBuffer(),e={h0:3238371032,h1:914150663,h2:812702999,h3:4144912697,h4:4290775857,h5:1750603025,h6:1694076839,h7:3204075428},a}};return a.start(),a.update=function(i,s){return"utf8"===s&&(i=n.util.encodeUtf8(i)),a.messageLength+=i.length,t.putBytes(i),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var s=a.messageLength,o=n.util.createBuffer();o.putBytes(t.bytes()),o.putBytes(i.substr(0,64-(s+8)%64)),o.putInt32(s>>>29&255),o.putInt32(s<<3&4294967295);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(c,r,o);var l=n.util.createBuffer();return l.putInt32(c.h0),l.putInt32(c.h1),l.putInt32(c.h2),l.putInt32(c.h3),l.putInt32(c.h4),l.putInt32(c.h5),l.putInt32(c.h6),l},a},e.exports=a},function(e,t,r){var n=r(1),a=n.sha256=n.sha256||{};n.md=n.md||{},n.md.algorithms=n.md.algorithms||{},n.md.sha256=n.md.algorithms.sha256=a;var i=null,s=!1,o=null,u=function(e,t,r){for(var n,a,i,s,u,c,l,p,f,h,d,y,g,v=r.length();v>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,a=((a=t[u-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,t[u]=n+t[u-7]+a+t[u-16]&4294967295;for(c=e.h0,l=e.h1,p=e.h2,f=e.h3,h=e.h4,d=e.h5,y=e.h6,g=e.h7,u=0;u<64;++u)i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),s=c&l|p&(c^l),n=g+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(y^h&(d^y))+o[u]+t[u],g=y,y=d,d=h,h=f+n&4294967295,f=p,p=l,l=c,c=n+(a=i+s)&4294967295;e.h0=e.h0+c&4294967295,e.h1=e.h1+l&4294967295,e.h2=e.h2+p&4294967295,e.h3=e.h3+f&4294967295,e.h4=e.h4+h&4294967295,e.h5=e.h5+d&4294967295,e.h6=e.h6+y&4294967295,e.h7=e.h7+g&4294967295,v-=64}};a.create=function(){s||(i=String.fromCharCode(128),i+=n.util.fillString(String.fromCharCode(0),64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),a={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,start:function(){return a.messageLength=0,t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},a}};return a.start(),a.update=function(i,s){return"utf8"===s&&(i=n.util.encodeUtf8(i)),a.messageLength+=i.length,t.putBytes(i),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var s=a.messageLength,o=n.util.createBuffer();o.putBytes(t.bytes()),o.putBytes(i.substr(0,64-(s+8)%64)),o.putInt32(s>>>29&255),o.putInt32(s<<3&4294967295);var c={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(c,r,o);var l=n.util.createBuffer();return l.putInt32(c.h0),l.putInt32(c.h1),l.putInt32(c.h2),l.putInt32(c.h3),l.putInt32(c.h4),l.putInt32(c.h5),l.putInt32(c.h6),l.putInt32(c.h7),l},a},e.exports=a},function(e,t,r){var n=r(1),a={};a.bitArray={bitSlice:function(e,t,r){return e=a.bitArray._shiftRight(e.slice(t/32),32-(31&t)).slice(1),void 0===r?e:a.bitArray.clamp(e,r-t)},extract:function(e,t,r){var n=Math.floor(-t-r&31);return(-32&(t+r-1^t)?e[t/32|0]<<32-n^e[t/32+1|0]>>>n:e[t/32|0]>>>n)&(1<<r)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var r=e[e.length-1],n=a.bitArray.getPartial(r);return 32===n?e.concat(t):a.bitArray._shiftRight(t,n,0|r,e.slice(0,e.length-1))},bitLength:function(e){var t,r=e.length;return 0===r?0:(t=e[r-1],32*(r-1)+a.bitArray.getPartial(t))},clamp:function(e,t){if(32*e.length<t)return e;var r=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,r>0&&t&&(e[r-1]=a.bitArray.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:function(e,t,r){return 32===e?t:(r?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(a.bitArray.bitLength(e)!==a.bitArray.bitLength(t))return!1;var r,n=0;for(r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},_shiftRight:function(e,t,r,n){var i,s,o;for(void 0===n&&(n=[]);t>=32;t-=32)n.push(r),r=0;if(0===t)return n.concat(e);for(i=0;i<e.length;i++)n.push(r|e[i]>>>t),r=e[i]<<32-t;return o=e.length?e[e.length-1]:0,s=a.bitArray.getPartial(o),n.push(a.bitArray.partial(t+s&31,t+s>32?r:n.pop(),1)),n},_xor4:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,r;for(t=0;t<e.length;++t)r=e[t],e[t]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return e}},a.codec={},a.codec.hex={fromBits:function(e){var t,r="";for(t=0;t<e.length;t++)r+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return r.substr(0,a.bitArray.bitLength(e)/4)},toBits:function(e){var t,r,n=[];for(r=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)n.push(0^parseInt(e.substr(t,8),16));return a.bitArray.clamp(n,4*r)}},a.codec.utf8String={fromBits:function(e){var t,r,n="",i=a.bitArray.bitLength(e);for(t=0;t<i/8;t++)0==(3&t)&&(r=e[t/4]),n+=String.fromCharCode(r>>>8>>>8>>>8),r<<=8;return decodeURIComponent(escape(n))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,r=[],n=0;for(t=0;t<e.length;t++)n=n<<8|e.charCodeAt(t),3==(3&t)&&(r.push(n),n=0);return 3&t&&r.push(a.bitArray.partial(8*(3&t),n)),r}},a.hash={},a.hash.sha256=function(e){this._key[0]||this._precompute(),e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()},a.hash.sha256.hash=function(e){return(new a.hash.sha256).update(e).finalize()},a.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(e){"string"==typeof e&&(e=a.codec.utf8String.toBits(e));var t,r=this._buffer=a.bitArray.concat(this._buffer,e),n=this._length,i=this._length=n+a.bitArray.bitLength(e);if(i>9007199254740991)throw new a.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var s=new Uint32Array(r),o=0;for(t=512+n-(512+n&511);t<=i;t+=512)this._block(s.subarray(16*o,16*(o+1))),o+=1;r.splice(0,16*o)}else for(t=512+n-(512+n&511);t<=i;t+=512)this._block(r.splice(0,16));return this},finalize:function(){var e,t=this._buffer,r=this._h;for(e=(t=a.bitArray.concat(t,[a.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this._length/4294967296)),t.push(0|this._length);t.length;)this._block(t.splice(0,16));return this.reset(),r},_init:[],_key:[],_precompute:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,r,n=0,a=2;n<64;a++){for(r=!0,t=2;t*t<=a;t++)if(a%t==0){r=!1;break}r&&(n<8&&(this._init[n]=e(Math.pow(a,.5))),this._key[n]=e(Math.pow(a,1/3)),n++)}},_block:function(e){var t,r,n,a,i=this._h,s=this._key,o=i[0],u=i[1],c=i[2],l=i[3],p=i[4],f=i[5],h=i[6],d=i[7];for(t=0;t<64;t++)t<16?r=e[t]:(n=e[t+1&15],a=e[t+14&15],r=e[15&t]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(a>>>17^a>>>19^a>>>10^a<<15^a<<13)+e[15&t]+e[t+9&15]|0),r=r+d+(p>>>6^p>>>11^p>>>25^p<<26^p<<21^p<<7)+(h^p&(f^h))+s[t],d=h,h=f,f=p,p=l+r|0,l=c,c=u,o=r+((u=o)&c^l&(u^c))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;i[0]=i[0]+o|0,i[1]=i[1]+u|0,i[2]=i[2]+c|0,i[3]=i[3]+l|0,i[4]=i[4]+p|0,i[5]=i[5]+f|0,i[6]=i[6]+h|0,i[7]=i[7]+d|0}};var i={create:function(){var e=new a.hash.sha256;return e.reset(),{algorithm:"sha256",blockLength:64,digestLength:32,start:function(){e.reset()},update:function(t){return t=n.util.bytesToHex(t),t=a.codec.hex.toBits(t),e.update(t),this},digest:function(){var t;return t=e.finalize(),t=a.codec.hex.fromBits(t),t=n.util.hexToBytes(t),n.util.createBuffer(t)}}}};n.sha256_sjcl=i,n.md.sha256_sjcl=i,e.exports=n.sha256_sjcl},function(e,t,r){(function(t){var n=r(1);void 0!==t&&t.versions&&t.versions.node;n.disableNativeCode,(n.prng=n.prng||{}).create=function(e){function t(e){if(s.pools[0].messageLength>=32)return a(),e();var t=32-s.pools[0].messageLength<<5;s.seedFile(t,function(t,r){return t?e(t):(s.collect(r),a(),void e())})}function r(){if(s.pools[0].messageLength>=32)return a();var e=32-s.pools[0].messageLength<<5;s.collect(s.seedFileSync(e)),a()}function a(){var e=n.md.sha1.create();e.update(s.pools[0].digest().getBytes()),s.pools[0].start();for(var t=1,r=1;r<32;++r)(t=31===t?2147483648:t<<2)%s.reseeds==0&&(e.update(s.pools[r].digest().getBytes()),s.pools[r].start());var a=e.digest().getBytes();e.start(),e.update(a);var i=e.digest().getBytes();s.key=s.plugin.formatKey(a),s.seed=s.plugin.formatSeed(i),++s.reseeds,s.generated=0,s.time=+new Date}function i(e){var t=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(t=function(e){return r.getRandomValues(e)})}var a=n.util.createBuffer();if(t)for(;a.length()<e;){var i=Math.max(1,Math.min(e-a.length(),65536)/4),s=new Uint32Array(Math.floor(i));try{t(s);for(var o=0;o<s.length;++o)a.putInt32(s[o])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(a.length()<e)for(var u,c,l,p=Math.floor(65536*ytcrypto.base.srnd());a.length()<e;){c=16807*(65535&p),c+=(32767&(u=16807*(p>>16)))<<16,p=4294967295&(c=(2147483647&(c+=u>>15))+(c>>31));for(o=0;o<3;++o)l=p>>>(o<<3),l^=Math.floor(256*ytcrypto.base.srnd()),a.putByte(String.fromCharCode(255&l))}return a.getBytes(e)}for(var s={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0},o=e.md,u=new Array(32),c=0;c<32;++c)u[c]=o.create();return s.pools=u,s.pool=0,s.generate=function(e,r){if(!r)return s.generateSync(e);var a=s.plugin.cipher,i=s.plugin.increment,o=s.plugin.formatKey,u=s.plugin.formatSeed,c=n.util.createBuffer();!function l(p){if(p)return r(p);if(c.length()>=e)return r(null,c.getBytes(e));if(s.generated>=1048576){var f=+new Date;(null===s.time||f-s.time>100)&&(s.key=null)}if(null===s.key)return t(l);var h=a(s.key,s.seed);s.generated+=h.length,c.putBytes(h),s.key=o(a(s.key,i(s.seed))),s.seed=u(a(s.key,s.seed)),n.util.setImmediate(l)}()},s.generateSync=function(e){for(var t=s.plugin.cipher,a=s.plugin.increment,i=s.plugin.formatKey,o=s.plugin.formatSeed,u=n.util.createBuffer();u.length()<e;){if(s.generated>=1048576){var c=+new Date;(null===s.time||c-s.time>100)&&(s.key=null)}null===s.key&&r();var l=t(s.key,s.seed);s.generated+=l.length,u.putBytes(l),s.key=i(t(s.key,a(s.seed))),s.seed=o(t(s.key,s.seed))}return u.getBytes(e)},s.seedFile=function(e,t){try{t(null,i(e))}catch(e){t(e)}},s.seedFileSync=i,s.collect=function(e){for(var t=e.length,r=0;r<t;++r)s.pools[s.pool].update(e.substr(r,1)),s.pool=31===s.pool?0:s.pool+1},s.collectInt=function(e,t){for(var r="",n=0;n<t;n+=8)r+=String.fromCharCode(e>>n&255);s.collect(r)},s.registerWorker=function(e){e===self?s.seedFile=function(e,t){self.addEventListener("message",function e(r){var n=r.data;n.yt&&n.yt.prng&&(self.removeEventListener("message",e),t(n.yt.prng.err,n.yt.prng.bytes))}),self.postMessage({yt:{prng:{needed:e}}})}:e.addEventListener("message",function(t){var r=t.data;r.yt&&r.yt.prng&&s.seedFile(r.yt.prng.needed,function(t,r){e.postMessage({yt:{prng:{err:t,bytes:r}}})})})},s},e.exports=n.prng}).call(t,r(12))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function a(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(){d&&f&&(d=!1,f.length?h=f.concat(h):y=-1,h.length&&s())}function s(){if(!d){var e=a(i);d=!0;for(var t=h.length;t;){for(f=h,h=[];++y<t;)f&&f[y].run();y=-1,t=h.length}f=null,d=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function o(e,t){this.fun=e,this.array=t}function u(){}var c,l,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var f,h=[],d=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new o(e,t)),1!==h.length||d||a(s)},o.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,r){(function(t){var n=r(1),a={},i=new Array(4),s=n.util.createBuffer();a.formatKey=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),n.aes._expandKey(e,!1)},a.formatSeed=function(e){var t=n.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},a.cipher=function(e,t){return n.aes._updateBlock(e,t,i,!1),s.putInt32(i[0]),s.putInt32(i[1]),s.putInt32(i[2]),s.putInt32(i[3]),s.getBytes()},a.increment=function(e){return++e[3],e},a.md=n.md.sha1;var o=n.prng.create(a);void 0!==t&&t.versions&&t.versions.node;if("undefined"!=typeof window){var u=window.crypto||window.msCrypto;u&&u.getRandomValues&&function(e){return u.getRandomValues(e)}}if(n.random)for(var c in o)n.random[c]=o[c];else n.random=o;n.random.getBytes=function(e,t){return n.random.generate(e,t)},n.random.getBytesSync=function(e){return n.random.generate(e)},e.exports=n.random}).call(t,r(12))},function(e,t,r){var n=r(1),a=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],s=function(e,t){return e<<t&65535|(65535&e)>>16-t},o=function(e,t){return(65535&e)>>t|e<<16-t&65535};n.rc2=n.rc2||{},n.rc2.expandKey=function(e,t){"string"==typeof e&&(e=n.util.createBuffer(e)),t=t||128;var r,i=e,s=e.length(),o=t,u=Math.ceil(o/8),c=255>>(7&o);for(r=s;r<128;r++)i.putByte(a[i.at(r-1)+i.at(r-s)&255]);for(i.setAt(128-u,a[i.at(128-u)&c]),r=127-u;r>=0;r--)i.setAt(r,a[i.at(r+1)^i.at(r+u)]);return i};var u=function(e,t,r){var a,u,c,l,p=!1,f=null,h=null,d=null,y=[];for(e=n.rc2.expandKey(e,t),c=0;c<64;c++)y.push(e.getInt16Le());r?(a=function(e){for(c=0;c<4;c++)e[c]+=y[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),e[c]=s(e[c],i[c]),l++},u=function(e){for(c=0;c<4;c++)e[c]+=y[63&e[(c+3)%4]]}):(a=function(e){for(c=3;c>=0;c--)e[c]=o(e[c],i[c]),e[c]-=y[l]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),l--},u=function(e){for(c=3;c>=0;c--)e[c]-=y[63&e[(c+3)%4]]});var g=function(e){var t=[];for(c=0;c<4;c++){var n=f.getInt16Le();null!==d&&(r?n^=d.getInt16Le():d.putInt16Le(n)),t.push(65535&n)}l=r?0:63;for(var a=0;a<e.length;a++)for(var i=0;i<e[a][0];i++)e[a][1](t);for(c=0;c<4;c++)null!==d&&(r?d.putInt16Le(t[c]):t[c]^=d.getInt16Le()),h.putInt16Le(t[c])},v=null;return v={start:function(e,t){e&&"string"==typeof e&&(e=n.util.createBuffer(e)),p=!1,f=n.util.createBuffer(),h=t||new n.util.createBuffer,d=e,v.output=h},update:function(e){for(p||f.putBuffer(e);f.length()>=8;)g([[5,a],[1,u],[6,a],[1,u],[5,a]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,f,!r);else{var n=8===f.length()?8:8-f.length();f.fillWithByte(n,n)}if(t&&(p=!0,v.update()),!r&&(t=0===f.length()))if(e)t=e(8,h,!r);else{var a=h.length(),i=h.at(a-1);i>a?t=!1:h.truncate(i)}return t}}};n.rc2.startEncrypting=function(e,t,r){var a=n.rc2.createEncryptionCipher(e,128);return a.start(t,r),a},n.rc2.createEncryptionCipher=function(e,t){return u(e,t,!0)},n.rc2.startDecrypting=function(e,t,r){var a=n.rc2.createDecryptionCipher(e,128);return a.start(t,r),a},n.rc2.createDecryptionCipher=function(e,t){return u(e,t,!1)},e.exports=n.rc2},function(e,t,r){var n,a,i,s,o,u=r(1),c=!1,l=4,p=function(){c=!0,i=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;n=new Array(256),a=new Array(256),s=new Array(4),o=new Array(4);for(t=0;t<4;++t)s[t]=new Array(256),o[t]=new Array(256);var r,u,l,p,f,h,d,y=0,g=0;for(t=0;t<256;++t){p=(p=g^g<<1^g<<2^g<<3^g<<4)>>8^255&p^99,n[y]=p,a[p]=y,h=(f=e[p])<<24^p<<16^p<<8^p^f,d=((r=e[y])^(u=e[r])^(l=e[u]))<<24^(y^l)<<16^(y^u^l)<<8^y^r^l;for(var v=0;v<4;++v)s[v][y]=h,o[v][p]=d,h=h<<24|h>>>8,d=d<<24|d>>>8;0===y?y=g=1:(y=r^e[e[e[r^l]]],g^=e[e[g]])}},f=function(e,t){for(var r,a=e.slice(0),s=1,u=a.length,c=l*(u+6+1),p=u;p<c;++p)r=a[p-1],p%u==0?(r=n[r>>>16&255]<<24^n[r>>>8&255]<<16^n[255&r]<<8^n[r>>>24]^i[s]<<24,s++):u>6&&p%u==4&&(r=n[r>>>24]<<24^n[r>>>16&255]<<16^n[r>>>8&255]<<8^n[255&r]),a[p]=a[p-u]^r;if(t){for(var f,h=o[0],d=o[1],y=o[2],g=o[3],v=a.slice(0),m=(p=0,(c=a.length)-l);p<c;p+=l,m-=l)if(0===p||p===c-l)v[p]=a[m],v[p+1]=a[m+3],v[p+2]=a[m+2],v[p+3]=a[m+1];else for(var C=0;C<l;++C)f=a[m+C],v[p+(3&-C)]=h[n[f>>>24]]^d[n[f>>>16&255]]^y[n[f>>>8&255]]^g[n[255&f]];a=v}return a},h=function(e,t,r,i){var u,c,l,p,f,h,d,y,g,v,m,C,E=e.length/4-1;i?(u=o[0],c=o[1],l=o[2],p=o[3],f=a):(u=s[0],c=s[1],l=s[2],p=s[3],f=n),h=t[0]^e[0],d=t[i?3:1]^e[1],y=t[2]^e[2],g=t[i?1:3]^e[3];for(var S=3,F=1;F<E;++F)v=u[h>>>24]^c[d>>>16&255]^l[y>>>8&255]^p[255&g]^e[++S],m=u[d>>>24]^c[y>>>16&255]^l[g>>>8&255]^p[255&h]^e[++S],C=u[y>>>24]^c[g>>>16&255]^l[h>>>8&255]^p[255&d]^e[++S],g=u[g>>>24]^c[h>>>16&255]^l[d>>>8&255]^p[255&y]^e[++S],h=v,d=m,y=C;r[0]=f[h>>>24]<<24^f[d>>>16&255]<<16^f[y>>>8&255]<<8^f[255&g]^e[++S],r[i?3:1]=f[d>>>24]<<24^f[y>>>16&255]<<16^f[g>>>8&255]<<8^f[255&h]^e[++S],r[2]=f[y>>>24]<<24^f[g>>>16&255]<<16^f[h>>>8&255]<<8^f[255&d]^e[++S],r[i?1:3]=f[g>>>24]<<24^f[h>>>16&255]<<16^f[d>>>8&255]<<8^f[255&y]^e[++S]},d=function(e,t,r,n,a){var i=null;if(c||p(),a=(a||"CBC").toUpperCase(),"string"!=typeof e||16!==e.length&&24!==e.length&&32!==e.length){if(u.util.isArray(e)&&(16===e.length||24===e.length||32===e.length))for(var s=e,o=(e=u.util.createBuffer(),0);o<s.length;++o)e.putByte(s[o])}else e=u.util.createBuffer(e);if(!u.util.isArray(e)){s=e;e=[];var d=s.length();if(16===d||24===d||32===d){d>>>=2;for(o=0;o<d;++o)e.push(s.getInt32())}}if(!u.util.isArray(e)||4!==e.length&&6!==e.length&&8!==e.length)return i;var y,g,v,m,C,E,S,F=-1!==["CFB","OFB","CTR"].indexOf(a),T="CBC"===a,I=f(e,n&&!F),A=l<<2;if(i={output:null},"CBC"===a)S=function(){if(n)for(var e=0;e<l;++e)v[e]=y.getInt32();else for(e=0;e<l;++e)v[e]=C[e]^y.getInt32();if(h(I,v,m,n),n){for(e=0;e<l;++e)g.putInt32(C[e]^m[e]);C=v.slice(0)}else{for(e=0;e<l;++e)g.putInt32(m[e]);C=m}};else if("CFB"===a)S=function(){h(I,v,m,!1);for(var e=0;e<l;++e)v[e]=y.getInt32();for(e=0;e<l;++e){var t=v[e]^m[e];n||(v[e]=t),g.putInt32(t)}};else if("OFB"===a)S=function(){h(I,v,m,!1);for(var e=0;e<l;++e)v[e]=y.getInt32();for(e=0;e<l;++e)g.putInt32(v[e]^m[e]),v[e]=m[e]};else if("CTR"===a)S=function(){h(I,v,m,!1);for(var e=l-1;e>=0;--e){if(4294967295!==v[e]){++v[e];break}v[e]=0}for(e=0;e<l;++e)g.putInt32(y.getInt32()^m[e])};else{if("ECB"!==a)throw{message:'Unsupported block cipher mode of operation: "'+a+'"'};S=function(){for(var e=0;e<l;++e)v[e]=y.getInt32();for(h(I,v,m,n),e=0;e<l;++e)g.putInt32(m[e])}}return i.update=function(e){for(E||y.putBuffer(e);y.length()>=A||y.length()>0&&E;)S()},i.finish=function(e){var t=!0,r=y.length()%A;if(!n)if(e)t=e(A,y,n);else if(T){var a=y.length()===A?A:A-y.length();y.fillWithByte(a,a)}if(t&&(E=!0,i.update()),n&&(T&&(t=0===r),t))if(e)t=e(A,g,n);else if(T){var s=g.length(),o=g.at(s-1);o>l<<2?t=!1:g.truncate(o)}return!T&&!e&&r>0&&g.truncate(A-r),t},i.start=function(e,t){if(null===e&&(e=C.slice(0)),void 0===e&&(e="0000000000000000"),"string"==typeof e&&16===e.length)e=u.util.createBuffer(e);else if(u.util.isArray(e)&&16===e.length)for(var r=e,n=(e=u.util.createBuffer(),0);n<16;++n)e.putByte(r[n]);if(!u.util.isArray(e)){r=e;(e=new Array(4))[0]=r.getInt32(),e[1]=r.getInt32(),e[2]=r.getInt32(),e[3]=r.getInt32()}if(y=u.util.createBuffer(),g=t||u.util.createBuffer(),C=e.slice(0),v=new Array(l),m=new Array(l),E=!1,i.output=g,-1!==["CFB","OFB","CTR"].indexOf(a)){for(n=0;n<l;++n)v[n]=C[n];C=null}},null!==t&&i.start(t,r),i};u.aes=u.aes||{},u.aes.startEncrypting=function(e,t,r,n){return d(e,t,r,!1,n)},u.aes.createEncryptionCipher=function(e,t){return d(e,null,null,!1,t)},u.aes.startDecrypting=function(e,t,r,n){return d(e,t,r,!0,n)},u.aes.createDecryptionCipher=function(e,t){return d(e,null,null,!0,t)},u.aes._expandKey=function(e,t){return c||p(),f(e,t)},u.aes._updateBlock=h,e.exports=u.aes},function(e,t,r){var n=r(1),a=r(17),i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],s=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],h=function(e,t,r){function h(e,t,r){var n,a,h=e[0],y=e[1];a=3===E?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],h^=(n=252645135&(h>>>4^y))<<4,h^=(n=65535&(h>>>16^(y^=n)))<<16,h^=n=858993459&((y^=n)>>>2^h),h^=n=16711935&((y^=n<<2)>>>8^h),h=(h^=(n=1431655765&(h>>>1^(y^=n<<8)))<<1)<<1|h>>>31,y=(y^=n)<<1|y>>>31;for(var g=0;g<E;g+=3){for(var v=a[g+1],m=a[g+2],C=a[g];C!=v;C+=m){var S=y^d[C],F=(y>>>4|y<<28)^d[C+1];n=h,h=y,y=n^(s[S>>>24&63]|u[S>>>16&63]|l[S>>>8&63]|f[63&S]|i[F>>>24&63]|o[F>>>16&63]|c[F>>>8&63]|p[63&F])}n=h,h=y,y=n}y=y>>>1|y<<31,y^=n=1431655765&((h=h>>>1|h<<31)>>>1^y),y^=(n=16711935&(y>>>8^(h^=n<<1)))<<8,y^=(n=858993459&(y>>>2^(h^=n)))<<2,y^=n=65535&((h^=n)>>>16^y),y^=n=252645135&((h^=n<<16)>>>4^y),h^=n<<4,t[0]=h,t[1]=y}"string"!=typeof e||8!==e.length&&24!==e.length||(e=n.util.createBuffer(e));var d=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],a=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],p=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=e.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],C=0,E=0;E<g;E++){var S=e.getInt32(),F=e.getInt32();S^=(t=252645135&(S>>>4^F))<<4,S^=t=65535&((F^=t)>>>-16^S),S^=(t=858993459&(S>>>2^(F^=t<<-16)))<<2,S^=t=65535&((F^=t)>>>-16^S),S^=(t=1431655765&(S>>>1^(F^=t<<-16)))<<1,S^=t=16711935&((F^=t)>>>8^S),t=(S^=(t=1431655765&(S>>>1^(F^=t<<8)))<<1)<<8|(F^=t)>>>20&240,S=F<<24|F<<8&16711680|F>>>8&65280|F>>>24&240,F=t;for(var T=0;T<m.length;T++){m[T]?(S=S<<2|S>>>26,F=F<<2|F>>>26):(S=S<<1|S>>>27,F=F<<1|F>>>27);var I=r[(S&=-15)>>>28]|n[S>>>24&15]|a[S>>>20&15]|i[S>>>16&15]|s[S>>>12&15]|o[S>>>8&15]|u[S>>>4&15],A=c[(F&=-15)>>>28]|l[F>>>24&15]|p[F>>>20&15]|f[F>>>16&15]|h[F>>>12&15]|d[F>>>8&15]|y[F>>>4&15];t=65535&(A>>>16^I),v[C++]=I^t,v[C++]=A^t<<16}}return v}(e),y=(r=r?r.toLowerCase():"cbc",null),g=[],v=!1,m=null,C=null,E=32===d.length?3:9,S=null;return S={start:function(e,t){if(e?("string"==typeof e&&8===e.length&&(e=n.util.createBuffer(e)),g[0]=e.getInt32(),g[1]=e.getInt32(),y=a.getModeFunction(r,2,g)):y=a.getModeFunction("ecb",2,null),null==y)throw"unsupported mode:"+r;v=!1,m=n.util.createBuffer(),C=t||n.util.createBuffer(),S.output=C},update:function(e){v||m.putBuffer(e),y(h,m,C,!t)},finish:function(e){var n=!0;if(t&&"ofb8"!==r)if(e)n=e(8,m,!t);else{var a=8===m.length()?8:8-m.length();m.fillWithByte(a,a)}if("ofb8"===r&&(n=!1),n&&(v=!0,y(h,m,C,!t)),!t&&(n=0===m.length()))if(e)n=e(8,C,!t);else{var i=C.length(),s=C.at(i-1);s>i?n=!1:C.truncate(s)}return n}}};n.des=n.des||{},n.des.startEncrypting=function(e,t,r,n){var a=h(e,!0,n);return a.start(t,r),a},n.des.createEncryptionCipher=function(e,t){return h(e,!0,t)},n.des.startDecrypting=function(e,t,r,n){var a=h(e,!1,n);return a.start(t,r),a},n.des.createDecryptionCipher=function(e,t){return h(e,!1,t)},e.exports=n.des},function(e,t,r){var n=r(1),a=function(){};a.prototype.cbc=function(e,t){for(var r=[],n=0;n<e;++n)r[n]=t[n];return function(t,n,a,i){for(var s=[],o=[];n.length()>=4*e;){for(var u=0;u<e;++u)s[u]=n.getInt32();if(!i)for(u=0;u<e;++u)s[u]=r[u]^s[u];if(t(s,o,!i),i){for(u=0;u<e;++u)a.putInt32(r[u]^o[u]);r=s.slice(0)}else for(u=0;u<e;++u)a.putInt32(o[u]),r[u]=o[u]}}},a.prototype.ofb=function(e,t,r){var a=t,i=[],s=[];return function(t,o,u,c){for(var l;o.length()>=r/8;){if(a.length>0)for(l=0;l<e;++l)i[l]=a.shift();for(t(i,s,!0),_tempBlock=n.util.createBuffer(),l=0;l<2*e;++l)l<e?_tempBlock.putInt32(i[l]):_tempBlock.putInt32(s[l%e]);for(l=0;l<r/8;++l)_tempBlock.getByte();for(l=0;l<e;++l)i[l]=_tempBlock.getInt32();for(_tempBlock=n.util.createBuffer(),l=0;l<e;++l)_tempBlock.putInt32(s[l]);for(_tempBlock=_tempBlock.getBytes(),l=0;l<r/8;++l)u.putByte(o.getByte()^_tempBlock.charCodeAt(l))}}},a.prototype.getModeFunction=function(e,t,r){if(arguments.length<3)throw"bad input! need more parameter";if("cbc"===(e=e.toLowerCase()))return this.cbc(t,r);if(-1!=e.indexOf("ofb")){var n=0;return n=parseInt(e.substr(3)),n=isNaN(n)?8:n,this.ofb(t,r,n)}return null},e.exports=new a},function(e,t,r){function n(e){return s[3][e>>>24&255]^s[2][e>>>16&255]^s[1][e>>>8&255]^s[0][255&e]}function a(e,t){var r=e[0],a=e[1],i=[];return i[0]=a[0]^t[0],i[1]=a[1]^t[1],i[1]^=i[0],i[1]=n(i[1]),i[0]+=i[1],i[0]=n(i[0]),i[1]+=i[0],i[1]=n(i[1]),i[0]+=i[1],r[0]^=i[0],r[1]^=i[1],[a,r]}var i=r(1);i.seed=i.seed||{};var s=[[696885672,92635524,382128852,331600848,340021332,487395612,747413676,621093156,491606364,54739776,403181592,504238620,289493328,1020063996,181060296,591618912,671621160,71581764,536879136,495817116,549511392,583197408,147374280,386339604,629514660,261063564,50529024,994800504,999011256,318968592,314757840,785310444,809529456,210534540,1057960764,680042664,839004720,500027868,919007988,876900468,751624428,361075092,185271048,390550356,474763356,457921368,1032696252,16843008,604250148,470552604,860058480,411603096,268439568,214745292,851636976,432656856,738992172,667411428,843215472,58950528,462132120,297914832,109478532,164217288,541089888,272650320,595829664,734782440,218956044,914797236,512660124,256852812,931640244,441078360,113689284,944271480,646357668,302125584,797942700,365285844,557932896,63161280,881111220,21053760,306336336,1028485500,227377548,134742024,521081628,428446104,0,420024600,67371012,323179344,935850996,566354400,1036907004,910586484,789521196,654779172,813740208,193692552,235799052,730571688,578986656,776888940,327390096,223166796,692674920,1011642492,151585032,168428040,1066382268,802153452,868479984,96846276,126321540,335810580,1053750012,608460900,516870876,772678188,189481800,436867608,101057028,553722144,726360936,642146916,33686016,902164980,310547088,176849544,202113036,864269232,1045328508,281071824,977957496,122110788,377918100,633725412,637936164,8421504,764256684,533713884,562143648,805318704,923218740,781099692,906375732,352653588,570565152,940060728,885321972,663200676,88424772,206323788,25264512,701096424,75792516,394761108,889532724,197903304,248431308,1007431740,826372464,285282576,130532292,160006536,893743476,1003222008,449499864,952692984,344232084,424235352,42107520,80003268,1070593020,155795784,956903736,658989924,12632256,265274316,398971860,948482232,252642060,244220556,37896768,587408160,293704080,743202924,466342872,612671652,872689716,834793968,138952776,46318272,793731948,1024274748,755835180,4210752,1049539260,1041117756,1015853244,29475264,713728680,982168248,240009804,356864340,990589752,483184860,675831912,1062171516,478974108,415813848,172638792,373707348,927429492,545300640,768467436,105267780,897954228,722150184,625303908,986379e3,600040416,965325240,830583216,529503132,508449372,969535992,650568420,847426224,822161712,717939432,760045932,525292380,616882404,817950960,231588300,143163528,369496596,973746744,407392344,348442836,574775904,688464168,117900036,855847728,684253416,453710616,84214020,961114488,276861072,709517928,705307176,445289112],[943196208,3894986976,741149985,2753988258,3423588291,3693006546,2956166067,3090712752,2888798115,1612726368,1410680145,3288844227,1141130304,1815039843,1747667811,1478183763,3221472195,1612857954,808649523,3023406513,673777953,2686484640,3760374498,2754054051,3490956243,2417066385,269549841,67503618,471600144,3158084784,875955762,1208699715,3962556387,2282260608,1814842464,2821228704,337053459,3288646848,336987666,4097098992,3221406402,1141196097,3760308705,3558262482,1010765619,1010634033,2349764226,2551744656,673712160,1276005954,4097230578,1010699826,2753922465,4164536817,202181889,3693072339,3625502928,673909539,1680229986,2017086066,606537507,741281571,4029792753,1882342002,1073889858,3558130896,1073824065,3221274816,1882407795,1680295779,2888600736,2282457987,4097296371,2888666529,2147516544,471797523,3356150466,741084192,2821360290,875824176,3490890450,134941443,3962490594,3895052769,1545424209,2484372624,404228112,4164471024,1410811731,2888732322,134744064,3288712641,269681427,3423456705,2215020162,3090778545,4232040435,2084392305,3221340609,808517937,4097164785,2282392194,1747602018,2956034481,3490824657,538968096,3558328275,131586,539099682,67372032,1747470432,1882276209,67569411,3625700307,2619182481,2551810449,1612792161,3158216370,3827746530,1478052177,3692940753,1343308113,2417000592,3692874960,2551876242,2686682019,2821426083,3490758864,2147582337,202313475,1141327683,404359698,3760440291,3962359008,2349698433,3158282163,2484504210,2017151859,1545358416,2686616226,2686550433,1612923747,539165475,1275940161,3356018880,2619248274,2619116688,943327794,202116096,741215778,3090844338,1814974050,2619314067,1478117970,4029858546,2417132178,4029924339,1208568129,2016954480,3423390912,336921873,4164668403,1882210416,1949648241,2084523891,875889969,269484048,197379,1680098400,1814908257,3288778434,1949582448,3558196689,3023340720,3895118562,134809857,1949714034,404293905,4231974642,1073758272,269615634,3760242912,3158150577,67437825,4164602610,65793,4029726960,673843746,1545490002,2821294497,1410745938,1073955651,2214954369,336856080,2282326401,2551942035,2955968688,3827680737,1208502336,2017020273,2484570003,4231843056,471731730,2147648130,539033889,2349632640,404425491,1545555795,1949779827,1410614352,2956100274,471665937,606405921,1276071747,0,1141261890,3962424801,1477986384,1343373906,3895184355,2084458098,3625634514,3356084673,4231908849,808452144,2484438417,1680164193,1010568240,3023472306,3827614944,3090910131,2084326512,202247682,1343242320,943262001,606471714,808583730,2214888576,1747536225,2417197971,876021555,3827812323,606340128,2753856672,3356216259,1343439699,134875650,2215085955,3625568721,1275874368,2147713923,2349830019,3423522498,943393587,1208633922,3023538099],[2712152457,2172913029,3537114822,3553629123,1347687492,287055117,2695638156,556016901,1364991309,1128268611,270014472,303832590,1364201793,4043062476,3267889866,1667244867,539502600,1078199364,538976256,2442927501,3772784832,3806339778,3234334920,320083719,2711889285,2206994319,50332419,1937259339,3015195531,319820547,3536851650,3807129294,1886400576,2156661900,859586319,2695374984,842019330,3520863693,4076091078,1886663748,3773574348,2442401157,50858763,1398019911,1348213836,1398283083,2981903757,16777473,539239428,270277644,1936732995,2425886856,269488128,3234598092,4075827906,3520600521,539765772,3823380423,1919955522,2206204803,2476219275,3520074177,2189690502,3251112393,1616912448,1347424320,2745181059,3823643595,17566989,2998154886,2459704974,1129058127,3014932359,1381505610,3267626694,1886926920,2728666758,303043074,2745970575,3520337349,1633689921,3284140995,2964599940,1094713665,1380979266,1903967565,2173439373,526344,320610063,2442664329,0,286791945,263172,1397756739,4092868551,3789562305,4059839949,1920218694,590098191,589571847,2964336768,2206731147,34344462,2745707403,2728403586,1651256910,2475692931,1095503181,1634216265,1887190092,17303817,34081290,3015458703,3823906767,4092605379,3250849221,2206467975,269751300,4076617422,1617175620,3537641166,573320718,1128794955,303569418,33818118,555753729,1667771211,1650730566,33554946,4059313605,2458915458,2189953674,789516,3014669187,1920745038,3503296704,1920481866,1128531783,2459178630,3789825477,572794374,2155872384,2712415629,3554418639,2711626113,808464384,859059975,2729193102,842282502,286528773,572531202,808990728,4042536132,2745444231,1094976837,1078725708,2172649857,3790088649,2156135556,2475956103,825505029,3284667339,3268153038,809253900,1903178049,286265601,3284404167,2173176201,1903441221,4093131723,3537377994,4042799304,2425623684,1364728137,2189427330,3234071748,4093394895,1095240009,825768201,1667508039,3233808576,3284930511,3553892295,2964863112,51121935,2190216846,1111491138,589308675,2442137985,1617701964,3554155467,2695111812,808727556,4059050433,1078462536,3267363522,1668034383,826031373,556543245,1077936192,2998681230,842808846,2965126284,3250586049,2728929930,2998418058,1112280654,1364464965,859323147,3504086220,1617438792,1937522511,2426150028,3503823048,1112017482,1381242438,1936996167,2694848640,3790351821,1111754310,2981377413,589835019,1633953093,4076354250,3823117251,2981640585,2981114241,2476482447,1381768782,4059576777,3806602950,2997891714,825241857,3806866122,1634479437,1398546255,3773048004,4042272960,3251375565,2156398728,303306246,842545674,1347950664,3503559876,1650467394,556280073,50595591,858796803,3773311176,320346891,17040645,1903704393,2425360512,1650993738,573057546,2459441802],[137377848,3370182696,220277805,2258805798,3485715471,3469925406,2209591347,2293282872,2409868335,1080057888,1162957845,3351495687,1145062404,1331915823,1264805931,1263753243,3284385795,1113743394,53686323,2243015733,153167913,2158010400,3269648418,2275648551,3285438483,2173800465,17895441,100795398,202382364,2360392764,103953462,1262700555,3487820847,2290124808,1281387564,2292230184,118690839,3300967428,101848086,3304125492,3267543042,1161905157,3252805665,3335705622,255015999,221330493,2390920206,2291177496,136325160,1312967694,3337810998,238173246,2241963045,3388078137,218172429,3486768159,3369130008,186853419,1180853286,1249015866,119743527,253963311,3253858353,1114796082,1111638018,3302020116,1094795265,3233857536,1131638835,1197696039,2359340076,2340653067,3354653751,2376182829,2155905024,252910623,3401762826,203435052,2325915690,70267956,3268595730,184748043,3470978094,3387025449,1297177629,2224067604,135272472,3371235384,1196643351,2393025582,134219784,3317810181,51580947,3452029965,2256700422,2310125625,3488873535,1299283005,3250700289,20000817,3320968245,2323810314,1247963178,2175905841,3251752977,2105376,3352548375,33685506,35790882,67109892,1214277672,1097953329,117638151,3419658267,2375130141,2308020249,1096900641,2394078270,3336758310,1230067737,3453082653,1095847953,2156957712,3436239900,2324863002,2208538659,2342758443,3234910224,2172747777,251857935,1195590663,168957978,3286491171,3437292588,2374077453,2410921023,2257753110,1265858619,1280334876,2191695906,2174853153,1130586147,52633635,1296124941,3368077320,2391972894,2358287388,171063354,201329676,237120558,2326968378,1315073070,2408815647,1246910490,3270701106,2190643218,3287543859,1229015049,1215330360,3435187212,85005333,3421763643,1081110576,1165063221,1332968511,87110709,1052688,50528259,1147167780,1298230317,3334652934,1148220468,3318862869,2226172980,3403868202,151062537,1181905974,152115225,3472030782,1077952512,34738194,3235962912,2377235517,83952645,3404920890,16842753,3237015600,170010666,1314020382,2309072937,1179800598,1128480771,2239857669,68162580,2306967561,2341705755,2159063088,3319915557,1212172296,1232173113,2274595863,3438345276,236067870,2189590530,18948129,2357234700,185800731,1330863135,1198748727,1146115092,2192748594,219225117,86058021,1329810447,0,1178747910,3454135341,1213224984,1112690706,3420710955,1316125758,3402815514,3384920073,3455188029,3158064,2240910357,1164010533,204487740,2259858486,3303072804,2343811131,1282440252,235015182,1079005200,154220601,102900774,36843570,2223014916,1231120425,2207485971,120796215,3353601063,69215268,2225120292,3418605579,1129533459,167905290,2273543175,3385972761,1279282188,2206433283,2407762959,3468872718,187906107,1245857802,2276701239]],o=[2654435769,1013904243,2027808486,4055616972,3816266649,3337566003,2380164711,465362127,930724254,1861448508,3722897016,3150826737,2006686179,4013372358,3731777421,3168587547],u=function(e,t,r,n){!function(e,t,r){for(var n=[e.slice(0,2),e.slice(2,4)],i=0;i<16;i++)n=a(n,t[i]);n.reverse(),r.splice(0,4,n[0][0],n[0][1],n[1][0],n[1][1])}(t,e,r)},c=function(e,t,r,a,s){var c,l,p,f,h,d,y,g="CBC"===s,v=null,m=16;if("string"!=typeof e||16!=e.length)throw"bad key";return d=function(){var e;if(e=v._roundKeys,a){e=v._invRoundKeys;for(var t=0;t<4;++t)p[t]=c.getInt32()}else for(t=0;t<4;++t)p[t]=y[t]^c.getInt32();if(u(e,p,f,a),a){for(t=0;t<4;++t)l.putInt32(y[t]^f[t]);y=p.slice(0)}else{for(t=0;t<4;++t)l.putInt32(f[t]);y=f}},(v={_key:e,output:null}).update=function(e){for(h||c.putBuffer(e);c.length()>=m||c.length()>0&&h;)d()},v.finish=function(e){var t=!0,r=c.length()%m;if(!a)if(e)t=e(m,c,a);else if(g){var n=c.length()===m?m:m-c.length();c.fillWithByte(n,n)}if(t&&(h=!0,v.update()),a&&(g&&(t=0===r),t))if(e)t=e(m,l,a);else if(g){var i=l.length(),s=l.at(i-1);s>16?t=!1:l.truncate(s)}return!g&&!e&&r>0&&l.truncate(m-r),t},v.start=function(e,t){if(e,"string"==typeof e&&16===e.length)e=i.util.createBuffer(e);else if(i.util.isArray(e)&&16===e.length){var r=e;e=i.util.createBuffer();for(var a=0;a<16;++a)e.putByte(r[a])}if(c=i.util.createBuffer(),l=t||i.util.createBuffer(),(y=[]).splice(0,4,e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()),p=new Array(4),f=new Array(4),h=!1,v.output=l,-1!==["CFB","OFB","CTR"].indexOf(s)){for(a=0;a<4;++a)p[a]=y[a];y=null}var u=i.util.createBuffer(this._key),d=u.getInt32(),g=u.getInt32(),m=u.getInt32(),C=u.getInt32(),E=[];for(a=0;a<16;a++)if(E[a]=[],E[a][0]=n(d+m-o[a]),E[a][1]=n(g-C+o[a]),a%2==0){var S=d;d=d>>>8|g<<24,g=g>>>8|S<<24}else{var F=m;m=m<<8|C>>>24,C=C<<8|F>>>24}this._roundKeys=E,this._invRoundKeys=E.slice().reverse()},null!==t&&v.start(t,r),v};i.seed.createEncryptionCipher=function(e,t){return c(e,null,null,!1,t)},i.seed.createDecryptionCipher=function(e,t){return c(e,null,null,!0,t)},e.exports=i.seed},function(e,t,r){function n(e,t){for(var r=[],n=0;n<e.length;++n)r[n]=e[n]^t[n];return s(r=i(1,r))}function a(e,t){for(var r=[],n=0;n<e.length;++n)r[n]=e[n]^t[n];return s(r=i(2,r))}function i(e,t){var r=[];X=u.util.createBuffer();for(var n=0;n<t.length;++n)X.putInt32(t[n]);if(1==e)r[0]=h[X.getByte()],r[0]<<=8,r[0]|=d[X.getByte()],r[0]<<=8,r[0]|=y[X.getByte()],r[0]<<=8,r[0]|=g[X.getByte()],r[1]=h[X.getByte()],r[1]<<=8,r[1]|=d[X.getByte()],r[1]<<=8,r[1]|=y[X.getByte()],r[1]<<=8,r[1]|=g[X.getByte()],r[2]=h[X.getByte()],r[2]<<=8,r[2]|=d[X.getByte()],r[2]<<=8,r[2]|=y[X.getByte()],r[2]<<=8,r[2]|=g[X.getByte()],r[3]=h[X.getByte()],r[3]<<=8,r[3]|=d[X.getByte()],r[3]<<=8,r[3]|=y[X.getByte()],r[3]<<=8,r[3]|=g[X.getByte()];else{if(2!=e)throw"internal error";r[0]=y[X.getByte()],r[0]<<=8,r[0]|=g[X.getByte()],r[0]<<=8,r[0]|=h[X.getByte()],r[0]<<=8,r[0]|=d[X.getByte()],r[1]=y[X.getByte()],r[1]<<=8,r[1]|=g[X.getByte()],r[1]<<=8,r[1]|=h[X.getByte()],r[1]<<=8,r[1]|=d[X.getByte()],r[2]=y[X.getByte()],r[2]<<=8,r[2]|=g[X.getByte()],r[2]<<=8,r[2]|=h[X.getByte()],r[2]<<=8,r[2]|=d[X.getByte()],r[3]=y[X.getByte()],r[3]<<=8,r[3]|=g[X.getByte()],r[3]<<=8,r[3]|=h[X.getByte()],r[3]<<=8,r[3]|=d[X.getByte()]}return r}function s(e){var t=[];if(e.length<16){var r=u.util.createBuffer();for(e.map(function(e){r.putInt32(e)}),e=[];r.length()>0;)e.push(r.getByte())}return t[0]=e[3]^e[4]^e[6]^e[8]^e[9]^e[13]^e[14],t[0]<<=8,t[0]|=e[2]^e[5]^e[7]^e[8]^e[9]^e[12]^e[15],t[0]<<=8,t[0]|=e[1]^e[4]^e[6]^e[10]^e[11]^e[12]^e[15],t[0]<<=8,t[0]|=e[0]^e[5]^e[7]^e[10]^e[11]^e[13]^e[14],t[1]=e[0]^e[2]^e[5]^e[8]^e[11]^e[14]^e[15],t[1]<<=8,t[1]|=e[1]^e[3]^e[4]^e[9]^e[10]^e[14]^e[15],t[1]<<=8,t[1]|=e[0]^e[2]^e[7]^e[9]^e[10]^e[12]^e[13],t[1]<<=8,t[1]|=e[1]^e[3]^e[6]^e[8]^e[11]^e[12]^e[13],t[2]=e[0]^e[1]^e[4]^e[7]^e[10]^e[13]^e[15],t[2]<<=8,t[2]|=e[0]^e[1]^e[5]^e[6]^e[11]^e[12]^e[14],t[2]<<=8,t[2]|=e[2]^e[3]^e[5]^e[6]^e[8]^e[13]^e[15],t[2]<<=8,t[2]|=e[2]^e[3]^e[4]^e[7]^e[9]^e[12]^e[14],t[3]=e[1]^e[2]^e[6]^e[7]^e[9]^e[11]^e[12],t[3]<<=8,t[3]|=e[0]^e[3]^e[6]^e[7]^e[8]^e[10]^e[13],t[3]<<=8,t[3]|=e[0]^e[3]^e[4]^e[5]^e[9]^e[11]^e[14],t[3]<<=8,t[3]|=e[1]^e[2]^e[4]^e[5]^e[8]^e[10]^e[15],t}function o(e,t,r){var n=[],a=4-parseInt(r/32),i=r%32,s=32-i;return n[0]=t[a%4]>>>i^t[(a+3)%4]<<s^e[0],n[1]=t[(a+1)%4]>>>i^t[a%4]<<s^e[1],n[2]=t[(a+2)%4]>>>i^t[(a+1)%4]<<s^e[2],n[3]=t[(a+3)%4]>>>i^t[(a+2)%4]<<s^e[3],n}var u=r(1);u.aria=u.aria||{};var c=4,l=[1367130551,656542356,4262702056,4204424928],p=[1840335564,2653014048,4280857045,4015907504],f=[3683792669,556198256,52729717,82364686],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[226,78,84,252,148,194,74,204,98,13,106,70,60,77,139,209,94,250,100,203,180,151,190,43,188,119,46,3,211,25,89,193,29,6,65,107,85,240,153,105,234,156,24,174,99,223,231,187,0,115,102,251,150,76,133,228,58,9,69,170,15,238,16,235,45,127,244,41,172,207,173,145,141,120,200,149,249,47,206,205,8,122,136,56,92,131,42,40,71,219,184,199,147,164,18,83,255,135,14,49,54,33,88,72,1,142,55,116,50,202,233,177,183,171,12,215,196,86,66,38,7,152,96,217,182,185,17,64,236,32,140,189,160,201,132,4,73,35,241,79,80,31,19,220,216,192,158,87,227,195,123,101,59,2,143,62,232,37,146,229,21,221,253,23,169,191,212,154,126,197,57,103,254,118,157,67,167,225,208,245,104,242,27,52,112,5,163,138,213,121,134,168,48,198,81,75,30,166,39,246,53,210,110,36,22,130,95,218,230,117,162,239,44,178,28,159,93,111,128,10,114,68,155,108,144,11,91,51,125,90,82,243,97,161,247,176,214,63,124,109,237,20,224,165,61,34,179,248,137,222,113,26,175,186,181,129],y=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],g=[48,104,153,27,135,185,33,120,80,57,219,225,114,9,98,60,62,126,94,142,241,160,204,163,42,29,251,182,214,32,196,141,129,101,245,137,203,157,119,198,87,67,86,23,212,64,26,77,192,99,108,227,183,200,100,106,83,170,56,152,12,244,155,237,127,34,118,175,221,58,11,88,103,136,6,195,53,13,1,139,140,194,230,95,2,36,117,147,102,30,229,226,84,216,16,206,122,232,8,44,18,151,50,171,180,39,10,35,223,239,202,217,184,250,220,49,107,209,173,25,73,189,81,150,238,228,168,65,218,255,205,85,134,54,190,97,82,248,187,14,130,72,105,154,224,71,158,92,4,75,52,21,121,38,167,222,41,174,146,215,132,233,210,186,93,243,197,176,191,164,59,113,68,70,43,252,235,111,213,246,20,254,124,112,90,125,253,47,24,131,22,165,145,31,5,149,116,169,193,91,74,133,109,19,7,79,78,69,178,15,201,28,166,188,236,115,144,123,207,89,143,161,249,45,242,177,0,148,55,159,208,46,156,110,40,63,128,240,61,211,37,138,181,231,66,179,199,234,247,76,17,51,3,162,172,96],v=function(e,t,r,s){var o=[],u=[];o[0]=e;for(var c=1;c<s;++c)o[c]=c%2==1?n(o[c-1],t[c]):a(o[c-1],t[c]);for(c=0;c<o[s-1].length;++c)u[c]=o[s-1][c]^t[s][c];u=i(2,u);for(c=0;c<u.length;++c)r[c]=u[c]^t[s+1][c]},m=function(e,t,r,i,h){var d,y,g,m,C,E,S,F,T,I,A="CBC"===(h=(h||"CBC").toUpperCase()),b=null,B=16,R=0;if(b={_key:e,output:null},16==e.length)R=12,F=l,T=p,I=f;else if(24==e.length)R=14,F=p,T=f,I=l;else{if(32!=e.length)throw"bad key length";R=16,F=f,T=l,I=p}if("CBC"===h)E=function(){var e;if(e=b._roundKeys,i)for(var t=0;t<4;++t)g[t]=d.getInt32();else for(t=0;t<4;++t)g[t]=S[t]^d.getInt32();if(N(e,g,m,i),i){for(t=0;t<4;++t)y.putInt32(S[t]^m[t]);S=g.slice(0)}else{for(t=0;t<4;++t)y.putInt32(m[t]);S=m}};else if("CFB"===h)E=cfbOp;else if("OFB"===h)E=ofbOp;else if("CTR"===h)E=ctrOp;else{if("ECB"!==h)throw{message:'Unsupported block cipher mode of operation: "'+h+'"'};E=function(){var e;e=b._roundKeys;for(var t=0;t<c;++t)g[t]=d.getInt32();for(N(e,g,m,i),t=0;t<c;++t)y.putInt32(m[t])}}for(b._key=[],e=u.util.createBuffer(e);e.length()>0;)b._key.push(e.getInt32());!function(){var e,t,r,c,l,p,f;for(e=b._key.slice(0,4),t=(t=b._key.slice(4)).concat([0,0,0,0]).slice(0,4),c=n(r=e,F),f=0;f<c.length;++f)c[f]=c[f]^t[f];for(l=a(c,T),f=0;f<c.length;++f)l[f]=l[f]^r[f];for(p=n(l,I),f=0;f<c.length;++f)p[f]=p[f]^c[f];d=u.util.createBuffer(),r.map(function(e){d.putInt32(e)}),u.consoleLog,d=u.util.createBuffer(),c.map(function(e){d.putInt32(e)}),u.consoleLog,d=u.util.createBuffer(),l.map(function(e){d.putInt32(e)}),u.consoleLog,d=u.util.createBuffer(),p.map(function(e){d.putInt32(e)}),u.consoleLog,b.W0=r,b.W1=c,b.W2=l,b.W3=p;var h=[];for(h[1]=o(r,c,19),h[2]=o(c,l,19),h[3]=o(l,p,19),h[4]=o(p,r,19),h[5]=o(r,c,31),h[6]=o(c,l,31),h[7]=o(l,p,31),h[8]=o(p,r,31),h[9]=o(r,c,67),h[10]=o(c,l,67),h[11]=o(l,p,67),h[12]=o(p,r,67),h[13]=o(r,c,97),h[14]=o(c,l,97),h[15]=o(l,p,97),h[16]=o(p,r,97),h[17]=o(r,c,109),f=1;f<h.length;++f){var d=u.util.createBuffer();h[f].map(function(e){d.putInt32(e)}),u.consoleLog}if(b._roundKeys=h,i){var y=[];for(f=1;f<R+2;++f)y[f]=h[R+2-f],1!=f&&f!=R+1&&(y[f]=s(y[f]));for(f=1;f<y.length;++f)d=u.util.createBuffer(),y[f].map(function(e){d.putInt32(e)}),u.consoleLog;b._roundKeys=y}}();var N=function(e,t,r,n){v(t,e,r,R)};return b.update=function(e){for(C||d.putBuffer(e);d.length()>=B||d.length()>0&&C;)E()},b.finish=function(e){var t=!0,r=d.length()%B;if(!i)if(e)t=e(B,d,i);else if(A){var n=d.length()===B?B:B-d.length();d.fillWithByte(n,n)}if(t&&(C=!0,b.update()),i&&(A&&(t=0===r),t))if(e)t=e(B,y,i);else if(A){var a=y.length(),s=y.at(a-1);s>16?t=!1:y.truncate(s)}return!A&&!e&&r>0&&y.truncate(B-r),t},b.start=function(e,t){if(void 0===e&&(e="0000000000000000"),null===e&&(e=S.slice(0)),"string"==typeof e&&16===e.length)e=u.util.createBuffer(e);else if(u.util.isArray(e)&&16===e.length)for(var r=e,n=(e=u.util.createBuffer(),0);n<16;++n)e.putByte(r[n]);if(!u.util.isArray(e)){r=e;(e=new Array(4))[0]=r.getInt32(),e[1]=r.getInt32(),e[2]=r.getInt32(),e[3]=r.getInt32()}if(d=u.util.createBuffer(),y=t||u.util.createBuffer(),S=e.slice(0),g=new Array(c),m=new Array(c),C=!1,b.output=y,-1!==["CFB","OFB","CTR"].indexOf(h)){for(n=0;n<c;++n)g[n]=S[n];S=null}},null!==t&&b.start(t,r),b};u.aria.createEncryptionCipher=function(e,t){return m(e,null,null,!1,t)},u.aria.createDecryptionCipher=function(e,t){return m(e,null,null,!0,t)},e.exports=u.aria},function(e,t,r){var n=r(1),a=n.asn1=n.asn1||{};a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.create=function(e,t,r,a){if(n.util.isArray(a)){for(var i=[],s=0;s<a.length;++s)void 0!==a[s]&&i.push(a[s]);a=i}return{tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(a),value:a}};var i=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};a.fromDer=function(e,t){if(void 0===t&&(t=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),e.length()<2)throw{message:"Too few bytes to parse DER.",bytes:e.length()};var r=e.getByte(),s=192&r,o=31&r,u=i(e);if(e.length()<u){if(t)throw{message:"Too few bytes to read ASN.1 value.",detail:e.length()+" < "+u};u=e.length()}var c,l=32==(32&r),p=l;if(!p&&s===a.Class.UNIVERSAL&&o===a.Type.BITSTRING&&u>1){var f=e.read;e.getByte();e.read=f}if(p)if(c=[],void 0===u)for(;;){if(e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2);break}c.push(a.fromDer(e,t))}else for(var h=e.length();u>0;)c.push(a.fromDer(e,t)),u-=h-e.length(),h=e.length();else{if(void 0===u){if(t)throw{message:"Non-constructed ASN.1 object of indefinite length."};u=e.length()}if(o===a.Type.BMPSTRING){c="";for(var d=0;d<u;d+=2)c+=String.fromCharCode(e.getInt16())}else c=e.getBytes(u)}return a.create(s,o,l,c)},a.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,i=n.util.createBuffer();if(e.composed){e.constructed?r|=32:i.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&i.putBuffer(a.toDer(e.value[s]))}else if(e.type===a.Type.BMPSTRING)for(s=0;s<e.value.length;++s)i.putInt16(e.value.charCodeAt(s));else i.putBytes(e.value);if(t.putByte(r),i.length()<=127)t.putByte(127&i.length());else{var o=i.length(),u="";do{u+=String.fromCharCode(255&o),o>>>=8}while(o>0);t.putByte(128|u.length);for(s=u.length-1;s>=0;--s)t.putByte(u.charCodeAt(s))}return t.putBuffer(i),t},a.oidToDer=function(e){var t=e.split("."),r=n.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var a,i,s,o,u=2;u<t.length;++u){a=!0,i=[],s=parseInt(t[u],10);do{o=127&s,s>>>=7,a||(o|=128),i.push(o),a=!1}while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r},a.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var a=0;e.length()>0;)a<<=7,128&(r=e.getByte())?a+=127&r:(t+="."+(a+r),a=0);return t},a.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,a=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var u=e.charAt(10),c=10;"+"!==u&&"-"!==u&&(o=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,a),t.setUTCHours(i,s,o,0),c&&("+"===(u=e.charAt(c))||"-"===u)){var l=60*parseInt(e.substr(c+1,2),10)+parseInt(e.substr(c+4,2),10);l*=6e4,"+"===u?t.setTime(+t-l):t.setTime(+t+l)}return t},a.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,a=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),u=0,c=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var p=e.length-5,f=e.charAt(p);"+"!==f&&"-"!==f||(c=60*parseInt(e.substr(p+1,2),10)+parseInt(e.substr(p+4,2),10),c*=6e4,"+"===f&&(c*=-1),l=!0);return"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,a),t.setUTCHours(i,s,o,u),t.setTime(+t+c)):(t.setFullYear(r,n,a),t.setHours(i,s,o,u)),t},a.dateToUtcTime=function(e){var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},a.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);throw{message:"Integer too large; max is 32-bits.",integer:e}},a.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw{message:"Integer too large; max is 32-bits."};return e.getSignedInt(t)},a.validate=function(e,t,r,i){var s=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)i&&(e.tagClass!==t.tagClass&&i.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&i.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(s=!0,t.value&&n.util.isArray(t.value))for(var o=0,u=0;s&&u<t.value.length;++u)s=t.value[u].optional||!1,e.value[o]&&((s=a.validate(e.value[o],t.value[u],r,i))?++o:t.value[u].optional&&(s=!0)),!s&&i&&i.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e))}else i&&i.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return s};var s=/[^\\u0000-\\u00ff]/;a.prettyPrint=function(e,t,r){var i="";t=t||0,r=r||2,t>0&&(i+="\n");for(var o="",u=0;u<t*r;++u)o+=" ";switch(i+=o+"Tag: ",e.tagClass){case a.Class.UNIVERSAL:i+="Universal:";break;case a.Class.APPLICATION:i+="Application:";break;case a.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case a.Class.PRIVATE:i+="Private:"}if(e.tagClass===a.Class.UNIVERSAL)switch(i+=e.type,e.type){case a.Type.NONE:i+=" (None)";break;case a.Type.BOOLEAN:i+=" (Boolean)";break;case a.Type.BITSTRING:i+=" (Bit string)";break;case a.Type.INTEGER:i+=" (Integer)";break;case a.Type.OCTETSTRING:i+=" (Octet string)";break;case a.Type.NULL:i+=" (Null)";break;case a.Type.OID:i+=" (Object Identifier)";break;case a.Type.ODESC:i+=" (Object Descriptor)";break;case a.Type.EXTERNAL:i+=" (External or Instance of)";break;case a.Type.REAL:i+=" (Real)";break;case a.Type.ENUMERATED:i+=" (Enumerated)";break;case a.Type.EMBEDDED:i+=" (Embedded PDV)";break;case a.Type.UTF8:i+=" (UTF8)";break;case a.Type.ROID:i+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:i+=" (Sequence)";break;case a.Type.SET:i+=" (Set)";break;case a.Type.PRINTABLESTRING:i+=" (Printable String)";break;case a.Type.IA5String:i+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:i+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case a.Type.BMPSTRING:i+=" (BMP String)"}else i+=e.type;if(i+="\n",i+=o+"Constructed: "+e.constructed+"\n",e.composed){var c=0,l="";for(u=0;u<e.value.length;++u)void 0!==e.value[u]&&(c+=1,l+=a.prettyPrint(e.value[u],t+1,r),u+1<e.value.length&&(l+=","));i+=o+"Sub values: "+c+l}else{if(i+=o+"Value: ",e.type===a.Type.OID){var p=a.derToOid(e.value);i+=p,n.pki&&n.pki.oids&&p in n.pki.oids&&(i+=" ("+n.pki.oids[p]+")")}if(e.type===a.Type.INTEGER)try{i+=a.derToInteger(e.value)}catch(t){i+="0x"+n.util.bytesToHex(e.value)}else i+=s.test(e.value)?"0x"+n.util.createBuffer(e.value,"utf8").toHex():0===e.value.length?"[null]":e.value}return i},e.exports=a},function(e,t,r){function n(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new n(null)}function i(e,t,r,n,a,i){for(var s=16383&t,o=t>>14;--i>=0;){var u=16383&this.data[e],c=this.data[e++]>>14,l=o*u+c*s;a=((u=s*u+((16383&l)<<14)+r.data[n]+a)>>28)+(l>>14)+o*c,r.data[n++]=268435455&u}return a}function s(e){return A.charAt(e)}function o(e,t){var r=b[e.charCodeAt(t)];return null==r?-1:r}function u(e){var t=a();return t.fromInt(e),t}function c(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function l(e){this.m=e}function p(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function f(e,t){return e&t}function h(e,t){return e|t}function d(e,t){return e^t}function y(e,t){return e&~t}function g(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function v(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function m(){}function C(e){return e}function E(e){this.r2=a(),this.q3=a(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}var S,F=r(1);"undefined"==typeof navigator?(n.prototype.am=i,S=28):"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(e,t,r,n,a,i){for(var s=32767&t,o=t>>15;--i>=0;){var u=32767&this.data[e],c=this.data[e++]>>15,l=o*u+c*s;a=((u=s*u+((32767&l)<<15)+r.data[n]+(1073741823&a))>>>30)+(l>>>15)+o*c+(a>>>30),r.data[n++]=1073741823&u}return a},S=30):"Netscape"!=navigator.appName?(n.prototype.am=function(e,t,r,n,a,i){for(;--i>=0;){var s=t*this.data[e++]+r.data[n]+a;a=Math.floor(s/67108864),r.data[n++]=67108863&s}return a},S=26):(n.prototype.am=i,S=28),n.prototype.DB=S,n.prototype.DM=(1<<S)-1,n.prototype.DV=1<<S;n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-S,n.prototype.F2=2*S-52;var T,I,A="0123456789abcdefghijklmnopqrstuvwxyz",b=new Array;for(T="0".charCodeAt(0),I=0;I<=9;++I)b[T++]=I;for(T="a".charCodeAt(0),I=10;I<36;++I)b[T++]=I;for(T="A".charCodeAt(0),I=10;I<36;++I)b[T++]=I;l.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},l.prototype.revert=function(e){return e},l.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},l.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},l.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},p.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},p.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},p.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},p.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},p.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var a=e.length,i=!1,s=0;--a>=0;){var u;if((u=8==r?e.charCodeAt?e.charCodeAt(a):e[a]:o(e,a))>=256)throw"input data is not binary";u<0?e.charAt?"-"==e.charAt(a)&&(i=!0):"-"==e[a]&&(i=!0):(i=!1,0==s?this.data[this.t++]=u:s+r>this.DB?(this.data[this.t-1]|=(u&(1<<this.DB-s)-1)<<s,this.data[this.t++]=u>>this.DB-s):this.data[this.t-1]|=u<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,a=this.DB-n,i=(1<<a)-1,s=Math.floor(e/this.DB),o=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+s+1]=this.data[r]>>a|o,o=(this.data[r]&i)<<n;for(r=s-1;r>=0;--r)t.data[r]=0;t.data[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,a=this.DB-n,i=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)t.data[s-r-1]|=(this.data[s]&i)<<a,t.data[s-r]=this.data[s]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&i)<<a),t.t=this.t-r,t.clamp()}},n.prototype.subTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),a=e.abs(),i=r.t;for(t.t=i+a.t;--i>=0;)t.data[i]=0;for(i=0;i<a.t;++i)t.data[i+r.t]=r.am(0,a.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,r){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=a());var o=a(),u=this.s,l=e.s,p=this.DB-c(i.data[i.t-1]);p>0?(i.lShiftTo(p,o),s.lShiftTo(p,r)):(i.copyTo(o),s.copyTo(r));var f=o.t,h=o.data[f-1];if(0!=h){var d=h*(1<<this.F1)+(f>1?o.data[f-2]>>this.F2:0),y=this.FV/d,g=(1<<this.F1)/d,v=1<<this.F2,m=r.t,C=m-f,E=null==t?a():t;for(o.dlShiftTo(C,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),n.ONE.dlShiftTo(f,E),E.subTo(o,o);o.t<f;)o.data[o.t++]=0;for(;--C>=0;){var S=r.data[--m]==h?this.DM:Math.floor(r.data[m]*y+(r.data[m-1]+v)*g);if((r.data[m]+=o.am(0,S,r,C,0,f))<S)for(o.dlShiftTo(C,E),r.subTo(E,r);r.data[m]<--S;)r.subTo(E,r)}null!=t&&(r.drShiftTo(f,t),u!=l&&n.ZERO.subTo(t,t)),r.t=f,r.clamp(),p>0&&r.rShiftTo(p,r),u<0&&n.ZERO.subTo(r,r)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var r=a(),i=a(),s=t.convert(this),o=c(e)-1;for(s.copyTo(r);--o>=0;)if(t.sqrTo(r,i),(e&1<<o)>0)t.mulTo(i,s,r);else{var u=r;r=i,i=u}return t.revert(r)},n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,a=!1,i="",o=this.t,u=this.DB-o*this.DB%t;if(o-- >0)for(u<this.DB&&(r=this.data[o]>>u)>0&&(a=!0,i=s(r));o>=0;)u<t?(r=(this.data[o]&(1<<u)-1)<<t-u,r|=this.data[--o]>>(u+=this.DB-t)):(r=this.data[o]>>(u-=t)&n,u<=0&&(u+=this.DB,--o)),r>0&&(a=!0),a&&(i+=s(r));return a?i:"0"},n.prototype.negate=function(){var e=a();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+c(this.data[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new l(t):new p(t),this.exp(e,r)},n.ZERO=u(0),n.ONE=u(1),m.prototype.convert=C,m.prototype.revert=C,m.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},m.prototype.sqrTo=function(e,t){e.squareTo(t)},E.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},E.prototype.revert=function(e){return e},E.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},E.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},E.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var B=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],R=(1<<26)/B[B.length-1];n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=u(r),i=a(),s=a(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),a=Math.pow(t,r),i=!1,s=0,u=0,c=0;c<e.length;++c){var l=o(e,c);l<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(u=t*u+l,++s>=r&&(this.dMultiply(a),this.dAddOffset(u,0),s=0,u=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(u,0)),i&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),h,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var a=new Array,i=7&e;a.length=1+(e>>3),t.nextBytes(a),i>0?a[0]&=(1<<i)-1:a[0]=0,this.fromString(a,256)}},n.prototype.bitwiseTo=function(e,t,r){var n,a,i=Math.min(e.t,this.t);for(n=0;n<i;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(a=e.s&this.DM,n=i;n<this.t;++n)r.data[n]=t(this.data[n],a);r.t=this.t}else{for(a=this.s&this.DM,n=i;n<e.t;++n)r.data[n]=t(a,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var r=0,n=0,a=Math.min(e.t,this.t);r<a;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},n.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},n.prototype.multiplyLowerTo=function(e,t,r){var n,a=Math.min(this.t+e.t,t);for(r.s=0,r.t=a;a>0;)r.data[--a]=0;for(n=r.t-this.t;a<n;++a)r.data[a+this.t]=this.am(0,e.data[a],r,a,0,this.t);for(n=Math.min(e.t,t);a<n;++a)this.am(0,e.data[a],r,a,0,t-a);r.clamp()},n.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var a,i=t.shiftRight(r),s={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(255*F.base.srnd())}},o=0;o<e;++o){do{a=new n(this.bitLength(),s)}while(a.compareTo(n.ONE)<=0||a.compareTo(t)>=0);var u=a.modPow(i,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(t)){for(var c=1;c++<r&&0!=u.compareTo(t);)if(0==(u=u.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=u.compareTo(t))return!1}}return!0},n.prototype.clone=function(){var e=a();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,a=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[a++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==a&&(128&this.s)!=(128&r)&&++a,(a>0||r!=this.s)&&(t[a++]=r);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=a();return this.bitwiseTo(e,f,t),t},n.prototype.or=function(e){var t=a();return this.bitwiseTo(e,h,t),t},n.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,d,t),t},n.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,y,t),t},n.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+g(this.data[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=v(this.data[r]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,h)},n.prototype.clearBit=function(e){return this.changeBit(e,y)},n.prototype.flipBit=function(e){return this.changeBit(e,d)},n.prototype.add=function(e){var t=a();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=a(),r=a();return this.divRemTo(e,t,r),new Array(t,r)},n.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),s=u(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new l(t):t.isEven()?new E(t):new p(t);var o=new Array,f=3,h=r-1,d=(1<<r)-1;if(o[1]=n.convert(this),r>1){var y=a();for(n.sqrTo(o[1],y);f<=d;)o[f]=a(),n.mulTo(y,o[f-2],o[f]),f+=2}var g,v,m=e.t-1,C=!0,S=a();for(i=c(e.data[m])-1;m>=0;){for(i>=h?g=e.data[m]>>i-h&d:(g=(e.data[m]&(1<<i+1)-1)<<h-i,m>0&&(g|=e.data[m-1]>>this.DB+i-h)),f=r;0==(1&g);)g>>=1,--f;if((i-=f)<0&&(i+=this.DB,--m),C)o[g].copyTo(s),C=!1;else{for(;f>1;)n.sqrTo(s,S),n.sqrTo(S,s),f-=2;f>0?n.sqrTo(s,S):(v=s,s=S,S=v),n.mulTo(S,o[g],s)}for(;m>=0&&0==(e.data[m]&1<<i);)n.sqrTo(s,S),v=s,s=S,S=v,--i<0&&(i=this.DB-1,--m)}return n.revert(s)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),a=this.clone(),i=u(1),s=u(0),o=u(0),c=u(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;a.isEven();)a.rShiftTo(1,a),t?(o.isEven()&&c.isEven()||(o.addTo(this,o),c.subTo(e,c)),o.rShiftTo(1,o)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(a)>=0?(r.subTo(a,r),t&&i.subTo(o,i),s.subTo(c,s)):(a.subTo(r,a),t&&o.subTo(i,o),c.subTo(s,c))}return 0!=a.compareTo(n.ONE)?n.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},n.prototype.pow=function(e){return this.exp(e,new m)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var a=t.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return t;for(a<i&&(i=a),i>0&&(t.rShiftTo(i,t),r.rShiftTo(i,r));t.signum()>0;)(a=t.getLowestSetBit())>0&&t.rShiftTo(a,t),(a=r.getLowestSetBit())>0&&r.rShiftTo(a,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r},n.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=B[B.length-1]){for(t=0;t<B.length;++t)if(r.data[0]==B[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<B.length;){for(var n=B[t],a=t+1;a<B.length&&n<R;)n*=B[a++];for(n=r.modInt(n);t<a;)if(n%B[t++]==0)return!1}return r.millerRabin(e)},n.prototype.square=function(){var e=a();return this.squareTo(e),e},n.fromByteArrayUnsigned=function(e){return e.length?new n(128&e[0]?[0].concat(e):e):new n.valueOf(0)},n.fromByteArraySigned=function(e){return 128&e[0]?(e[0]&=127,n.fromByteArrayUnsigned(e).negate()):n.fromByteArrayUnsigned(e)},n.prototype.toByteArrayUnsigned=function(){var e=this.abs().toByteArray();if(!e.length)return e;0===e[0]&&(e=e.slice(1));for(var t=0;t<e.length;++t)e[t]=e[t]<0?e[t]+256:e[t];return e},n.prototype.toByteArraySigned=function(){var e=this.toByteArrayUnsigned(),t=this.s<0;return 128&e[0]?e.unshift(t?128:0):t&&(e[0]|=128),e},n.prototype.toBinary=function(e){var t,r=[];for(t=this.toByteArrayUnsigned();8*(r.length+t.length)<e;)r=[String.fromCharCode(0)].concat(r);return t.map(function(e,t){r.push(String.fromCharCode(e))}),r.join("")},F.jsbn=F.jsbn||{},F.jsbn.BigInteger=n,F.jsbn.Barrett=E,e.exports=F.jsbn},function(e,t,r){var n=r(1);n.pki=n.pki||{};var a=n.pki.oids=n.oids=n.oids||{};a["1.2.840.113549.1.1.1"]="rsaEncryption",a.rsaEncryption="1.2.840.113549.1.1.1",a["1.2.840.113549.1.1.4"]="md5WithRSAEncryption",a.md5WithRSAEncryption="1.2.840.113549.1.1.4",a["1.2.840.113549.1.1.5"]="sha1WithRSAEncryption",a.sha1WithRSAEncryption="1.2.840.113549.1.1.5",a["1.2.840.113549.1.1.7"]="RSAES-OAEP",a["RSAES-OAEP"]="1.2.840.113549.1.1.7",a["1.2.840.113549.1.1.8"]="mgf1",a.mgf1="1.2.840.113549.1.1.8",a["1.2.840.113549.1.1.9"]="pSpecified",a.pSpecified="1.2.840.113549.1.1.9",a["1.2.840.113549.1.1.10"]="RSASSA-PSS",a["RSASSA-PSS"]="1.2.840.113549.1.1.10",a["1.2.840.113549.1.1.11"]="sha256WithRSAEncryption",a.sha256WithRSAEncryption="1.2.840.113549.1.1.11",a["1.2.840.113549.1.1.12"]="sha384WithRSAEncryption",a.sha384WithRSAEncryption="1.2.840.113549.1.1.12",a["1.2.840.113549.1.1.13"]="sha512WithRSAEncryption",a.sha512WithRSAEncryption="1.2.840.113549.1.1.13",a["1.3.14.3.2.7"]="desCBC",a.desCBC="1.3.14.3.2.7",a["1.3.14.3.2.26"]="sha1",a.sha1="1.3.14.3.2.26",a["2.16.840.1.101.3.4.2.1"]="sha256",a.sha256="2.16.840.1.101.3.4.2.1",a["2.16.840.1.101.3.4.2.2"]="sha384",a.sha384="2.16.840.1.101.3.4.2.2",a["2.16.840.1.101.3.4.2.3"]="sha512",a.sha512="2.16.840.1.101.3.4.2.3",a["1.2.840.113549.2.5"]="md5",a.md5="1.2.840.113549.2.5",a.kcdsa="1.2.410.200004.1.21",a["1.2.410.200004.1.21"]="kcdsa",a.ecdsa="1.2.840.10045.2.1",a["1.2.840.10045.2.1"]="ecdsa",a.secp256r1="1.2.840.10045.3.1.7",a["1.2.840.10045.3.1.7"]="secp256r1",e.exports=a},function(e,t,r){function n(e,t,r){r||(r=a.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,255&s);r.start(),r.update(e+o),n+=r.digest().getBytes()}return n.substring(0,t)}var a=r(1),i=a.asn1,s=a.pki,o=a.pkcs1=a.pkcs1||{};o.encode_rsa_oaep=function(e,t,r){var i=void 0,s=void 0,o=void 0,u=void 0;"string"==typeof r?(i=r,s=arguments[3]||void 0,o=arguments[4]||void 0):r&&(i=r.label||void 0,s=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(u=r.mgf1.md)),o?o.start():o=a.md.sha1.create(),u||(u=o);var c=Math.ceil(e.n.bitLength()/8),l=c-2*o.digestLength-2;if(t.length>l)throw{message:"RSAES-OAEP input message length is too long.",length:t.length,maxLength:l};i||(i=""),o.update(i,"raw");for(var p=o.digest(),f="",h=l-t.length,d=0;d<h;d++)f+="\0";var y=p.getBytes()+f+""+t;if(s){if(s.length!==o.digestLength)throw{message:"Invalid RSAES-OAEP seed. The seed length must match the digest length.",seedLength:s.length,digestLength:o.digestLength}}else s=a.random.getBytes(o.digestLength);var g=n(s,c-o.digestLength-1,u),v=a.util.xorBytes(y,g,y.length),m=n(v,o.digestLength,u);return"\0"+a.util.xorBytes(s,m,s.length)+v},o.decode_rsa_oaep=function(e,t,r){var i=void 0,s=void 0,o=void 0;"string"==typeof r?(i=r,s=arguments[3]||void 0):r&&(i=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var u=Math.ceil(e.n.bitLength()/8);if(t.length!==u)throw{message:"RSAES-OAEP encoded message length is invalid.",length:t.length,expectedLength:u};if(void 0===s?s=a.md.sha1.create():s.start(),o||(o=s),u<2*s.digestLength+2)throw{message:"RSAES-OAEP key is too short for the hash function."};i||(i=""),s.update(i,"raw");for(var c=s.digest().getBytes(),l=t.charAt(0),p=t.substring(1,s.digestLength+1),f=t.substring(1+s.digestLength),h=n(f,s.digestLength,o),d=n(a.util.xorBytes(p,h,p.length),u-s.digestLength-1,o),y=a.util.xorBytes(f,d,f.length),g=y.substring(0,s.digestLength),v="\0"!==l,m=0;m<s.digestLength;++m)v|=c.charAt(m)!==g.charAt(m);for(var C=1,E=s.digestLength,S=s.digestLength;S<y.length;S++){var F=y.charCodeAt(S);v|=F&(C?65534:0),E+=C&=1&F^1}if(v||1!==y.charCodeAt(E))throw{message:"Invalid RSAES-OAEP padding."};return y.substring(E+1)},o.createDigestInfo=function(e,t,r){var n;if(arguments.length<2){if(!(e.algorithm in s.oids))throw{message:"Unknown message digest algorithm.",algorithm:e.algorithm};if(n=s.oids[e.algorithm],e.hasOwnProperty("parameter")){if(8!=e.parameter.length)throw"invalid parameter length(must be 8 bytes)";r=i.create(i.Class.UNIVERSAL,i.Type,OCTETSTRING,!1,e.parameter)}t=e.digest().getBytes()}else if(n=e,void 0===t)throw{message:"invalid input need digest value"};void 0===r&&(r=i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,""));var a=i.oidToDer(n).getBytes(),o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),u=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);u.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,a)),u.value.push(r);t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t);return o.value.push(u),o.value.push(t),i.toDer(o).getBytes()},e.exports=o},function(e,t,r){function n(e,t,r){var n=s.util.createBuffer(),a=Math.ceil(t.n.bitLength()/8);if(e.length>a-11)throw{message:"Message is too long for PKCS#1 v1.5 padding.",length:e.length,max:a-11};n.putByte(0),n.putByte(r);var i,o=a-3-e.length;if(0===r||1===r){i=0===r?0:255;for(var u=0;u<o;++u)n.putByte(i)}else for(;o>0;){var c=0,l=s.random.getBytes(o);for(u=0;u<o;++u)0===(i=l.charCodeAt(u))?++c:n.putByte(i);o=c}return n.putByte(0),n.putBytes(e),n}function a(e,t,r,n){var a=Math.ceil(t.n.bitLength()/8),i=s.util.createBuffer(e),o=i.getByte(),u=i.getByte();if(0!==o||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&void 0===n)throw{message:"Encryption block is invalid."};var c=0;if(0===u){c=a-3-n;for(var l=0;l<c;++l)if(0!==i.getByte())throw{message:"Encryption block is invalid."}}else if(1===u)for(c=0;i.length()>1;){if(255!==i.getByte()){--i.read;break}++c}else if(2===u)for(c=0;i.length()>1;){if(0===i.getByte()){--i.read;break}++c}if(0!==i.getByte()||c!==a-3-i.length())throw{message:"Encryption block is invalid."};return i.getBytes()}function i(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}var s=r(1);if(void 0===o)var o=s.jsbn.BigInteger;var u=s.asn1;s.pki=s.pki||{},s.pki.rsa=s.rsa=s.rsa||{};var c=s.pki,l=[6,4,2,4,2,4,6,2],p=function(e){var t;if(!(e.algorithm in c.oids))throw{message:"Unknown message digest algorithm.",algorithm:e.algorithm};t=c.oids[e.algorithm];var r=u.oidToDer(t).getBytes(),n=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),a=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);if(a.value.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,r)),e.hasOwnProperty("parameter")){if(8!=e.parameter.length)throw"invalid parameter length(must be 8 bytes)";a.value.push(u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,e.parameter))}else a.value.push(u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,""));var i=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,e.digest().getBytes());return n.value.push(a),n.value.push(i),u.toDer(n).getBytes()},f=function(e,t,r){var n;if(r)n=e.modPow(t.e,t.n);else if(t.p&&t.q){t.dP||(t.dP=t.d.mod(t.p.subtract(o.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(o.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));for(var a=e.mod(t.p).modPow(t.dP,t.p),i=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(i)<0;)a=a.add(t.p);n=a.subtract(i).multiply(t.qInv).mod(t.p).multiply(t.q).add(i)}else n=e.modPow(t.d,t.n);return n};c.rsa.encrypt=function(e,t,r){var a,i=r,u=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(i=2===r,a=n(e,t,r)):(a=s.util.createBuffer()).putBytes(e);for(var c=new o(a.toHex(),16),l=f(c,t,i).toString(16),p=s.util.createBuffer(),h=u-Math.ceil(l.length/2);h>0;)p.putByte(0),--h;return p.putBytes(s.util.hexToBytes(l)),p.getBytes()},c.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i)throw{message:"Encrypted message length is invalid.",length:e.length,expected:i};var u=new o(s.util.createBuffer(e).toHex(),16);if(u.compareTo(t.n)>=0)throw{message:"Encrypted message is invalid."};for(var c=f(u,t,r).toString(16),l=s.util.createBuffer(),p=i-Math.ceil(c.length/2);p>0;)l.putByte(0),--p;return l.putBytes(s.util.hexToBytes(c)),!1!==n?a(l.getBytes(),t,r):l.getBytes()},c.rsa.createKeyPairGenerationState=function(e,t){"string"==typeof e&&(e=parseInt(e,10));var r={nextBytes:function(e){for(var t=s.random.getBytes(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},n={state:0,bits:e=e||2048,rng:r,eInt:t||65537,e:new o(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null};return n.e.fromInt(n.eInt),n},c.rsa.stepKeyPairGenerationState=function(e,t){var r=new o(null);r.fromInt(30);for(var n,a=0,s=function(e,t){return e|t},u=+new Date,p=0;null===e.keys&&(t<=0||p<t);){if(0===e.state){var f=null===e.p?e.pBits:e.qBits,h=f-1;0===e.pqState?(e.num=new o(f,e.rng),e.num.testBit(h)||e.num.bitwiseTo(o.ONE.shiftLeft(h),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),a=0,++e.pqState):1===e.pqState?e.num.bitLength()>f?e.pqState=0:e.num.isProbablePrime(i(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(l[a++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(o.ONE).gcd(e.e).compareTo(o.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(o.ONE),e.q1=e.q.subtract(o.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(o.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var d=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)}}p+=(n=+new Date)-u,u=n}return null!==e.keys},c.rsa.generateKeyPair=function(e,t,r,n){1===arguments.length?"object"==typeof e?(r=e,e=void 0):"function"==typeof e&&(n=e,e=void 0):2===arguments.length?("number"==typeof e?"function"==typeof t?n=t:r=t:(r=e,n=t,e=void 0),t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537);var a=c.rsa.createKeyPairGenerationState(e,t);return n?void function(e,t,r){function n(){u=Math.max(1,u),a(e.pBits,function(t,n){return t?r(t):(e.p=n,void a(e.qBits,i))})}function a(t,r){function n(){var r=t-1,n=new o(t,e.rng);return n.testBit(r)||n.bitwiseTo(o.ONE.shiftLeft(r),d,n),n.dAddOffset(31-n.mod(h).byteValue(),0),n}function a(a){if(!y){var s=a.data;if(s.found){for(var u=0;u<i.length;++u)i[u].terminate();return y=!0,r(null,new o(s.prime,16))}c.bitLength()>t&&(c=n());var f=c.toString(16);a.target.postMessage({e:e.eInt,hex:f,workLoad:l}),c.dAddOffset(p,0)}}for(var i=[],s=0;s<u;++s)i[s]=new Worker(f);var c=n();for(s=0;s<u;++s)i[s].addEventListener("message",a);var y=!1}function i(t,s){if(e.q=s,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p1=e.p.subtract(o.ONE),e.q1=e.q.subtract(o.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(o.ONE))return e.p=e.q=null,void n();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void a(e.qBits,i);var l=e.e.modInverse(e.phi);e.keys={privateKey:c.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:c.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}if("function"==typeof t&&(r=t,t={}),"undefined"==typeof Worker)return function t(){return c.rsa.stepKeyPairGenerationState(e,10)?r(null,e.keys):void s.util.setImmediate(t)}();var u=t.workers||2,l=t.workLoad||100,p=30*l/8,f=t.workerScript||"yt/prime.worker.js",h=new o(null);h.fromInt(30);var d=function(e,t){return e|t};-1===u?s.util.estimateCores(function(e,t){e&&(t=2),u=t-1,n()}):n()}(a,r,n):(c.rsa.stepKeyPairGenerationState(a,0),a.keys)},c.setRsaPublicKey=c.rsa.setPublicKey=function(e,t,r){var i={oid:c.oids.rsaEncryption,n:e,e:t,params:r,encrypt:function(e,t,r){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return n(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return s.pkcs1.encode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw{message:'Unsupported encryption scheme: "'+t+'".'};t={encode:function(e){return e}}}var a=t.encode(e,i,!0);return c.rsa.encrypt(a,i,!0)},verify:function(e,t,r){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){return t=a(t,i,!0),e===u.fromDer(t).value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===(t=a(t,i,!0))}});var n=c.rsa.decrypt(t,i,!0,!1);return s.consoleLog,r.verify(e,n,i.n.bitLength())}};return i},c.kcdsa={},c.setKcdsaPublicKey=c.kcdsa.setPublicKey=function(e,t,r,n){var a={oid:c.oids.kcdsa,y:e,params:{P:t,Q:r,G:n},verify:function(e,t){throw"not supported"}};return a},c.setRsaPrivateKey=c.rsa.setPrivateKey=function(e,t,r,n,i,o,u,l){var f={oid:c.oids.rsaEncryption,n:e,e:t,d:r,p:n,q:i,dP:o,dQ:u,qInv:l,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var n=c.rsa.decrypt(e,f,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:a};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return s.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw{message:'Unsupported encryption scheme: "'+t+'".'};t={decode:function(e){return e}}}return t.decode(n,f,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:p},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,f.n.bitLength());return s.consoleLog,c.rsa.encrypt(n,f,r)}};return f},c.wrapRsaPrivateKey=function(e){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(c.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(e).getBytes())])},e.exports=s.rsa},function(e,t,r){var n=r(1);n.mgf=n.mgf||{},(n.mgf.mgf1=n.mgf1=n.mgf1||{}).create=function(e){return{generate:function(t,r){for(var a=new n.util.ByteBuffer,i=Math.ceil(r/e.digestLength),s=0;s<i;s++){var o=new n.util.ByteBuffer;o.putInt32(s),e.start(),e.update(t+o.getBytes()),a.putBuffer(e.digest())}return a.truncate(a.length()-r),a.getBytes()}}},e.exports=n.mgf1},function(e,t,r){var n=r(1);n.mgf=n.mgf||{},n.mgf.mgf1=n.mgf1,e.exports=n.mgf},function(e,t,r){var n=r(1);(n.pss=n.pss||{}).create=function(e,t,r){var a=e.digestLength,i={verify:function(i,s,o){var u,c=o-1,l=Math.ceil(c/8);if(s=s.substr(-l),l<a+r+2)throw{message:"Inconsistent parameters to PSS signature verification."};if(188!==s.charCodeAt(l-1))throw{message:"Encoded message does not end in 0xBC."};var p=l-a-1,f=s.substr(0,p),h=s.substr(p,a),d=65280>>8*l-c&255;if(0!=(f.charCodeAt(0)&d))throw{message:"Bits beyond keysize not zero as expected."};var y=t.generate(h,p),g="";for(u=0;u<p;u++)g+=String.fromCharCode(f.charCodeAt(u)^y.charCodeAt(u));g=String.fromCharCode(g.charCodeAt(0)&~d)+g.substr(1);var v=l-a-r-2;for(u=0;u<v;u++)if(0!==g.charCodeAt(u))throw{message:"Leftmost octets not zero as expected"};if(1!==g.charCodeAt(v))throw{message:"Inconsistent PSS signature, 0x01 marker not found"};var m=g.substring(g.length-r,g.length),C=new n.util.ByteBuffer;return C.fillWithByte(0,8),C.putBytes(i),C.putBytes(m),e.start(),e.update(C.getBytes()),h===e.digest().getBytes()},encode:function(i,s){var o,u=s-1,c=Math.ceil(u/8),l=i.digest().getBytes();if(c<a+r+2)throw{message:"Message is too long to encrypt"};var p=n.random.getBytes(r),f=new n.util.ByteBuffer;f.fillWithByte(0,8),f.putBytes(l),f.putBytes(p),e.start(),e.update(f.getBytes());var h=e.digest().getBytes(),d=new n.util.ByteBuffer;d.fillWithByte(0,c-r-a-2),d.putByte(1),d.putBytes(p);var y=d.getBytes(),g=c-a-1,v=t.generate(h,g),m="";for(o=0;o<g;o++)m+=String.fromCharCode(y.charCodeAt(o)^v.charCodeAt(o));var C=65280>>8*c-u&255;return(m=String.fromCharCode(m.charCodeAt(0)&~C)+m.substr(1))+h+String.fromCharCode(188)}};return i},e.exports=n.pss},function(e,t,r){function n(e,t){this.x=t,this.q=e}function a(e,t,r,n){this.curve=e,this.x=t,this.y=r,this.z=null==n?o.ONE:n,this.zinv=null}function i(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new a(this,null,null),this.reducer=new u(this.q)}var s=r(1),o=s.jsbn.BigInteger,u=s.jsbn.Barrett;s.ec={},n.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},n.prototype.toBigInteger=function(){return this.x},n.prototype.negate=function(){return new n(this.q,this.x.negate().mod(this.q))},n.prototype.add=function(e){return new n(this.q,this.x.add(e.toBigInteger()).mod(this.q))},n.prototype.subtract=function(e){return new n(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},n.prototype.multiply=function(e){return new n(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},n.prototype.square=function(){return new n(this.q,this.x.square().mod(this.q))},n.prototype.divide=function(e){return new n(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},a.decodeFrom=function(e,t){var r=t[0],n=t.length-1;if(4!=r)throw"not supported ECPoint encoding:"+r;var i=t.slice(1,1+n/2),s=t.slice(1+n/2,1+n);i.unshift(0),s.unshift(0);var u=new o(i),c=new o(s);return new a(e,e.fromBigInteger(u),e.fromBigInteger(c))},a.prototype.getX=function(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var e=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},a.prototype.getY=function(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var e=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(e),this.curve.fromBigInteger(e)},a.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(o.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(o.ZERO))},a.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(o.ZERO)&&!this.y.toBigInteger().equals(o.ZERO)},a.prototype.negate=function(){return new a(this.curve,this.x,this.y.negate(),this.z)},a.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(o.ZERO.equals(r))return o.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new o("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),u=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),c=u.multiply(r),l=i.multiply(u),p=t.square().multiply(this.z),f=p.subtract(l.shiftLeft(1)).multiply(e.z).subtract(c).multiply(r).mod(this.curve.q),h=l.multiply(n).multiply(t).subtract(s.multiply(c)).subtract(p.multiply(t)).multiply(e.z).add(t.multiply(c)).mod(this.curve.q),d=c.multiply(this.z).multiply(e.z).mod(this.curve.q);return new a(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(h),d)},a.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new o("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),s=this.curve.a.toBigInteger(),u=t.square().multiply(e);o.ZERO.equals(s)||(u=u.add(this.z.square().multiply(s)));var c=(u=u.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),l=u.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(u.square().multiply(u)).mod(this.curve.q),p=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new a(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(l),p)},a.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new o("3")),a=this.negate(),i=this;for(t=n.bitLength()-2;t>0;--t){i=i.twice();var s=n.testBit(t);s!=r.testBit(t)&&(i=i.add(s?this:a))}return i},a.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var a=this.curve.getInfinity(),i=this.add(t);n>=0;)a=a.twice(),e.testBit(n)?a=r.testBit(n)?a.add(i):a.add(this):r.testBit(n)&&(a=a.add(t)),--n;return a},s.ec.ECPointFp=a,i.prototype.getQ=function(){return this.q},i.prototype.getA=function(){return this.a},i.prototype.getB=function(){return this.b},i.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},i.prototype.getInfinity=function(){return this.infinity},i.prototype.fromBigInteger=function(e){return new n(this.q,e)},i.prototype.reduce=function(e){this.reducer.reduce(e)},i.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),n=e.substr(t+2,t);return new a(this,this.fromBigInteger(new o(r,16)),this.fromBigInteger(new o(n,16)));default:return null}},i.prototype.encodePointHex=function(e){if(e.isInfinity())return"00";var t=e.getX().toBigInteger().toString(16),r=e.getY().toBigInteger().toString(16),n=this.getQ().toString(16).length;for(n%2!=0&&n++;t.length<n;)t="0"+t;for(;r.length<n;)r="0"+r;return"04"+t+r},s.ec.ECCurveFp=i,e.exports=s.ec},function(e,t,r){function n(e){this.privateKey=e.privateKey,this.publicKey=e.publicKey}var a=r(1),i=a.ec.ECPointFp;n.prototype.computeSharedData=function(e){var t=a.ECParameterDB.getByName("P-256"),r=e.raw.Q.toByteArrayUnsigned();if(!t.h.equals(a.jsbn.BigInteger.ONE))throw"need more calculation(h inverse) but not implemented";var n=(r=i.decodeFrom(t.curve,r)).multiply(this.privateKey.raw.d);return a.crypto.util.arrayToString(n.getX().toBigInteger().toByteArrayUnsigned())},a.ecdh=n,e.exports=a.ecdh},function(e,t,r){var n=r(1),a=n.jsbn.BigInteger,i=n.ec.ECCurveFp;n.ECParameterDB=new function(){function e(e){return new a(e,16)}var t={},r={};this.getByName=function(e){var n=e;if(void 0!==r[n]&&(n=r[e]),void 0!==t[n])return t[n];throw"unregistered EC curve name: "+n},this.regist=function(n,a,s,o,u,c,l,p,f,h,d,y){t[n]={};var g=e(s),v=e(o),m=e(u),C=e(c),E=e(l),S=new i(g,v,m),F=S.decodePointHex("04"+p+f);t[n].name=n,t[n].keylen=a,t[n].curve=S,t[n].G=F,t[n].n=C,t[n].h=E,t[n].oid=d,t[n].info=y;for(var T=0;T<h.length;T++)r[h[T]]=n}},n.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),n.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),n.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),n.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),n.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),n.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),n.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),n.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),n.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),n.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),e.exports=n.ECParameterDB},function(e,t,r){
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
	 */
function n(){this.i=0,this.j=0,this.S=new Array}function a(){var e;e=(new Date).getTime(),d[y++]^=255&e,d[y++]^=e>>8&255,d[y++]^=e>>16&255,d[y++]^=e>>24&255,y>=g&&(y-=g)}function i(){if(null==h){for(a(),(h=new n).init(d),y=0;y<d.length;++y)d[y]=0;y=0}return h.next()}function s(){}function o(e){return F.forEach(function(t){if(t.curveName==S.getName(e))return t}),F.push(new S({curve:e})),F[F.length-1]}function u(){}var c=r(1),l=c.jsbn.BigInteger,p=c.ec.ECPointFp,f=c.pki;n.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},n.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var h,d,y,g=256;if(null==d){var v;if(d=new Array,y=0,"undefined"!=typeof window&&(void 0!==window.crypto||void 0!==window.msCrypto)){var m=window.crypto||window.msCrypto;if(m.getRandomValues){var C=new Uint8Array(32);for(m.getRandomValues(C),v=0;v<32;++v)d[y++]=C[v]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var E=window.crypto.random(32);for(v=0;v<E.length;++v)d[y++]=255&E.charCodeAt(v)}}for(;y<g;)v=Math.floor(65536*Math.random()),d[y++]=v>>>8,d[y++]=255&v;y=0,a()}s.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=i()};var S=function(e){var t=new s;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){var r;return(r=new l(e.bitLength(),t).mod(e.subtract(l.ONE)).add(l.ONE)).bitLength()!=e.bitLength()&&(r=r.setBit(e.bitLength()-1)),r},this.checkBigRandom=function(e,t){var r=t;if(r.bitLength()!=e.bitLength())throw new c.error("mismatch number bits (need "+e.bitLength()+" bits)");r.mod(e.subtract(l.ONE)).add(l.ONE)},this.setNamedCurve=function(e){this.ecparams=c.ECParameterDB.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(e){var t,r=this.ecparams.n;void 0===e?(t=this.getBigRandom(r),this.checkBigRandom(r,t)):(this.checkBigRandom(r,e),t=e);var n=this.ecparams.G.multiply(t),a=n.getX().toBigInteger(),i=n.getY().toBigInteger(),s=this.ecparams.keylen/4,o=("0000000000"+t.toString(16)).slice(-s),u="04"+("0000000000"+a.toString(16)).slice(-s)+("0000000000"+i.toString(16)).slice(-s);return this.setPrivateKeyHex(o),this.setPublicKeyHex(u),{ecprvhex:o,ecpubhex:u}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new l(t,16),n=this.ecparams.n,a=new l(e,16);do{var i=this.getBigRandom(n),s=this.ecparams.G.multiply(i).getX().toBigInteger().mod(n)}while(s.compareTo(l.ZERO)<=0);var o=i.modInverse(n).multiply(a.add(r.multiply(s))).mod(n);return c.ECDSA.biRSSigToASN1Sig(s,o)},this.sign=function(e,t,r){var n=t,a=this.ecparams.n,i=l.fromByteArrayUnsigned(e);do{var s=this.getBigRandom(a);r.hasOwnProperty("k")&&(s=new l(c.util.bytesToHex(r.k),16));var o=this.ecparams.G.multiply(s).getX().toBigInteger().mod(a)}while(o.compareTo(l.ZERO)<=0);var u=s.modInverse(a).multiply(i.add(n.multiply(o))).mod(a);return this.serializeSig(o,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){var n,a,i,s=c.ECDSA.parseSigHex(t);n=s.r,a=s.s,i=p.decodeFromHex(this.ecparams.curve,r);var o=new l(e,16);return this.verifyRaw(o,n,a,i)},this.verify=function(e,t,r){var n,a,i;if(c.util.isArray(t)||c.util.isArrayBuffer){var s=this.parseSig(t);n=s.r,a=s.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";n=t.r,a=t.s}if(r instanceof p)i=r;else{if(!c.util.isArray(r)&&!c.util.isArrayBuffer(r))throw"Invalid format for pubkey value, must be byte array or ECPointFp";i=p.decodeFrom(this.ecparams.curve,r)}var o=l.fromByteArrayUnsigned(e);return this.verifyRaw(o,n,a,i)},this.verifyRaw=function(e,t,r,n){var a=this.ecparams.n,i=this.ecparams.G;if(t.compareTo(l.ONE)<0||t.compareTo(a)>=0)return!1;if(r.compareTo(l.ONE)<0||r.compareTo(a)>=0)return!1;var s=r.modInverse(a),o=e.multiply(s).mod(a),u=t.multiply(s).mod(a);return i.multiply(o).add(n.multiply(u)).getX().toBigInteger().mod(a).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),n=t.toByteArraySigned(),a=[];return a.push(2),a.push(r.length),(a=a.concat(r)).push(2),a.push(n.length),(a=a.concat(n)).unshift(a.length),a.unshift(48),a},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:l.fromByteArrayUnsigned(r),s:l.fromByteArrayUnsigned(n)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:l.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:l.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){var t,r,n,a=ASN1HEX,i=c.ECDSA.getName,s=a.getVbyList;if(!1===a.isASN1HEX(e))throw"not ASN.1 hex string";try{t=s(e,0,[2,0],"06"),r=s(e,0,[1],"04");try{n=s(e,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=i(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){var t,r,n,a=ASN1HEX,i=c.ECDSA.getName,s=a.getVbyList;if(!1===a.isASN1HEX(e))throw"not ASN.1 hex string";try{s(e,0,[1,0],"06"),t=s(e,0,[1,1],"06"),r=s(e,0,[2,0,1],"04");try{n=s(e,0,[2,0,2,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=i(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){var t,r,n=ASN1HEX,a=c.ECDSA.getName,i=n.getVbyList;if(!1===n.isASN1HEX(e))throw"not ASN.1 hex string";try{i(e,0,[0,0],"06"),t=i(e,0,[0,1],"06"),r=i(e,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}if(this.curveName=a(t),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var r,n,a=ASN1HEX,i=S.getName,s=a.getVbyList;if(!1===a.isASN1HEX(e))throw"not ASN.1 hex string";try{r=s(e,0,[0,t,0,1],"06"),n=s(e,0,[0,t,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}if(this.curveName=i(r),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))};S.parseSigHex=function(e){var t=c.ECDSA.parseSigHexInHexRS(e);return{r:new l(t.r,16),s:new l(t.s,16)}},S.parseSigHexInHexRS=function(e){var t=ASN1HEX,r=t.getChildIdx,n=t.getV;if("30"!=e.substr(0,2))throw"signature is not a ASN.1 sequence";var a=r(e,0);if(2!=a.length)throw"number of signature ASN.1 sequence elements seem wrong";var i=a[0],s=a[1];if("02"!=e.substr(i,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=e.substr(s,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:n(e,i),s:n(e,s)}},S.asn1SigToConcatSig=function(e){var t=c.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if("00"==r.substr(0,2)&&r.length/2*8%128==8&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length/2*8%128==8&&(n=n.substr(2)),r.length/2*8%128!=0)throw"unknown ECDSA sig r length error";if(n.length/2*8%128!=0)throw"unknown ECDSA sig s length error";return r+n},S.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return c.ECDSA.hexRSSigToASN1Sig(t,r)},S.hexRSSigToASN1Sig=function(e,t){var r=new l(e,16),n=new l(t,16);return c.ECDSA.biRSSigToASN1Sig(r,n)},S.biRSSigToASN1Sig=function(e,t){var r=KJUR.asn1,n=new r.DERInteger({bigint:e}),a=new r.DERInteger({bigint:t});return new r.DERSequence({array:[n,a]}).getEncodedHex()},S.getName=function(e){return"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null};var F=[];c.ecdsa=new u,u.prototype.generateKeyPair=function(e,t){var r,n;return r=o(e),void 0===t&&(t={}),n=r.generateKeyPairHex(t.privateKey),{privateKey:f.setECPrivateKey(e,new l(n.ecprvhex,16),new l(n.ecpubhex,16)),publicKey:f.setECPublicKey(e,new l(n.ecpubhex,16))}},u.prototype.sign=function(e,t,r,n){var a,i,s=n||{};if(!(a=o(e.namedCurve)))throw"not supported curve";t=c.crypto.util.stringToArray(t),i=a.sign(t,e.d,s),r(i=c.crypto.util.arrayToString(i))},u.prototype.verify=function(e,t,r,n){var a,i=n||{};if(!(a=o(r.namedCurve)))throw"not supported curve";return e=c.crypto.util.stringToArray(e),t=c.crypto.util.stringToArray(t),r=r.Q.toByteArrayUnsigned(),a.verify(e,t,r,i)},e.exports=c.ecdsa},function(e,t,r){function n(e,t,r){var n,a,i=0,s=8*r.digestLength,u=t/s,l=t%s,p=0;for(r.start(),e=o.util.hexToBytes(e.toRadix(16));0==e.charCodeAt(p);)++p;for(a=c.ZERO,i=0;i<=u;++i)r.update(e,p,e.length-p),r.update(String.fromCharCode(i)),n=(n=r.digest()).getBytes(),V_i=new c(n,256),V_i.signum()<0&&(V_i=V_i.negate()),i==u&&(mod=c.ZERO.setBit(l),V_i=V_i.mod(mod)),0!=i&&(mod=c.ZERO.setBit(i*s),V_i=V_i.mod(mod)),a=a.add(V_i);return a}function a(e,t){var r,a,i,s=e.bitLength(),u={};switch(s){case 224:r=o.md.sha224.create();break;case 256:r=o.md.sha256.create();break;default:throw"not supported parameter Q length:"+s}if(t.hasOwnProperty("KKEY")&&t.hasOwnProperty("KSEED"))u.KKEY=t.KKEY,u.KSEED=t.KSEED,a=new c(u.KKEY,256),i=new c(u.KSEED,256);else{var l=function(e,t,r){for(var a;a=o.random.getBytes(e/8),(a=new c(a,256)).setBit(e),a.bitLength()<t.bitLength(););return KSEED=n(new c(o.random.getBytes(e/8),256),e,r),{KKEY:a,KSEED:KSEED}}(s,e,r);a=l.KKEY,i=l.KSEED}var p,f,h=a.add(i),d=c.ZERO.setBit(s);return o.consoleLog,o.consoleLog,h=h.mod(d),o.consoleLog,p=n(h,s,r),o.consoleLog,p=p.mod(e),o.consoleLog,f=n(p.add(i.mod(d)),s,r),a=a.add(f.mod(d)),p}function i(e,t){return t=parseInt(t/8),e.substring(e.length-t)}function s(){this.KKEY=null,this.KSEED=null}var o=r(1),u=o.asn1,c=o.jsbn.BigInteger;s.prototype.encodeRS=function(e,t){var r,n,a=[];return n=String.fromCharCode(0)+e.R.toBinary(t),(a=e.S.toBinary()).charCodeAt(0)>128&&(a=String.fromCharCode(0)+a),r=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,n),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,a)]),(r=u.toDer(r)).getBytes()},s.prototype.decodeRS=function(e){var t={};return e=o.asn1.fromDer(e),t.R=new c(e.value[0].value.substring(1),256),t.S=new c(e.value[1].value,256),t},s.prototype.sign=function(e,t,r,n){var s,u,l,p,f,h,d,y,g=n.digest;d=8*g.blockLength,s=e.params.P,u=e.params.Q,l=e.params.G,y=u.bitLength();var v=a(u,n);f=l.modPow(v,s).toBinary(),h=0,g.start(),g.update(f,h,f.length-h),p=g.digest().getBytes(),o.consoleLog,p=i(p,y),o.consoleLog,Y=function(e,t){var r=e.modInverse(t.Q);return t.G.modPow(r,t.P)}(e.X,e.params),o.consoleLog,h=(f=o.util.hexToBytes(Y.toRadix(16))).length-d/8,f=f.substr(h),o.consoleLog,g.start(),g.update(f,0,f.length),g.update(t,0,t.length),H=g.digest().getBytes(),o.consoleLog,H=i(H,y),o.consoleLog,(p=new c(p,256)).signum()<0&&(p=p.negate()),H=new c(H,256),H.signum()<0&&(H=H.negate());var m=p.xor(H);E=m.mod(u),o.consoleLog,S=v.subtract(E).multiply(e.X).mod(u),o.consoleLog,RS={R:p,S:S},r(RS)},s.prototype.verify=function(e,t,r,n,a){var s,u,l,p,f,h,d,y,g,v,m=n.digest;if(s=e.params.P,u=e.params.Q,l=e.params.G,(f=8*m.blockLength)>(p=u.bitLength())){if(p/8!=parseInt((r.R.bitLength()+7)/8))return void a(!1)}else if(f/8!=parseInt((r.R.bitLength()+7)/8))return void a(!1);return c.ZERO.max(r.S)!=r.S||r.S.max(u)!=u?void a(!1):(h=Y.toRadix(16),h=(h=o.util.hexToBytes(h)).substr(h.length-parseInt(f/8)),o.consoleLog,m.start(),m.update(h),m.update(t),y=i(y=m.digest().getBytes(),p),y=new c(y,256),o.consoleLog,g=r.R.xor(y).mod(u),o.consoleLog,v=(v=(v=Y.modPow(r.S,s)).multiply(l.modPow(g,s))).mod(s),o.consoleLog,h=v.toRadix(16),h=o.util.hexToBytes(h),m.start(),m.update(h),h=m.digest().getBytes(),o.consoleLog,h=i(h,p),o.consoleLog,d=new c(h,256),0!=r.R.compareTo(d)?void a(!1):void a(!0))},o.kcdsa=new s,e.exports=o.kcdsa},function(e,t,r){function n(e){var t=e.toString(16);return t[0]>="8"&&(t="00"+t),o.util.hexToBytes(t)}function a(e,t){var r=o.util.createBuffer(e.publicKeyModulus).toHex(),n=o.util.createBuffer(e.publicKeyExponent).toHex();return u.setRsaPublicKey(new l(r,16),new l(n,16),t)}function i(e,t){var r=o.util.createBuffer(e.y).toHex(),n=[];if(!c.validate(t,h,e,n))throw{message:"Cannot read public key parameter. ASN.1 object does not contain an KCDSAPublicKey Parameter.",errors:n};var a=o.util.createBuffer(e.P).toHex(),i=o.util.createBuffer(e.Q).toHex(),s=o.util.createBuffer(e.G).toHex();return u.setKcdsaPublicKey(new l(r,16),new l(a,16),new l(i,16),new l(s,16))}function s(e,t){var r=o.util.createBuffer(e.q).toHex();if(t.type==c.Type.OID){var n=c.derToOid(t.value);return n=u.oids[n],u.setECPublicKey(n,new l(r,16))}throw{message:"not implemented choice, only support oid type"}}var o=r(1),u=o.pki,c=o.asn1,l=o.jsbn.BigInteger,p={name:"RSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},f={name:"KCDSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"y"},h={name:"KCDSAParameter",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"KCDSAParameter.P",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"P"},{name:"KCDSAParameter.Q",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"Q"},{name:"KCDSAParameter.G",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"G"}]},d={name:"ECDSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,construncted:!0,capture:"q"},y={name:"SubjectPublicKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"publicKey"}]};u.publicKeyValidator=y,u.publicKeyFromAsn1=function(e){var t,r,n={},o=[];if(!c.validate(e,y,n,o))throw{message:"can not read public key.",errors:o};var l=c.derToOid(n.publicKeyOid);switch(l){case u.oids.rsaEncryption:r=p;break;case u.oids.kcdsa:r=f;break;case u.oids.ecdsa:r=d;break;default:throw{message:"Cannot read public key. Unknown OID.",oid:l}}if(e.value[0].value.length>1&&(t=e.value[0].value[1]),e=(e=n.publicKey).substring(1),r==d)n.q=e;else if(e=c.fromDer(e),o=[],!c.validate(e,r,n,o))throw{message:"Cannot read public key. ASN.1 object does not contain an ECPublicKey.",errors:o};switch(r){default:case p:return a(n,t);case f:return i(n,t);case d:return s(n,t)}},u.setECPublicKey=function(e,t){var r={};return r.oid=u.oids.ecdsa,r.type="public",r.namedCurve=e,r.Q=t instanceof l?t:new l(o.util.bytesToHex(t),16),r},u.setKCDSAPublicKey=function(e,t,r,n,a,i){var s=new function(){this.oid=o.pki.oids.kcdsa,this.type="public",this.params={}};if(void 0===e||void 0===t||void 0===r||void 0===n)throw"need mandatory parameters (Y, P, Q, G)";return s.Y=e instanceof l?e:new l(e,256),s.params.P=t instanceof l?t:new l(t,256),s.params.Q=r instanceof l?r:new l(r,256),s.params.G=n instanceof l?n:new l(n,256),a&&(s.params.J=a instanceof l?a:new l(a,256)),i&&(s.params.validation=i),s},u.publicKeyToAsn1=u.publicKeyToSubjectPublicKeyInfo=function(e){var t,r,a;switch(e.oid){case u.oids.rsaEncryption:a=c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,""),r=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+c.toDer(u.publicKeyToRSAPublicKey(e)).bytes());break;case u.oids.kcdsa:(a=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[])).value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.params.P))),a.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.params.Q))),a.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.params.G))),r=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+c.toDer(u.publicKeyToKCDSAPublicKey(e)).bytes());break;case u.oids.ecdsa:a=c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(o.pki.oids.secp256r1).getBytes()),r=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+u.publicKeyToECPublicKey(e));break;default:throw"unknown public key oid:"+e.oid}return(t=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.oid).getBytes()),a])])).value.push(r),t},u.publicKeyToRSAPublicKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.n)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.e))])},u.publicKeyToKCDSAPublicKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.y))},u.publicKeyToECPublicKey=function(e){return n(e.Q)},e.exports=u},function(e,t,r){function n(e){var t=e.toString(16);return t[0]>="8"&&(t="00"+t),o.util.hexToBytes(t)}function a(e,t){var r,n,a,i,s,p,h,d,y={},g=[];if(!c.validate(e,f,y,g))throw{message:"Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.",errors:g};return r=o.util.createBuffer(y.privateKeyModulus).toHex(),n=o.util.createBuffer(y.privateKeyPublicExponent).toHex(),a=o.util.createBuffer(y.privateKeyPrivateExponent).toHex(),i=o.util.createBuffer(y.privateKeyPrime1).toHex(),s=o.util.createBuffer(y.privateKeyPrime2).toHex(),p=o.util.createBuffer(y.privateKeyExponent1).toHex(),h=o.util.createBuffer(y.privateKeyExponent2).toHex(),d=o.util.createBuffer(y.privateKeyCoefficient).toHex(),u.setRsaPrivateKey(new l(r,16),new l(n,16),new l(a,16),new l(i,16),new l(s,16),new l(p,16),new l(h,16),new l(d,16))}function i(e){if(1!=c.derToInteger(e.privateKeyVersion))throw"unknown ecprivatekey version";var t=c.derToOid(e.namedCurve);switch(t=u.oids[t]){case"secp256r1":t="P-256";break;default:throw"not implemented curve name:"+t}return u.setECPrivateKey(t,e.privateKey)}function s(e,t){var r,n,a,i;return r=new l(e.value,256),n=new l(t[0].value,256),a=new l(t[1].value,256),i=new l(t[2].value,256),t.length,u.setKCDSAPrivateKey(r,n,a,i,void 0,void 0)}var o=r(1),u=o.pki,c=o.asn1,l=o.jsbn.BigInteger,p={name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"privateKeyOid"},{name:"AlgorithmIdentifier.parameter",tagClass:c.Class.UNIVERSAL,type:c.Type.ANY,constructed:!1,capture:"keyParameter",optional:!0}]},{name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"privateKey"},{name:"PrivateKeyInfo.attributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,captureAsn1:"attributes",optional:!0}]},f={name:"RSAPrivateKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"ECPrivateKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"ECPrivateKey.privateKey",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"privateKey"},{name:"ECPrivateKey.parameters",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,capture:"namedCurve"}]},{name:"ECPrivateKey.publicKey",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"ECPrivateKey.publicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,capture:"publicKey"}]}]};u.privateKeyToAsn1=function(e){switch(e.oid){case o.pki.oids.rsaEncryption:return u.privateKeyToRSAPrivateKey(e);case o.pki.oids.ecdsa:return u.privateKeyToECPrivateKey(e);default:throw"not implemented oid:"+e.oid}},u.privateKeyToRSAPrivateKey=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(0).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.n)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.e)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.d)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.p)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.q)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.dP)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.dQ)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,n(e.qInv))])},u.privateKeyToECPrivateKey=function(e){var t,r,a;switch(e.namedCurve){default:case"P-256":a="secp256r1"}return a=u.oids[a],r=c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(a).getBytes()),e.hasOwnProperty("Q")&&(t=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+n(e.Q))),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(1)),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,n(e.d)),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[r]),t?c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[t]):void 0])},u.setECPrivateKey=function(e,t,r){var n={};return n.oid=o.pki.oids.ecdsa,n.type="private",n.namedCurve=e,n.d=t instanceof l?t:new l(o.util.bytesToHex(t),16),n.Q=r instanceof l?r:new l(o.util.bytesToHex(r),16),n},u.setKCDSAPrivateKey=function(e,t,r,n,a,i){var s={};if(void 0===e||void 0===t||void 0===r||void 0===n)throw"need mandatory parameters (X, P, Q, G)";return s.oid=o.pki.oids.kcdsa,s.type="private",s.params={},s.X=e instanceof l?e:new l(e,256),s.params.P=t instanceof l?t:new l(t,256),s.params.Q=r instanceof l?r:new l(r,256),s.params.G=n instanceof l?n:new l(n,256),a&&(s.params.J=a instanceof l?a:new l(a,256)),i&&(s.params.validation=i),s},u.privateKeyFromAsn1=function(e,t,r){var n={},u=[];return t==o.oids.kcdsa?s(e,r):(c.validate(e,p,n,u)&&(e=c.fromDer(o.util.createBuffer(n.privateKey)),void 0===t&&n.privateKeyOid&&(t=c.derToOid(n.privateKeyOid)),n.keyParameter&&!r&&(r=n.keyParameter)),u=[],n=[],c.validate(e,h,n,u)?i(n):a(e))},e.exports=u},function(e,t,r){function n(e,t,r,n,s){var l,p,f,h=n.algorithm,d={hash:{name:"SHA-256"}},y=!0,g=[],v=!0;switch(void 0===h&&(h="RSASSA-PKCS1-v1_5"),h){case"RSA-PSS":d.name="RSA-PSS",d.saltLength=n.saltLength||32,v=!0;break;case"RSASSA-PKCS1-v1_5":d.name="RSASSA-PKCS1-v1_5",v=!0;break;case"RSAES-PKCS1-v1_5":d.name="RSAES-PKCS1-v1_5",v=!1;break;case"RSAES-OAEP":d.name="RSAES_OAEP",v=!1;break;default:return void s(new a.error("not supported algorithm for cms signing:"+h))}if(a.useWebCrypto&&r&&u){if("private"==t)p=e,l=a.pki.privateKeyToAsn1(e),f="pkcs8",y=!1,v?g.push("sign"):g.push("decrypt");else try{l=a.pki.publicKeyToAsn1(e),p=a.pki.publicKeyFromAsn1(l),f="spki",v?g.push("verify"):g.push("encrypt")}catch(e){return void s(new a.error("ìì ìë í¤ ìëë¤:"+e))}(function(e,r,n){var s;switch(o.importWebCryptoPrivateKeyMethod){case"pkcs8":s=a.crypto.util.stringToArrayBuffer(r),f="pkcs8";break;case"jwk":var l=i.encode(e,p);f="jwk",o.wrapWebCryptoArrayBuffer?(l=JSON.stringify(l),s=a.crypto.util.stringToArrayBuffer(l)):s=l;break;default:return void n(new a.error("not supported importKey method:"+o.importWebCryptoPrivateKeyMethod))}c(u.importKey(f,s,d,y,g),function(e){n(new a.crypto.key(e,t,!0))},function(e){a.consoleLog,n(new a.error(e))})})(h,a.asn1.toDer(l).getBytes(),s)}else s(new a.crypto.key(e,t))}var a=r(1),i=r(36),s=r(37),o=a.getSettings(),u=o.subtle,c=function(e,t,r){return e.then?e.then(t,r):(e.onerror=r,e.oncomplete=function(){1==arguments.length&&arguments[0]instanceof Event&&(arguments[0]=arguments[0].target.result),t.apply(this,arguments)},e)};a.Promise=c,a.crypto.key=function(e,t,r){function n(e,t,r,n,i){a.consoleLog,n=a.crypto.util.hexToArrayBuffer(a.util.bytesToHex(n)),r=a.crypto.util.hexToArrayBuffer(a.util.bytesToHex(r)),c(u.verify(t,e.raw,r,n),function(e){a.consoleLog,i(e)},function(e){a.consoleLog,i(new a.error(e))})}if(void 0!==e){var l,p=0;if(this.raw=e,this.type=t,this.webcrypto=!(void 0===r||!r),this.webcrypto)void 0===t&&"type"in e&&(this.type=e.type);else switch(e.oid){case a.pki.oids.rsaEncryption:if(l="RSA",!e.hasOwnProperty("n")||!e.hasOwnProperty("e"))throw new a.error("bad rsa publickey");e.hasOwnProperty("p")&&e.hasOwnProperty("q")?this.type="private":this.type="public",p=e.n.bitLength();break;case a.pki.oids.kcdsa:l="KCDSA",p=e.params.P.bitLength(),e.hasOwnProperty("y")?this.type="public":this.type="private";break;case a.pki.oids.ecdsa:l="ECDSA",this.namedCurve=e.namedCurve,e.hasOwnProperty("type")&&(this.type=e.type);break;default:throw new a.error("not supported key")}this.getKeyAlgorithm=function(){return l},this.getKeySize=function(){return p},this.encrypt=function(e,t,r){var n,i,o;if(void 0!==t&&"RSA-OAEP"===t.name&&(i="RSA-OAEP","label"in t))throw new a.error("not supported OAEP label");return a.useWebCrypto&&this.webcrypto?void(this.raw.extractable?s.exportKeyInfo.call(this,function(t){t=a.pki.publicKeyFromAsn1(a.asn1.fromDer(t)),n=t.encrypt(e,i,o),r(n)}):s.encrypt.apply(this,arguments)):(n=this.raw.encrypt(e,i,o),void 0===r?n:void r(n))},this.decrypt=function(e,t,r){var n,i,s;if(void 0!==t&&"RSA-OAEP"===t.name&&(i="RSA-OAEP","label"in t))throw new a.error("not supported OAEP label");if(a.useWebCrypto&&this.webcrypto){if(this.raw.extractable)return void this.exportKeyInfo(function(t){t=a.pki.privateKeyFromAsn1(a.asn1.fromDer(t)),n=t.decrypt(e,i,s),r(n)});throw new yt.error("need extractable webcrypto key.")}try{n=this.raw.decrypt(e,i,s)}catch(e){if(r)return void r(new a.error(e))}return void 0===r?n:void r(n)},this.sign=function(e,t,r,n){if("private"===this.type)if(-1==e.name.indexOf("RSA"))if("ECDSA"!=e.name){if("KCDSA"!=e.name)throw"unknown algorithm:"+e.name;!function(e,t,r,n,i){var s,o={};if("RAW"===t.hash)throw"not supported hash";s=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()],o.digest=s.create(),a.kcdsa.sign(e.raw,r,function(t){t=a.kcdsa.encodeRS(t,e.raw.params.Q.bitLength()/8),n(t)},o)}(this,e,t,r)}else!function(e,t,r,n,i){var s,o;"RAW"!==t.hash?((s=(s=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()]).create()).update(r),o=s.digest().getBytes()):o=r,a.ecdsa.sign(e.raw,o,n,i)}(this,e,t,r,n);else!function(e,t,r,n){var i,s,o=0;if(a.consoleLog,t.hasOwnProperty("saltLength")?o=t.saltLength:(o=32,"RSA-PSS"===t.name&&(t.saltLength=o)),a.consoleLog,t.hash.hasOwnProperty("parameter")&&(s=t.hash.parameter),a.useWebCrypto&&e.webcrypto){if(void 0!==s)return void n(new a.error("webcrypto object does not support sign with parameter"));i=a.crypto.util.stringToArrayBuffer(r),a.consoleLog,c(u.sign(t,e.raw,i.buffer),function(e){a.consoleLog,n(a.crypto.util.arrayBufferToString(e))},function(e){a.consoleLog,n(new a.error(e))})}else{var l,p,f,h;t.inputTypeDigestInfo?(p=r,h=null):"RAW"!==t.hash?((p=(l=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()]).create()).update(r),a.consoleLog,void 0!==s&&(p.parameter=s),"RSA-PSS"===t.name&&(h=a.pss.create(p,a.mgf.mgf1.create(l.create()),o))):p={algorithm:"RAW",digest:function(){return new ByteBuffer(r)}},f=e.raw.sign(p,h),a.consoleLog,n(f)}}(this,e,t,r);else r(new a.error("publicKey can not sign a data"))},this.verify=function(e,t,r,i){return"public"!==this.type?void i(new a.error("privateKey can not verify a signature")):void(-1!=e.name.indexOf("RSA")?function(e,t,r,i,s){var o,u=0;if(a.consoleLog,o=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()],t.hasOwnProperty("saltLength")?u=t.saltLength:(u=32,"RSA-PSS"===t.name&&(t.saltLength=u)),a.consoleLog,a.useWebCrypto&&e.webcrypto)n(e,t,r,i,s);else{var c,l=o.create();a.consoleLog,a.consoleLog,t.inputTypeDigestInfo?c=a.asn1.fromDer(i).value[1].value:((l=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()].create()).update(i),c=l.digest().getBytes()),a.consoleLog;try{var p;"RSA-PSS"===t.name&&(p=a.pss.create(l,a.mgf.mgf1.create(o.create()),u));var f=e.raw.verify(c,r,p)}catch(e){return a.consoleLog,void s(new a.error(e.message?e.message:e))}s(f)}}(this,e,t,r,i):"ECDSA"==e.name?function(e,t,r,n,i){var s,o;"RAW"!==t.hash?((s=(s=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()]).create()).update(n),o=s.digest().getBytes()):o=n,i(a.ecdsa.verify(o,r,e.raw))}(this,e,t,r,i):"KCDSA"==e.name&&function(e,t,r,n,i){var s,o={};if("RAW"===t.hash)throw"not supported hash algorithm raw";s=a.md.algorithms[t.hash.name.replace("-","").toLowerCase()],o.digest=s.create(),r=a.kcdsa.decodeRS(r),a.kcdsa.verify(e.raw,n,r,o,function(e){i(e)})}(this,e,t,r,i))},this.exportKeyInfo=function(e,t){function r(r,n){var i,s,o;if(n.hasOwnProperty("namedCurve")&&(i=a.asn1.oidToDer(a.pki.oids.secp256r1).getBytes()),"public"==r){if(a.consoleLog,s=a.pki.publicKeyToAsn1(n),t.rawPublicKey)return a.consoleLog,o=s.value[1].value.substring(1),void e(o,i)}else"private"==r&&(a.consoleLog,s=a.pki.privateKeyToAsn1(n));e(a.asn1.toDer(s).getBytes(),i)}function n(t){a.consoleLog,e(new a.error(t))}var s=this;if(t=t||{},!1!==a.useWebCrypto&&!1!==this.webcrypto){var l="";l="public"==this.type?o.exportWebCryptoPublicKeyMethod:o.exportWebCryptoPrivateKeyMethod;try{c(u.exportKey(l,this.raw),function(e){var t=e,n=null;if(o.wrapWebCryptoArrayBuffer){if(t=a.crypto.util.arrayBufferToString(e),"jwk"==l)try{n=JSON.parse(t)}catch(e){a.consoleLog}}else"jwk"==l&&(n=t);null!=n&&(t=i.decode(n)),r(s.type,t)},n)}catch(e){n(e)}}else r(this.type,this.raw)}}},a.crypto.key.fromBytes=function(e,t,r,i){var s,o,u,c="public";void 0===r&&(r={}),u=r.autoImport,o=a.asn1.fromDer(e);try{s=a.pki.privateKeyFromAsn1(o,i),c="private"}catch(e){try{s=a.pki.publicKeyFromAsn1(o),c="public"}catch(e){return a.consoleLog,void t(new a.error("ìì ìë í¤ ìëë¤:"+e))}}switch(void 0===i&&(i=s.oid),i){case a.pki.oids.kcdsa:!function(e,t,r,n){r(new a.crypto.key(e,t))}(s,c,t);break;case a.pki.oids.ecdsa:!function(e,t,r){r(new a.crypto.key(e,t))}(s,c,t);break;case a.pki.oids.rsaEncryption:default:n(s,c,u,r,t)}},a.crypto.key.fromString=function(e,t){return a.crypto.key.fromBytes(a.util.hexToBytes(e),t)},a.crypto.generateKey=function(e,t,r,n){if(a.crypto.handlers.generateKey)a.crypto.handlers.generateKey(e,t,r,n);else if(a.useWebCrypto&&u&&e.webcrypto&&"ECDSA"!=e.name)s.generateKey(e,t,r,n);else{var i;if(-1!=e.name.indexOf("RSA"))i=a.rsa.generateKeyPair(e.modulusLength,void 0!==e.publicExponent?e.publicExponent:65537);else{if("ECDSA"!=e.name)throw"unsupported algorithm name:"+e.name;i=a.ecdsa.generateKeyPair(e.namedCurve,e.options)}a.consoleLog,n({publicKey:new a.crypto.key(i.publicKey,"public"),privateKey:new a.crypto.key(i.privateKey,"private")})}},e.exports=a.crypto.key},function(e,t,r){function n(e){return e=s.crypto.util.decode64url(e),new s.jsbn.BigInteger(e,256)}function a(e){var t;return t=e.toString(16),s.crypto.util.encode64url(s.util.hexToBytes(t))}function i(){}var s=r(1);i.prototype.encode=function(e,t){var r={kty:"RSA",alg:"RS256"};return"RSA-PSS"==e&&(r.alg="PS256"),r.n=a(t.n),r.e=a(t.e),t.hasOwnProperty("d")&&(r.d=a(t.d),r.p=a(t.p),r.q=a(t.q),r.dp=a(t.dP),r.dq=a(t.dQ),r.qi=a(t.qInv)),r},i.prototype.decode=function(e){return!1===e.hasOwnProperty("d")?s.pki.setRsaPublicKey(n(e.n),n(e.e)):s.pki.setRsaPrivateKey(n(e.n),n(e.e),n(e.d),n(e.p),n(e.q),n(e.dp),n(e.dq),n(e.qi))},e.exports=new i},function(e,t,r){var n=r(1),a=r(36),i={},s=n.getSettings(),o=s.subtle,u=function(e,t,r){return e.then?e.then(t,r):(e.onerror=r,e.oncomplete=function(){1==arguments.length&&arguments[0]instanceof Event&&(arguments[0]=arguments[0].target.result),t.apply(this,arguments)},e)};i.encrypt=function(e,t,r){e=n.crypto.util.stringToArrayBuffer(e),u(o.encrypt(t,this.raw,e),function(e){n.consoleLog,r(n.crypto.util.arrayBufferToString(e))},function(e){n.consoleLog,r(new n.error(e))})},i.exportKeyInfo=function(e,t){function r(r,a){var i,s,o;if(a.hasOwnProperty("namedCurve")&&(i=n.asn1.oidToDer(n.pki.oids.secp256r1).getBytes()),"public"==r){if(n.consoleLog,s=n.pki.publicKeyToAsn1(a),t.rawPublicKey)return n.consoleLog,o=s.value[1].value.substring(1),void e(o,i)}else"private"==r&&(n.consoleLog,s=n.pki.privateKeyToAsn1(a));e(n.asn1.toDer(s).getBytes(),i)}function i(t){n.consoleLog,e(new n.error(t))}var c=this;if(t=t||{},!1!==n.useWebCrypto&&!1!==this.webcrypto){var l="";l="public"==this.type?s.exportWebCryptoPublicKeyMethod:s.exportWebCryptoPrivateKeyMethod;try{u(o.exportKey(l,this.raw),function(e){var t=e,i=null;if(s.wrapWebCryptoArrayBuffer){if(t=n.crypto.util.arrayBufferToString(e),"jwk"==l)try{i=JSON.parse(t)}catch(e){n.consoleLog}}else"jwk"==l&&(i=t);null!=i&&(t=a.decode(i)),r(c.type,t)},i)}catch(e){i(e)}}else r(this.type,this.raw)},i.generateKey=function(e,t,r,a){try{u(o.generateKey(e,t,r),function(e){publicKey=new n.crypto.key(e.publicKey,"public",!0),privateKey=new n.crypto.key(e.privateKey,"private",!0),n.consoleLog,a({publicKey:publicKey,privateKey:privateKey})},function(t){e===t&&(n.consoleLog,t="Unsupported Algorithm or Keysize(maybe)"),a(new n.error(t))})}catch(e){n.consoleLog,n.consoleLog,a(new n.error(e))}},e.exports=i},function(e,t,r){var n=r(1),a=n.hmac=n.hmac||{};a.create=function(){var e=null,t=null,r=null,a=null,i={start:function(i,s){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in n.md.algorithms))throw'Unknown hash algorithm "'+i+'"';t=n.md.algorithms[i].create()}else t=i;if(null===s)s=e;else{if("string"==typeof s)s=n.util.createBuffer(s);else if(n.util.isArray(s)){var o=s;s=n.util.createBuffer();for(var u=0;u<o.length;++u)s.putByte(o[u])}var c=s.length();c>t.blockLength&&(t.start(),t.update(s.bytes()),s=t.digest()),r=n.util.createBuffer(),a=n.util.createBuffer(),c=s.length();for(u=0;u<c;++u){o=s.at(u);r.putByte(54^o),a.putByte(92^o)}if(c<t.blockLength)for(o=t.blockLength-c,u=0;u<o;++u)r.putByte(54),a.putByte(92);e=s,r=r.bytes(),a=a.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(a),t.update(e),t.digest()}};return i.digest=i.getMac,i},e.exports=a},function(e,t,r){e.exports={},r(40),r(41),r(42),r(43),r(46),r(48),r(49),r(50),r(57),r(58),r(61),r(62),r(63),r(64),r(65)},function(e,t,r){function n(){throw"not implemented. see u soon!"}var a=r(1),i=r(39);i.consoleLog=!1,i.console={},i.console.log=function(e){0!=i.consoleLog&&(void 0===window.console?document.title=e:window.console.log(e))},i.error=function(e,t){void 0===t&&(t=e,e=void 0),this.code=e,this.reason=[t],this.getReason=function(){return this.reason},this.pushReason=function(e){this.reason.push(e)}},a&&(a.error=i.error),i.common={},i.common.addEvent=function(e,t,r){var n,a;if(a=(n=t.toLowerCase()).indexOf("on"),window.addEventListener)0==a&&(n=n.substring(2)),e.addEventListener(n,r,!1),e[n]||(e[n]=r);else{if(!window.attachEvent)throw"unknown add event method";0!=a&&(n="on"+n),e.attachEvent(n,r)}},n.prototype.toArrayBuffer=function(){},n.prototype.toHex=function(){},n.fromString=function(){return new n},i.bytes=n,e.exports=i.error},function(e,t,r){var n=r(39),a=n._asn1=n._asn1||{},i=a;a.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},a.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},a.create=function(e,t,r,a){if(n.util.isArray(a)){for(var i=[],s=0;s<a.length;++s)void 0!==a[s]&&i.push(a[s]);a=i}return{tagClass:e,type:t,constructed:r,composed:r||n.util.isArray(a),value:a}};var s=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};a.fromDer=function(e,t){if(void 0===t&&(t=!0),"string"==typeof e&&(e=n.util.createBuffer(e)),e.length()<2)throw{message:"Too few bytes to parse DER.",bytes:e.length()};var r=e.getByte(),i=192&r,o=31&r,u=s(e);if(e.length()<u){if(t)throw{message:"Too few bytes to read ASN.1 value.",detail:e.length()+" < "+u};u=e.length()}var c,l=32==(32&r),p=l;if(!p&&i===a.Class.UNIVERSAL&&o===a.Type.BITSTRING&&u>1){var f=e.read;e.getByte();e.read=f}if(p)if(c=[],void 0===u)for(;;){if(e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2);break}c.push(a.fromDer(e,t))}else for(var h=e.length();u>0;)c.push(a.fromDer(e,t)),u-=h-e.length(),h=e.length();else{if(void 0===u){if(t)throw{message:"Non-constructed ASN.1 object of indefinite length."};u=e.length()}if(o===a.Type.BMPSTRING){c="";for(var d=0;d<u;d+=2)c+=String.fromCharCode(e.getInt16())}else c=e.getBytes(u)}return a.create(i,o,l,c)},a.toDer=function(e){var t=n.util.createBuffer(),r=e.tagClass|e.type,i=n.util.createBuffer();if(e.composed){e.constructed?r|=32:i.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&i.putBuffer(a.toDer(e.value[s]))}else if(e.type===a.Type.BMPSTRING)for(s=0;s<e.value.length;++s)i.putInt16(e.value.charCodeAt(s));else i.putBytes(e.value);if(t.putByte(r),i.length()<=127)t.putByte(127&i.length());else{var o=i.length(),u="";do{u+=String.fromCharCode(255&o),o>>>=8}while(o>0);t.putByte(128|u.length);for(s=u.length-1;s>=0;--s)t.putByte(u.charCodeAt(s))}return t.putBuffer(i),t},a.oidToDer=function(e){var t=e.split("."),r=n.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var a,i,s,o,u=2;u<t.length;++u){a=!0,i=[],s=parseInt(t[u],10);do{o=127&s,s>>>=7,a||(o|=128),i.push(o),a=!1}while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r},a.derToOid=function(e){var t;"string"==typeof e&&(e=n.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var a=0;e.length()>0;)a<<=7,128&(r=e.getByte())?a+=127&r:(t+="."+(a+r),a=0);return t},a.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,a=parseInt(e.substr(4,2),10),i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=0;if(e.length>11){var u=e.charAt(10),c=10;"+"!==u&&"-"!==u&&(o=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(r,n,a),t.setUTCHours(i,s,o,0),c&&("+"===(u=e.charAt(c))||"-"===u)){var l=60*parseInt(e.substr(c+1,2),10)+parseInt(e.substr(c+4,2),10);l*=6e4,"+"===u?t.setTime(+t-l):t.setTime(+t+l)}return t},a.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,a=parseInt(e.substr(6,2),10),i=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),u=0,c=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var p=e.length-5,f=e.charAt(p);"+"!==f&&"-"!==f||(c=60*parseInt(e.substr(p+1,2),10)+parseInt(e.substr(p+4,2),10),c*=6e4,"+"===f&&(c*=-1),l=!0);return"."===e.charAt(14)&&(u=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,a),t.setUTCHours(i,s,o,u),t.setTime(+t+c)):(t.setFullYear(r,n,a),t.setHours(i,s,o,u)),t},a.dateToUtcTime=function(e){var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},a.integerToDer=function(e){var t=n.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);throw{message:"Integer too large; max is 32-bits.",integer:e}},a.derToInteger=function(e){"string"==typeof e&&(e=n.util.createBuffer(e));var t=8*e.length();if(t>32)throw{message:"Integer too large; max is 32-bits."};return e.getSignedInt(t)},a.validate=function(e,t,r,i){var s=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)i&&(e.tagClass!==t.tagClass&&i.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&i.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(s=!0,t.value&&n.util.isArray(t.value))for(var o=0,u=0;s&&u<t.value.length;++u)s=t.value[u].optional||!1,e.value[o]&&((s=a.validate(e.value[o],t.value[u],r,i))?++o:t.value[u].optional&&(s=!0)),!s&&i&&i.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e))}else i&&i.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return s};var o=/[^\\u0000-\\u00ff]/;a.prettyPrint=function(e,t,r){var i="";t=t||0,r=r||2,t>0&&(i+="\n");for(var s="",u=0;u<t*r;++u)s+=" ";switch(i+=s+"Tag: ",e.tagClass){case a.Class.UNIVERSAL:i+="Universal:";break;case a.Class.APPLICATION:i+="Application:";break;case a.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case a.Class.PRIVATE:i+="Private:"}if(e.tagClass===a.Class.UNIVERSAL)switch(i+=e.type,e.type){case a.Type.NONE:i+=" (None)";break;case a.Type.BOOLEAN:i+=" (Boolean)";break;case a.Type.BITSTRING:i+=" (Bit string)";break;case a.Type.INTEGER:i+=" (Integer)";break;case a.Type.OCTETSTRING:i+=" (Octet string)";break;case a.Type.NULL:i+=" (Null)";break;case a.Type.OID:i+=" (Object Identifier)";break;case a.Type.ODESC:i+=" (Object Descriptor)";break;case a.Type.EXTERNAL:i+=" (External or Instance of)";break;case a.Type.REAL:i+=" (Real)";break;case a.Type.ENUMERATED:i+=" (Enumerated)";break;case a.Type.EMBEDDED:i+=" (Embedded PDV)";break;case a.Type.UTF8:i+=" (UTF8)";break;case a.Type.ROID:i+=" (Relative Object Identifier)";break;case a.Type.SEQUENCE:i+=" (Sequence)";break;case a.Type.SET:i+=" (Set)";break;case a.Type.PRINTABLESTRING:i+=" (Printable String)";break;case a.Type.IA5String:i+=" (IA5String (ASCII))";break;case a.Type.UTCTIME:i+=" (UTC time)";break;case a.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case a.Type.BMPSTRING:i+=" (BMP String)"}else i+=e.type;if(i+="\n",i+=s+"Constructed: "+e.constructed+"\n",e.composed){var c=0,l="";for(u=0;u<e.value.length;++u)void 0!==e.value[u]&&(c+=1,l+=a.prettyPrint(e.value[u],t+1,r),u+1<e.value.length&&(l+=","));i+=s+"Sub values: "+c+l}else{if(i+=s+"Value: ",e.type===a.Type.OID){var p=a.derToOid(e.value);i+=p,n.pki&&n.pki.oids&&p in n.pki.oids&&(i+=" ("+n.pki.oids[p]+")")}if(e.type===a.Type.INTEGER)try{i+=a.derToInteger(e.value)}catch(t){i+="0x"+n.util.bytesToHex(e.value)}else i+=o.test(e.value)?"0x"+n.util.createBuffer(e.value,"utf8").toHex():0===e.value.length?"[null]":e.value}return i},e.exports=i},function(e,t,r){function n(e){if("object"!=typeof e)throw"yt.asn1: invalid input";this._asn=e}var a=r(39);n.prototype.getAsn1=function(){return this._asn},n.prototype.validate=function(e,t,r){return a._asn1.validate(this._asn,e,t,r)},n.prototype.toBytes=function(){return a._asn1.toDer(this._asn).getBytes()},n.prototype.toHex=function(){return a.util.bytesToHex(this.toBytes())},n.prototype.toBase64=function(){return a.util.encode64(this.toBytes())},n.fromRaw=function(e){return new n(e)},n.fromDer=function(e){var t=a._asn1.fromDer(e);return a.asn1.fromRaw(t)},n.fromBytes=n.fromDer,n.fromString=function(e){var t;return t=a.util.hexToBytes(e),a.asn1.fromDer(t)},a.asn1=n,e.exports=n},function(e,t,r){(function(t,n){var a=r(39),i=a.util=a.util||{};void 0!==t&&t.nextTick?(i.nextTick=t.nextTick,i.setImmediate="function"==typeof n?n:i.nextTick):"function"==typeof n?(i.setImmediate=n,i.nextTick=function(e){return n(e)}):(i.setImmediate=function(e){setTimeout(e,0)},i.nextTick=i.setImmediate),i.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer};var s=[];"undefined"!=typeof Int8Array&&s.push(Int8Array),"undefined"!=typeof Uint8Array&&s.push(Uint8Array),"undefined"!=typeof Uint8ClampedArray&&s.push(Uint8ClampedArray),"undefined"!=typeof Int16Array&&s.push(Int16Array),"undefined"!=typeof Uint16Array&&s.push(Uint16Array),"undefined"!=typeof Int32Array&&s.push(Int32Array),"undefined"!=typeof Uint32Array&&s.push(Uint32Array),"undefined"!=typeof Float32Array&&s.push(Float32Array),"undefined"!=typeof Float64Array&&s.push(Float64Array),i.isArrayBufferView=function(e){for(var t=0;t<s.length;++t)if(e instanceof s[t])return!0;return!1},i.ByteBuffer=function(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(i.isArrayBuffer(e)||i.isArrayBufferView(e)){var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}},i.ByteBuffer.prototype.length=function(){return this.data.length-this.read},i.ByteBuffer.prototype.isEmpty=function(){return this.length()<=0},i.ByteBuffer.prototype.putByte=function(e){return this.data+=String.fromCharCode(e),this},i.ByteBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this},i.ByteBuffer.prototype.putBytes=function(e){return this.data+=e,this},i.ByteBuffer.prototype.putString=function(e){return this.data+=i.encodeUtf8(e),this},i.ByteBuffer.prototype.putInt16=function(e){return this.data+=String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},i.ByteBuffer.prototype.putInt24=function(e){return this.data+=String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},i.ByteBuffer.prototype.putInt32=function(e){return this.data+=String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e),this},i.ByteBuffer.prototype.putInt16Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255),this},i.ByteBuffer.prototype.putInt24Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255),this},i.ByteBuffer.prototype.putInt32Le=function(e){return this.data+=String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255),this},i.ByteBuffer.prototype.putInt=function(e,t){do{t-=8,this.data+=String.fromCharCode(e>>t&255)}while(t>0);return this},i.ByteBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},i.ByteBuffer.prototype.putBuffer=function(e){return this.data+=e.getBytes(),this},i.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},i.ByteBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},i.ByteBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},i.ByteBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},i.ByteBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},i.ByteBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},i.ByteBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},i.ByteBuffer.prototype.getInt=function(e){var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},i.ByteBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},i.ByteBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},i.ByteBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},i.ByteBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},i.ByteBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},i.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},i.ByteBuffer.prototype.copy=function(){var e=i.createBuffer(this.data);return e.read=this.read,e},i.ByteBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},i.ByteBuffer.prototype.clear=function(){return this.data="",this.read=0,this},i.ByteBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},i.ByteBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},i.ByteBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())},i.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=i.encodeUtf8(e)),new i.ByteBuffer(e)},i.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},i.xorBytes=function(e,t,r){for(var n="",a="",i="",s=0,o=0;r>0;--r,++s)a=e.charCodeAt(s)^t.charCodeAt(s),o>=10&&(n+=i,i="",o=0),i+=String.fromCharCode(a),++o;return n+i},i.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},i.bytesToHex=function(e){return i.createBuffer(e).toHex()},i.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];i.encode64=function(e,t){for(var r,n,a,i="",s="",u=0;u<e.length;)r=e.charCodeAt(u++),n=e.charCodeAt(u++),a=e.charCodeAt(u++),i+=o.charAt(r>>2),i+=o.charAt((3&r)<<4|n>>4),isNaN(n)?i+="==":(i+=o.charAt((15&n)<<2|a>>6),i+=isNaN(a)?"=":o.charAt(63&a)),t&&i.length>t&&(s+=i.substr(0,t)+"\r\n",i=i.substr(t));return s+i},i.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,a,i="",s=0;s<e.length;)t=u[e.charCodeAt(s++)-43],r=u[e.charCodeAt(s++)-43],n=u[e.charCodeAt(s++)-43],a=u[e.charCodeAt(s++)-43],i+=String.fromCharCode(t<<2|r>>4),64!==n&&(i+=String.fromCharCode((15&r)<<4|n>>2),64!==a&&(i+=String.fromCharCode((3&n)<<6|a)));return i},i.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},i.decodeUtf8=function(e){return decodeURIComponent(escape(e))},i.deflate=function(e,t,r){if(t=i.decode64(e.deflate(i.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},i.inflate=function(e,t,r){var n=e.inflate(i.encode64(t)).rval;return null===n?null:i.decode64(n)};var c=function(e,t,r){if(!e)throw{message:"WebStorage not available."};var n;if(null===r?n=e.removeItem(t):(r=i.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval)throw n.error},l=function(e,t){if(!e)throw{message:"WebStorage not available."};var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error)throw r.error;r=null}else r=r.rval;return null!==r&&(r=JSON.parse(i.decode64(r))),r},p=function(e,t,r,n){var a=l(e,t);null===a&&(a={}),a[r]=n,c(e,t,a)},f=function(e,t,r){var n=l(e,t);return null!==n&&(n=r in n?n[r]:null),n},h=function(e,t,r){var n=l(e,t);if(null!==n&&r in n){delete n[r];var a=!0;for(var i in n){a=!1;break}a&&(n=null),c(e,t,n)}},d=function(e,t){c(e,t,null)},y=function(e,t,r){var n=null;void 0===r&&(r=["web","flash"]);var a,i=!1,s=null;for(var o in r){a=r[o];try{if("flash"===a||"both"===a){if(null===t[0])throw{message:"Flash local storage not available."};n=e.apply(this,t),i="flash"===a}"web"!==a&&"both"!==a||(t[0]=localStorage,n=e.apply(this,t),i=!0)}catch(e){s=e}if(i)break}if(!i)throw s;return n};i.setItem=function(e,t,r,n,a){y(p,arguments,a)},i.getItem=function(e,t,r,n){return y(f,arguments,n)},i.removeItem=function(e,t,r,n){y(h,arguments,n)},i.clearItems=function(e,t,r){y(d,arguments,r)},i.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var g=null;i.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var a,i,s=r[n].indexOf("=");s>0?(a=r[n].substring(0,s),i=r[n].substring(s+1)):(a=r[n],i=null),a in t||(t[a]=[]),a in Object.prototype||null===i||t[a].push(unescape(i))}return t};return void 0===e?(null===g&&(g="undefined"==typeof window?{}:r(window.location.search.substring(1))),t=g):t=r(e),t},i.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var a=t.split("/");return a.length>0&&""===a[0]&&a.shift(),{pathString:t,queryString:r,path:a,query:""===r?{}:i.getQueryVariables(r)}},i.makeRequest=function(e){var t=i.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},i.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},i.setPath=function(e,t,r){if("object"==typeof e&&null!==e)for(var n=0,a=t.length;n<a;){var i=t[n++];if(n==a)e[i]=r;else{var s=i in e;(!s||s&&"object"!=typeof e[i]||s&&null===e[i])&&(e[i]={}),e=e[i]}}},i.getPath=function(e,t,r){for(var n=0,a=t.length,i=!0;i&&n<a&&"object"==typeof e&&null!==e;){var s=t[n++];(i=s in e)&&(e=e[s])}return i?e:r},i.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var r=0,n=t.length;r<n;){var a=t[r++];if(r==n)delete e[a];else{if(!(a in e)||"object"!=typeof e[a]||null===e[a])break;e=e[a]}}},i.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},i.format=function(e){for(var t,r,n=/%./g,a=0,i=[],s=0;t=n.exec(e);){(r=e.substring(s,n.lastIndex-2)).length>0&&i.push(r),s=n.lastIndex;var o=t[0][1];switch(o){case"s":case"o":a<arguments.length?i.push(arguments[1+a++]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+o+"?>")}}return i.push(e.substring(s)),i.join("")},i.formatNumber=function(e,t,r,n){var a=e,i=isNaN(t=Math.abs(t))?2:t,s=void 0===r?",":r,o=void 0===n?".":n,u=a<0?"-":"",c=parseInt(a=Math.abs(+a||0).toFixed(i),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+o:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(i?s+Math.abs(a-c).toFixed(i).slice(2):"")},i.formatSize=function(e){return e>=1073741824?i.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?i.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?i.formatNumber(e/1024,0)+" KiB":i.formatNumber(e,0)+" bytes"},i.bytesFromIP=function(e){return-1!==e.indexOf(".")?i.bytesFromIPv4(e):-1!==e.indexOf(":")?i.bytesFromIPv6(e):null},i.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=i.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},i.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),n=i.createBuffer(),a=0;a<8;++a)if(e[a]&&0!==e[a].length){var s=i.hexToBytes(e[a]);s.length<2&&n.putByte(0),n.putBytes(s)}else n.fillWithByte(0,r),r=0;return n.getBytes()},i.bytesToIP=function(e){return 4===e.length?i.bytesToIPv4(e):16===e.length?i.bytesToIPv6(e):null},i.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},i.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,a=0;a<e.length;a+=2){for(var s=i.bytesToHex(e[a]+e[a+1]);"0"===s[0]&&"0"!==s;)s=s.substr(1);if("0"===s){var o=r[r.length-1],u=t.length;o&&u===o.end+1?(o.end=u,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},i.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in i&&!e.update)return t(null,i.cores);if(void 0===typeof Worker)return i.cores=1,t(null,i.cores);if(void 0===typeof Blob)return i.cores=2,t(null,i.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function e(n,a,s){if(0===a){var o=Math.floor(n.reduce(function(e,t){return e+t},0)/n.length);return i.cores=Math.max(1,o),URL.revokeObjectURL(r),t(null,i.cores)}!function(e,t){for(var n=[],a=[],i=0;i<e;++i){var s=new Worker(r);s.addEventListener("message",function(r){if(a.push(r.data),a.length===e){for(var i=0;i<e;++i)n[i].terminate();t(null,a)}}),n.push(s)}for(var i=0;i<e;++i)n[i].postMessage(i)}(s,function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var a=t[n],i=r[n]=[],s=0;s<e;++s)if(n!==s){var o=t[s];(a.st>o.st&&a.st<o.et||o.st>a.st&&o.st<a.et)&&i.push(s)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}(s,r)),e(n,a-1,s)})}([],5,16)},e.exports=i}).call(t,r(12),r(44).setImmediate)},function(e,t,r){(function(e){function n(e,t){this._id=e,this._clearFn=t}var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;t.setTimeout=function(){return new n(i.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(45),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,function(){return this}())},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){delete o[e]}function a(e){if(u)setTimeout(a,0,e);else{var t=o[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{n(e),u=!1}}}}if(!e.setImmediate){var i,s=1,o={},u=!1,c=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?i=function(e){t.nextTick(function(){a(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),i=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},i=function(t){e.port2.postMessage(t)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var e=c.documentElement;i=function(t){var r=c.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():i=function(e){setTimeout(a,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return o[s]=n,i(s),s++},l.clearImmediate=n}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,function(){return this}(),r(12))},function(e,t,r){function n(e){var t=[];return e.attributes.forEach(function(e){var r=t[e.rdnIndex];t[e.rdnIndex]=void 0===r?e.shortName+"="+e.value:r+"+"+e.shortName+"="+e.value}),t.reverse().join(",")}var a,i,s=r(39),o=r(47);a=s._asn1,s.pki||(s.pki={}),i=s.pki,o=s.oids,void 0==s.kisa&&(s.kisa={});var u=s.kisa;void 0==s.yessign&&(s.yessign={});var c=s.yessign;a.dateToGeneralizedTime=function(e){var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},i.GeneralName={},i.GeneralName.toAsn1=function(e){var t,r=!1;if("rfc822Name"in e)contextID=1,t=e.rfc822Name;else{if(!("directoryName"in e))throw"not supported generalname";contextID=4,r=!0,t=[i.distinguishedNameToAsn1(e.directoryName)]}return a.create(a.Class.CONTEXT_SPECIFIC,contextID,r,t)},i.DNToString=n,i.GeneralName.toObject=function(e){var t={};switch(e.type){case 0:t.type="otherName",t.oid=s._asn1.derToOid(e.value[0].value),t.value=e.value[1];break;case 1:t.type="rfc822Name",t.value=e.value;break;case 2:t.type="dNSName",t.value=e.value;break;case 3:t.type="x400Address",t.value=e.value;break;case 4:t.type="directoryName";var r=ytcrypto.md.sha1.create(),a=i.RDNAttributesAsArray(e.value[0],r);t.value=n({attributes:a});break;case 5:t.type="ediPartyName",t.value=e.value;break;case 6:t.type="uniformResourceIdentifier",t.value=e.value;break;case 7:t.type="iPAddress",t.value=[];for(var o=0;o<e.value.length;++o)t.value.push(e.value.charCodeAt(o));t.value=t.value.join(".");break;case 8:t.type="registeredID";break;default:throw"bad general name"}return t.asn=e.value,t},i.AlgorithmIdentifier={},i.AlgorithmIdentifier.toAsn1=function(e){var t,r;if(0==e.hasOwnProperty("algorithm"))throw"AlgorithmIdentifier.algorithm does not defined as OID";return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.algorithm).getBytes())]),"parameters"in e&&(null==(r=e.parameters)&&(r=a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")),t.value.push(r)),t},i.AlgorithmIdentifier.toObject=function(e){var t,r={};return t=a.derToOid(e.value[0].value),r.algorithm=t,r},i.Validity={},i.Validity.toAsn1=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(e.notBefore)),a.create(a.Class.UNIVERSAL,a.Type.UTCTIME,!1,a.dateToUtcTime(e.notAfter))])};var l={oid:"1.2.410.200004.10.1.1.2",toAsn1:function(e){var t,r;return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),r=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes())]),t.value.push(r),"vidHashAlg"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[i.AlgorithmIdentifier.toAsn1(e.vidEncAlg)]),t.value.push(r)),r=a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[i.AlgorithmIdentifier.toAsn1(e.vidEncAlg)]),t.value.push(r),r=a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[i.IssuerAndSerialNumber.toAsn1(e.certID)]),t.value.push(r),r=a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.encryptedVID)]),t.value.push(r),t}};i.IssuerAndSerialNumber={},i.IssuerAndSerialNumber.toAsn1=function(e){var t,r;return(t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[])).value.push(i.distinguishedNameToAsn1(e.issuer)),r=s.util.hexToBytes(e.serialNumber),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r)),t};var p={toAsn1:function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.PRINTABLESTRING,!1,e.idn),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.randomNum)])}},f={toAsn1:function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[h.toAsn1(e.vid),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.randomNum)])}},h={toAsn1:function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[i.AlgorithmIdentifier.toAsn1(e.hashAlg),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.virtualID)])])},toObject:function(e){var t={};return t.hashAlg=s.oids[s._asn1.derToOid(e.value[0].value[0].value)],t.virtualID=e.value[1].value[0].value,t}},d={toObject:function(e){var t={};return t.realName=s.util.decodeUTF8(e.value[0].value),e.value.length>1&&e.value[1].value.forEach(function(e){var r=e.value[0],n=e.value[1];if(s._asn1.derToOid(r.value)==o.vid){var a;a=h.toObject(n),t.vid=a}}),t}};u.HashContent=p,u.EncryptedVID=l,u.EncryptContent=f,u.IdentifyData=d,c.VIDCertificate={},c.VIDCertificate.oid="1.2.410.200005.1.10.1";var y={toAsn1:function(e){var t,r=0,n=0;return e.userAgree.realName&&(n|=128,r=7),e.userAgree.gender&&(n|=64,r=6),e.userAgree.nationalInfo&&(n|=32,r=5),e.userAgree.birthDate&&(n|=16,r=4),t=e.userAgreement,a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.UTF8,!1,t),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(r)+""+String.fromCharCode(n))])}};u.PersonInfoReq=y,o["1.2.410.200004.10.1.1"]="identifyData",o.identifyData="1.2.410.200004.10.1.1",o["1.2.410.200004.1.15"]="seedCBCWithSHA1",o.seedCBCWithSHA1="1.2.410.200004.1.15",o["1.2.410.200004.1.4"]="seedCBC",o.seedCBC="1.2.410.200004.1.4",o.vid="1.2.410.200004.10.1.1.1",o["1.2.410.200004.10.1.1.1"]="vid",o.randomNum="1.2.410.200004.10.1.1.3",o["1.2.410.200004.10.1.1.3"]="randomNum",o["1.3.6.1.5.5.7.5.1.5"]="oldCertId",o.oldCertId="1.3.6.1.5.5.7.5.1.5",o["1.2.410.100001.1.18"]="aria128",o.aria128="1.2.410.100001.1.18",o["1.2.410.100001.1.19"]="aria128-ECB",o["aria128-ECB"]="1.2.410.100001.1.19",o["1.2.410.100001.1.20"]="aria128-CBC",o["aria128-CBC"]="1.2.410.100001.1.20",o.kcdsa="1.2.410.200004.1.21",o["1.2.410.200004.1.21"]="kcdsa",e.exports=i},function(e,t,r){var n=r(39);n.pki=n.pki||{};var a=n.pki.oids=n.oids=n.oids||{};a["0.9.2342.19200300.100.1.25"]="domainComponent",a.domainComponent="0.9.2342.19200300.100.1.25",a["1.2.840.113549.1.1.1"]="rsaEncryption",a.rsaEncryption="1.2.840.113549.1.1.1",a["1.2.840.113549.1.1.4"]="md5WithRSAEncryption",a.md5WithRSAEncryption="1.2.840.113549.1.1.4",a["1.2.840.113549.1.1.5"]="sha1WithRSAEncryption",a.sha1WithRSAEncryption="1.2.840.113549.1.1.5",a["1.2.840.113549.1.1.7"]="RSAES-OAEP",a["RSAES-OAEP"]="1.2.840.113549.1.1.7",a["1.2.840.113549.1.1.8"]="mgf1",a.mgf1="1.2.840.113549.1.1.8",a["1.2.840.113549.1.1.9"]="pSpecified",a.pSpecified="1.2.840.113549.1.1.9",a["1.2.840.113549.1.1.10"]="RSASSA-PSS",a["RSASSA-PSS"]="1.2.840.113549.1.1.10",a["1.2.840.113549.1.1.11"]="sha256WithRSAEncryption",a.sha256WithRSAEncryption="1.2.840.113549.1.1.11",a["1.2.840.113549.1.1.12"]="sha384WithRSAEncryption",a.sha384WithRSAEncryption="1.2.840.113549.1.1.12",a["1.2.840.113549.1.1.13"]="sha512WithRSAEncryption",a.sha512WithRSAEncryption="1.2.840.113549.1.1.13",a.ecdsa="1.2.840.10045.2.1",a["1.2.840.10045.2.1"]="ecdsa",a.secp256r1="1.2.840.10045.3.1.7",a["1.2.840.10045.3.1.7"]="secp256r1",a["1.3.14.3.2.7"]="desCBC",a.desCBC="1.3.14.3.2.7",a["1.3.14.3.2.26"]="sha1",a.sha1="1.3.14.3.2.26",a["2.16.840.1.101.3.4.2.1"]="sha256",a.sha256="2.16.840.1.101.3.4.2.1",a["2.16.840.1.101.3.4.2.2"]="sha384",a.sha384="2.16.840.1.101.3.4.2.2",a["2.16.840.1.101.3.4.2.3"]="sha512",a.sha512="2.16.840.1.101.3.4.2.3",a["1.2.840.113549.2.5"]="md5",a.md5="1.2.840.113549.2.5",a["1.2.840.113549.1.7.1"]="data",a.data="1.2.840.113549.1.7.1",a["1.2.840.113549.1.7.2"]="signedData",a.signedData="1.2.840.113549.1.7.2",a["1.2.840.113549.1.7.3"]="envelopedData",a.envelopedData="1.2.840.113549.1.7.3",a["1.2.840.113549.1.7.4"]="signedAndEnvelopedData",a.signedAndEnvelopedData="1.2.840.113549.1.7.4",a["1.2.840.113549.1.7.5"]="digestedData",a.digestedData="1.2.840.113549.1.7.5",a["1.2.840.113549.1.7.6"]="encryptedData",a.encryptedData="1.2.840.113549.1.7.6",a["1.2.840.113549.1.9.1"]="emailAddress",a.emailAddress="1.2.840.113549.1.9.1",a["1.2.840.113549.1.9.2"]="unstructuredName",a.unstructuredName="1.2.840.113549.1.9.2",a["1.2.840.113549.1.9.3"]="contentType",a.contentType="1.2.840.113549.1.9.3",a["1.2.840.113549.1.9.4"]="messageDigest",a.messageDigest="1.2.840.113549.1.9.4",a["1.2.840.113549.1.9.5"]="signingTime",a.signingTime="1.2.840.113549.1.9.5",a["1.2.840.113549.1.9.6"]="counterSignature",a.counterSignature="1.2.840.113549.1.9.6",a["1.2.840.113549.1.9.7"]="challengePassword",a.challengePassword="1.2.840.113549.1.9.7",a["1.2.840.113549.1.9.8"]="unstructuredAddress",a.unstructuredAddress="1.2.840.113549.1.9.8",a["1.2.840.113549.1.9.20"]="friendlyName",a.friendlyName="1.2.840.113549.1.9.20",a["1.2.840.113549.1.9.21"]="localKeyId",a.localKeyId="1.2.840.113549.1.9.21",a["1.2.840.113549.1.9.22.1"]="x509Certificate",a.x509Certificate="1.2.840.113549.1.9.22.1",a["1.2.840.113549.1.12.10.1.1"]="keyBag",a.keyBag="1.2.840.113549.1.12.10.1.1",a["1.2.840.113549.1.12.10.1.2"]="pkcs8ShroudedKeyBag",a.pkcs8ShroudedKeyBag="1.2.840.113549.1.12.10.1.2",a["1.2.840.113549.1.12.10.1.3"]="certBag",a.certBag="1.2.840.113549.1.12.10.1.3",a["1.2.840.113549.1.12.10.1.4"]="crlBag",a.crlBag="1.2.840.113549.1.12.10.1.4",a["1.2.840.113549.1.12.10.1.5"]="secretBag",a.secretBag="1.2.840.113549.1.12.10.1.5",a["1.2.840.113549.1.12.10.1.6"]="safeContentsBag",a.safeContentsBag="1.2.840.113549.1.12.10.1.6",a["1.2.840.113549.1.5.13"]="pkcs5PBES2",a.pkcs5PBES2="1.2.840.113549.1.5.13",a["1.2.840.113549.1.5.12"]="pkcs5PBKDF2",a.pkcs5PBKDF2="1.2.840.113549.1.5.12",a["1.2.840.113549.1.12.1.1"]="pbeWithSHAAnd128BitRC4",a.pbeWithSHAAnd128BitRC4="1.2.840.113549.1.12.1.1",a["1.2.840.113549.1.12.1.2"]="pbeWithSHAAnd40BitRC4",a.pbeWithSHAAnd40BitRC4="1.2.840.113549.1.12.1.2",a["1.2.840.113549.1.12.1.3"]="pbeWithSHAAnd3-KeyTripleDES-CBC",a["pbeWithSHAAnd3-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.3",a["1.2.840.113549.1.12.1.4"]="pbeWithSHAAnd2-KeyTripleDES-CBC",a["pbeWithSHAAnd2-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.4",a["1.2.840.113549.1.12.1.5"]="pbeWithSHAAnd128BitRC2-CBC",a["pbeWithSHAAnd128BitRC2-CBC"]="1.2.840.113549.1.12.1.5",a["1.2.840.113549.1.12.1.6"]="pbewithSHAAnd40BitRC2-CBC",a["pbewithSHAAnd40BitRC2-CBC"]="1.2.840.113549.1.12.1.6",a["1.2.840.113549.3.7"]="des-EDE3-CBC",a["des-EDE3-CBC"]="1.2.840.113549.3.7",a["2.16.840.1.101.3.4.1.2"]="aes128-CBC",a["aes128-CBC"]="2.16.840.1.101.3.4.1.2",a["2.16.840.1.101.3.4.1.22"]="aes192-CBC",a["aes192-CBC"]="2.16.840.1.101.3.4.1.22",a["2.16.840.1.101.3.4.1.42"]="aes256-CBC",a["aes256-CBC"]="2.16.840.1.101.3.4.1.42",a["2.5.4.3"]="commonName",a.commonName="2.5.4.3",a["2.5.4.5"]="serialName",a.serialName="2.5.4.5",a["2.5.4.6"]="countryName",a.countryName="2.5.4.6",a["2.5.4.7"]="localityName",a.localityName="2.5.4.7",a["2.5.4.8"]="stateOrProvinceName",a.stateOrProvinceName="2.5.4.8",a["2.5.4.10"]="organizationName",a.organizationName="2.5.4.10",a["2.5.4.11"]="organizationalUnitName",a.organizationalUnitName="2.5.4.11",a["2.5.4.46"]="dnQualifier",a.dnQualifier="2.5.4.46",a["2.16.840.1.113730.1.1"]="nsCertType",a.nsCertType="2.16.840.1.113730.1.1",a["2.5.29.1"]="authorityKeyIdentifier",a["2.5.29.2"]="keyAttributes",a["2.5.29.3"]="certificatePolicies",a["2.5.29.4"]="keyUsageRestriction",a["2.5.29.5"]="policyMapping",a["2.5.29.6"]="subtreesConstraint",a["2.5.29.7"]="subjectAltName",a["2.5.29.8"]="issuerAltName",a["2.5.29.9"]="subjectDirectoryAttributes",a["2.5.29.10"]="basicConstraints",a["2.5.29.11"]="nameConstraints",a["2.5.29.12"]="policyConstraints",a["2.5.29.13"]="basicConstraints",a["2.5.29.14"]="subjectKeyIdentifier",a.subjectKeyIdentifier="2.5.29.14",a["2.5.29.15"]="keyUsage",a.keyUsage="2.5.29.15",a["2.5.29.16"]="privateKeyUsagePeriod",a["2.5.29.17"]="subjectAltName",a.subjectAltName="2.5.29.17",a["2.5.29.18"]="issuerAltName",a.issuerAltName="2.5.29.18",a["2.5.29.19"]="basicConstraints",a.basicConstraints="2.5.29.19",a["2.5.29.20"]="cRLNumber",a["2.5.29.21"]="cRLReason",a["2.5.29.22"]="expirationDate",a["2.5.29.23"]="instructionCode",a["2.5.29.24"]="invalidityDate",a["2.5.29.25"]="cRLDistributionPoints",a["2.5.29.26"]="issuingDistributionPoint",a["2.5.29.27"]="deltaCRLIndicator",a["2.5.29.28"]="issuingDistributionPoint",a["2.5.29.29"]="certificateIssuer",a["2.5.29.30"]="nameConstraints",a["2.5.29.31"]="cRLDistributionPoints",a["2.5.29.32"]="certificatePolicies",a["2.5.29.33"]="policyMappings",a["2.5.29.34"]="policyConstraints",a["2.5.29.35"]="authorityKeyIdentifier",a["2.5.29.36"]="policyConstraints",a["2.5.29.37"]="extKeyUsage",a.extKeyUsage="2.5.29.37",a["2.5.29.46"]="freshestCRL",a["2.5.29.54"]="inhibitAnyPolicy",a["1.3.6.1.5.5.7.3.1"]="serverAuth",a.serverAuth="1.3.6.1.5.5.7.3.1",a["1.3.6.1.5.5.7.3.2"]="clientAuth",a.clientAuth="1.3.6.1.5.5.7.3.2",a["1.3.6.1.5.5.7.3.3"]="codeSigning",a.codeSigning="1.3.6.1.5.5.7.3.3",a["1.3.6.1.5.5.7.3.4"]="emailProtection",a.emailProtection="1.3.6.1.5.5.7.3.4",a["1.3.6.1.5.5.7.3.8"]="timeStamping",a.timeStamping="1.3.6.1.5.5.7.3.8",e.exports=a},function(e,t,r){function n(e){for(var t=e.name+": ",r=[],n=0;n<e.values.length;++n)r.push(e.values[n].replace(/^(\S+\r\n)/,function(e,t){return" "+t}));t+=r.join(",")+"\r\n";var a=0,i=-1;for(n=0;n<t.length;++n,++a)if(a>65&&-1!==i){var s=t[i];","===s?(++i,t=t.substr(0,i)+"\r\n "+t.substr(i)):t=t.substr(0,i)+"\r\n"+s+t.substr(i+1),a=n-i-1,i=-1,++n}else" "!==t[n]&&"\t"!==t[n]&&","!==t[n]||(i=n);return t}function a(e){return e.replace(/^\s+/,"")}var i=r(39),s={encode:function(e,t){t=t||{};var r,a="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(a+=n(r={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(a+=n(r={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(r={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&r.values.push(e.dekInfo.parameters),a+=n(r)),e.headers)for(var s=0;s<e.headers.length;++s)a+=n(e.headers[s]);return e.procType&&(a+="\r\n"),(a+=i.util.encode64(e.body,t.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"},decode:function(e){for(var t,r=[],n=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,o=/\r?\n/;t=n.exec(e);){var u={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:i.util.decode64(t[3])};if(r.push(u),t[2]){for(var c=t[2].split(o),l=0;t&&l<c.length;){for(var p=c[l].replace(/\s+$/,""),f=l+1;f<c.length;++f){var h=c[f];if(!/\s/.test(h[0]))break;p+=h,l=f}if(t=p.match(s)){for(var d={name:t[1],values:[]},y=t[2].split(","),g=0;g<y.length;++g)d.values.push(a(y[g]));if(u.procType)if(u.contentDomain||"Content-Domain"!==d.name)if(u.dekInfo||"DEK-Info"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw{message:'Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.'};u.dekInfo={algorithm:y[0],parameters:y[1]||null}}else u.contentDomain=y[0]||"";else{if("Proc-Type"!==d.name)throw{message:'Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".'};if(2!==d.values.length)throw{message:'Invalid PEM formatted message. The "Proc-Type" header must have two subfields.'};u.procType={version:y[0],type:y[1]}}}++l}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw{message:'Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".'}}}if(0===r.length)throw{message:"Invalid PEM formatted message."};return r}};i.pem=s,e.exports=s},function(e,t,r){var n=r(39),a=n.util||{};a.tableKSC5601=[12288,12289,12290,183,8229,8230,168,12291,173,8213,8741,65340,8764,8216,8217,8220,8221,12308,12309,12296,12297,12298,12299,12300,12301,12302,12303,12304,12305,177,215,247,8800,8804,8805,8734,8756,176,8242,8243,8451,8491,65504,65505,65509,9794,9792,8736,8869,8978,8706,8711,8801,8786,167,8251,9734,9733,9675,9679,9678,9671,9670,9633,9632,9651,9650,9661,9660,8594,8592,8593,8595,8596,12307,8810,8811,8730,8765,8733,8757,8747,8748,8712,8715,8838,8839,8834,8835,8746,8745,8743,8744,65506,8658,8660,8704,8707,180,65374,711,728,733,730,729,184,731,161,191,720,8750,8721,8719,164,8457,8240,9665,9664,9655,9654,9828,9824,9825,9829,9831,9827,8857,9672,9635,9680,9681,9618,9636,9637,9640,9639,9638,9641,9832,9743,9742,9756,9758,182,8224,8225,8597,8599,8601,8598,8600,9837,9833,9834,9836,12927,12828,8470,13255,8482,13250,13272,8481,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,65281,65282,65283,65284,65285,65286,65287,65288,65289,65290,65291,65292,65293,65294,65295,65296,65297,65298,65299,65300,65301,65302,65303,65304,65305,65306,65307,65308,65309,65310,65311,65312,65313,65314,65315,65316,65317,65318,65319,65320,65321,65322,65323,65324,65325,65326,65327,65328,65329,65330,65331,65332,65333,65334,65335,65336,65337,65338,65339,65510,65341,65342,65343,65344,65345,65346,65347,65348,65349,65350,65351,65352,65353,65354,65355,65356,65357,65358,65359,65360,65361,65362,65363,65364,65365,65366,65367,65368,65369,65370,65371,65372,65373,65507,12593,12594,12595,12596,12597,12598,12599,12600,12601,12602,12603,12604,12605,12606,12607,12608,12609,12610,12611,12612,12613,12614,12615,12616,12617,12618,12619,12620,12621,12622,12623,12624,12625,12626,12627,12628,12629,12630,12631,12632,12633,12634,12635,12636,12637,12638,12639,12640,12641,12642,12643,12644,12645,12646,12647,12648,12649,12650,12651,12652,12653,12654,12655,12656,12657,12658,12659,12660,12661,12662,12663,12664,12665,12666,12667,12668,12669,12670,12671,12672,12673,12674,12675,12676,12677,12678,12679,12680,12681,12682,12683,12684,12685,12686,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569,-1,-1,-1,-1,-1,8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,-1,-1,-1,-1,-1,-1,-1,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,-1,-1,-1,-1,-1,-1,-1,-1,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969,-1,-1,-1,-1,-1,-1,9472,9474,9484,9488,9496,9492,9500,9516,9508,9524,9532,9473,9475,9487,9491,9499,9495,9507,9523,9515,9531,9547,9504,9519,9512,9527,9535,9501,9520,9509,9528,9538,9490,9489,9498,9497,9494,9493,9486,9485,9502,9503,9505,9506,9510,9511,9513,9514,9517,9518,9521,9522,9525,9526,9529,9530,9533,9534,9536,9537,9539,9540,9541,9542,9543,9544,9545,9546,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,13205,13206,13207,8467,13208,13252,13219,13220,13221,13222,13209,13210,13211,13212,13213,13214,13215,13216,13217,13218,13258,13197,13198,13199,13263,13192,13193,13256,13223,13224,13232,13233,13234,13235,13236,13237,13238,13239,13240,13241,13184,13185,13186,13187,13188,13242,13243,13244,13245,13246,13247,13200,13201,13202,13203,13204,8486,13248,13249,13194,13195,13196,13270,13253,13229,13230,13231,13275,13225,13226,13227,13228,13277,13264,13267,13251,13257,13276,13254,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,198,208,170,294,-1,306,-1,319,321,216,338,186,222,358,330,-1,12896,12897,12898,12899,12900,12901,12902,12903,12904,12905,12906,12907,12908,12909,12910,12911,12912,12913,12914,12915,12916,12917,12918,12919,12920,12921,12922,12923,9424,9425,9426,9427,9428,9429,9430,9431,9432,9433,9434,9435,9436,9437,9438,9439,9440,9441,9442,9443,9444,9445,9446,9447,9448,9449,9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9322,9323,9324,9325,9326,189,8531,8532,188,190,8539,8540,8541,8542,230,273,240,295,305,307,312,320,322,248,339,223,254,359,331,329,12800,12801,12802,12803,12804,12805,12806,12807,12808,12809,12810,12811,12812,12813,12814,12815,12816,12817,12818,12819,12820,12821,12822,12823,12824,12825,12826,12827,9372,9373,9374,9375,9376,9377,9378,9379,9380,9381,9382,9383,9384,9385,9386,9387,9388,9389,9390,9391,9392,9393,9394,9395,9396,9397,9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,185,178,179,8308,8319,8321,8322,8323,8324,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,12417,12418,12419,12420,12421,12422,12423,12424,12425,12426,12427,12428,12429,12430,12431,12432,12433,12434,12435,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,12449,12450,12451,12452,12453,12454,12455,12456,12457,12458,12459,12460,12461,12462,12463,12464,12465,12466,12467,12468,12469,12470,12471,12472,12473,12474,12475,12476,12477,12478,12479,12480,12481,12482,12483,12484,12485,12486,12487,12488,12489,12490,12491,12492,12493,12494,12495,12496,12497,12498,12499,12500,12501,12502,12503,12504,12505,12506,12507,12508,12509,12510,12511,12512,12513,12514,12515,12516,12517,12518,12519,12520,12521,12522,12523,12524,12525,12526,12527,12528,12529,12530,12531,12532,12533,12534,-1,-1,-1,-1,-1,-1,-1,-1,1040,1041,1042,1043,1044,1045,1025,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1072,1073,1074,1075,1076,1077,1105,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,44032,44033,44036,44039,44040,44041,44042,44048,44049,44050,44051,44052,44053,44054,44055,44057,44058,44059,44060,44061,44064,44068,44076,44077,44079,44080,44081,44088,44089,44092,44096,44107,44109,44116,44120,44124,44144,44145,44148,44151,44152,44154,44160,44161,44163,44164,44165,44166,44169,44170,44171,44172,44176,44180,44188,44189,44191,44192,44193,44200,44201,44202,44204,44207,44208,44216,44217,44219,44220,44221,44225,44228,44232,44236,44245,44247,44256,44257,44260,44263,44264,44266,44268,44271,44272,44273,44275,44277,44278,44284,44285,44288,44292,44294,44300,44301,44303,44305,44312,44316,44320,44329,44332,44333,44340,44341,44344,44348,44356,44357,44359,44361,44368,44372,44376,44385,44387,44396,44397,44400,44403,44404,44405,44406,44411,44412,44413,44415,44417,44418,44424,44425,44428,44432,44444,44445,44452,44471,44480,44481,44484,44488,44496,44497,44499,44508,44512,44516,44536,44537,44540,44543,44544,44545,44552,44553,44555,44557,44564,44592,44593,44596,44599,44600,44602,44608,44609,44611,44613,44614,44618,44620,44621,44622,44624,44628,44630,44636,44637,44639,44640,44641,44645,44648,44649,44652,44656,44664,44665,44667,44668,44669,44676,44677,44684,44732,44733,44734,44736,44740,44748,44749,44751,44752,44753,44760,44761,44764,44776,44779,44781,44788,44792,44796,44807,44808,44813,44816,44844,44845,44848,44850,44852,44860,44861,44863,44865,44866,44867,44872,44873,44880,44892,44893,44900,44901,44921,44928,44932,44936,44944,44945,44949,44956,44984,44985,44988,44992,44999,45e3,45001,45003,45005,45006,45012,45020,45032,45033,45040,45041,45044,45048,45056,45057,45060,45068,45072,45076,45084,45085,45096,45124,45125,45128,45130,45132,45134,45139,45140,45141,45143,45145,45149,45180,45181,45184,45188,45196,45197,45199,45201,45208,45209,45210,45212,45215,45216,45217,45218,45224,45225,45227,45228,45229,45230,45231,45233,45235,45236,45237,45240,45244,45252,45253,45255,45256,45257,45264,45265,45268,45272,45280,45285,45320,45321,45323,45324,45328,45330,45331,45336,45337,45339,45340,45341,45347,45348,45349,45352,45356,45364,45365,45367,45368,45369,45376,45377,45380,45384,45392,45393,45396,45397,45400,45404,45408,45432,45433,45436,45440,45442,45448,45449,45451,45453,45458,45459,45460,45464,45468,45480,45516,45520,45524,45532,45533,45535,45544,45545,45548,45552,45561,45563,45565,45572,45573,45576,45579,45580,45588,45589,45591,45593,45600,45620,45628,45656,45660,45664,45672,45673,45684,45685,45692,45700,45701,45705,45712,45713,45716,45720,45721,45722,45728,45729,45731,45733,45734,45738,45740,45744,45748,45768,45769,45772,45776,45778,45784,45785,45787,45789,45794,45796,45797,45798,45800,45803,45804,45805,45806,45807,45811,45812,45813,45815,45816,45817,45818,45819,45823,45824,45825,45828,45832,45840,45841,45843,45844,45845,45852,45908,45909,45910,45912,45915,45916,45918,45919,45924,45925,45927,45929,45931,45934,45936,45937,45940,45944,45952,45953,45955,45956,45957,45964,45968,45972,45984,45985,45992,45996,46020,46021,46024,46027,46028,46030,46032,46036,46037,46039,46041,46043,46045,46048,46052,46056,46076,46096,46104,46108,46112,46120,46121,46123,46132,46160,46161,46164,46168,46176,46177,46179,46181,46188,46208,46216,46237,46244,46248,46252,46261,46263,46265,46272,46276,46280,46288,46293,46300,46301,46304,46307,46308,46310,46316,46317,46319,46321,46328,46356,46357,46360,46363,46364,46372,46373,46375,46376,46377,46378,46384,46385,46388,46392,46400,46401,46403,46404,46405,46411,46412,46413,46416,46420,46428,46429,46431,46432,46433,46496,46497,46500,46504,46506,46507,46512,46513,46515,46516,46517,46523,46524,46525,46528,46532,46540,46541,46543,46544,46545,46552,46572,46608,46609,46612,46616,46629,46636,46644,46664,46692,46696,46748,46749,46752,46756,46763,46764,46769,46804,46832,46836,46840,46848,46849,46853,46888,46889,46892,46895,46896,46904,46905,46907,46916,46920,46924,46932,46933,46944,46948,46952,46960,46961,46963,46965,46972,46973,46976,46980,46988,46989,46991,46992,46993,46994,46998,46999,47e3,47001,47004,47008,47016,47017,47019,47020,47021,47028,47029,47032,47047,47049,47084,47085,47088,47092,47100,47101,47103,47104,47105,47111,47112,47113,47116,47120,47128,47129,47131,47133,47140,47141,47144,47148,47156,47157,47159,47160,47161,47168,47172,47185,47187,47196,47197,47200,47204,47212,47213,47215,47217,47224,47228,47245,47272,47280,47284,47288,47296,47297,47299,47301,47308,47312,47316,47325,47327,47329,47336,47337,47340,47344,47352,47353,47355,47357,47364,47384,47392,47420,47421,47424,47428,47436,47439,47441,47448,47449,47452,47456,47464,47465,47467,47469,47476,47477,47480,47484,47492,47493,47495,47497,47498,47501,47502,47532,47533,47536,47540,47548,47549,47551,47553,47560,47561,47564,47566,47567,47568,47569,47570,47576,47577,47579,47581,47582,47585,47587,47588,47589,47592,47596,47604,47605,47607,47608,47609,47610,47616,47617,47624,47637,47672,47673,47676,47680,47682,47688,47689,47691,47693,47694,47699,47700,47701,47704,47708,47716,47717,47719,47720,47721,47728,47729,47732,47736,47747,47748,47749,47751,47756,47784,47785,47787,47788,47792,47794,47800,47801,47803,47805,47812,47816,47832,47833,47868,47872,47876,47885,47887,47889,47896,47900,47904,47913,47915,47924,47925,47926,47928,47931,47932,47933,47934,47940,47941,47943,47945,47949,47951,47952,47956,47960,47969,47971,47980,48008,48012,48016,48036,48040,48044,48052,48055,48064,48068,48072,48080,48083,48120,48121,48124,48127,48128,48130,48136,48137,48139,48140,48141,48143,48145,48148,48149,48150,48151,48152,48155,48156,48157,48158,48159,48164,48165,48167,48169,48173,48176,48177,48180,48184,48192,48193,48195,48196,48197,48201,48204,48205,48208,48221,48260,48261,48264,48267,48268,48270,48276,48277,48279,48281,48282,48288,48289,48292,48295,48296,48304,48305,48307,48308,48309,48316,48317,48320,48324,48333,48335,48336,48337,48341,48344,48348,48372,48373,48374,48376,48380,48388,48389,48391,48393,48400,48404,48420,48428,48448,48456,48457,48460,48464,48472,48473,48484,48488,48512,48513,48516,48519,48520,48521,48522,48528,48529,48531,48533,48537,48538,48540,48548,48560,48568,48596,48597,48600,48604,48617,48624,48628,48632,48640,48643,48645,48652,48653,48656,48660,48668,48669,48671,48708,48709,48712,48716,48718,48724,48725,48727,48729,48730,48731,48736,48737,48740,48744,48746,48752,48753,48755,48756,48757,48763,48764,48765,48768,48772,48780,48781,48783,48784,48785,48792,48793,48808,48848,48849,48852,48855,48856,48864,48867,48868,48869,48876,48897,48904,48905,48920,48921,48923,48924,48925,48960,48961,48964,48968,48976,48977,48981,49044,49072,49093,49100,49101,49104,49108,49116,49119,49121,49212,49233,49240,49244,49248,49256,49257,49296,49297,49300,49304,49312,49313,49315,49317,49324,49325,49327,49328,49331,49332,49333,49334,49340,49341,49343,49344,49345,49349,49352,49353,49356,49360,49368,49369,49371,49372,49373,49380,49381,49384,49388,49396,49397,49399,49401,49408,49412,49416,49424,49429,49436,49437,49438,49439,49440,49443,49444,49446,49447,49452,49453,49455,49456,49457,49462,49464,49465,49468,49472,49480,49481,49483,49484,49485,49492,49493,49496,49500,49508,49509,49511,49512,49513,49520,49524,49528,49541,49548,49549,49550,49552,49556,49558,49564,49565,49567,49569,49573,49576,49577,49580,49584,49597,49604,49608,49612,49620,49623,49624,49632,49636,49640,49648,49649,49651,49660,49661,49664,49668,49676,49677,49679,49681,49688,49689,49692,49695,49696,49704,49705,49707,49709,49711,49713,49714,49716,49736,49744,49745,49748,49752,49760,49765,49772,49773,49776,49780,49788,49789,49791,49793,49800,49801,49808,49816,49819,49821,49828,49829,49832,49836,49837,49844,49845,49847,49849,49884,49885,49888,49891,49892,49899,49900,49901,49903,49905,49910,49912,49913,49915,49916,49920,49928,49929,49932,49933,49939,49940,49941,49944,49948,49956,49957,49960,49961,49989,50024,50025,50028,50032,50034,50040,50041,50044,50045,50052,50056,50060,50112,50136,50137,50140,50143,50144,50146,50152,50153,50157,50164,50165,50168,50184,50192,50212,50220,50224,50228,50236,50237,50248,50276,50277,50280,50284,50292,50293,50297,50304,50324,50332,50360,50364,50409,50416,50417,50420,50424,50426,50431,50432,50433,50444,50448,50452,50460,50472,50473,50476,50480,50488,50489,50491,50493,50500,50501,50504,50505,50506,50508,50509,50510,50515,50516,50517,50519,50520,50521,50525,50526,50528,50529,50532,50536,50544,50545,50547,50548,50549,50556,50557,50560,50564,50567,50572,50573,50575,50577,50581,50583,50584,50588,50592,50601,50612,50613,50616,50617,50619,50620,50621,50622,50628,50629,50630,50631,50632,50633,50634,50636,50638,50640,50641,50644,50648,50656,50657,50659,50661,50668,50669,50670,50672,50676,50678,50679,50684,50685,50686,50687,50688,50689,50693,50694,50695,50696,50700,50704,50712,50713,50715,50716,50724,50725,50728,50732,50733,50734,50736,50739,50740,50741,50743,50745,50747,50752,50753,50756,50760,50768,50769,50771,50772,50773,50780,50781,50784,50796,50799,50801,50808,50809,50812,50816,50824,50825,50827,50829,50836,50837,50840,50844,50852,50853,50855,50857,50864,50865,50868,50872,50873,50874,50880,50881,50883,50885,50892,50893,50896,50900,50908,50909,50912,50913,50920,50921,50924,50928,50936,50937,50941,50948,50949,50952,50956,50964,50965,50967,50969,50976,50977,50980,50984,50992,50993,50995,50997,50999,51004,51005,51008,51012,51018,51020,51021,51023,51025,51026,51027,51028,51029,51030,51031,51032,51036,51040,51048,51051,51060,51061,51064,51068,51069,51070,51075,51076,51077,51079,51080,51081,51082,51086,51088,51089,51092,51094,51095,51096,51098,51104,51105,51107,51108,51109,51110,51116,51117,51120,51124,51132,51133,51135,51136,51137,51144,51145,51148,51150,51152,51160,51165,51172,51176,51180,51200,51201,51204,51208,51210,51216,51217,51219,51221,51222,51228,51229,51232,51236,51244,51245,51247,51249,51256,51260,51264,51272,51273,51276,51277,51284,51312,51313,51316,51320,51322,51328,51329,51331,51333,51334,51335,51339,51340,51341,51348,51357,51359,51361,51368,51388,51389,51396,51400,51404,51412,51413,51415,51417,51424,51425,51428,51445,51452,51453,51456,51460,51461,51462,51468,51469,51471,51473,51480,51500,51508,51536,51537,51540,51544,51552,51553,51555,51564,51568,51572,51580,51592,51593,51596,51600,51608,51609,51611,51613,51648,51649,51652,51655,51656,51658,51664,51665,51667,51669,51670,51673,51674,51676,51677,51680,51682,51684,51687,51692,51693,51695,51696,51697,51704,51705,51708,51712,51720,51721,51723,51724,51725,51732,51736,51753,51788,51789,51792,51796,51804,51805,51807,51808,51809,51816,51837,51844,51864,51900,51901,51904,51908,51916,51917,51919,51921,51923,51928,51929,51936,51948,51956,51976,51984,51988,51992,52e3,52001,52033,52040,52041,52044,52048,52056,52057,52061,52068,52088,52089,52124,52152,52180,52196,52199,52201,52236,52237,52240,52244,52252,52253,52257,52258,52263,52264,52265,52268,52270,52272,52280,52281,52283,52284,52285,52286,52292,52293,52296,52300,52308,52309,52311,52312,52313,52320,52324,52326,52328,52336,52341,52376,52377,52380,52384,52392,52393,52395,52396,52397,52404,52405,52408,52412,52420,52421,52423,52425,52432,52436,52452,52460,52464,52481,52488,52489,52492,52496,52504,52505,52507,52509,52516,52520,52524,52537,52572,52576,52580,52588,52589,52591,52593,52600,52616,52628,52629,52632,52636,52644,52645,52647,52649,52656,52676,52684,52688,52712,52716,52720,52728,52729,52731,52733,52740,52744,52748,52756,52761,52768,52769,52772,52776,52784,52785,52787,52789,52824,52825,52828,52831,52832,52833,52840,52841,52843,52845,52852,52853,52856,52860,52868,52869,52871,52873,52880,52881,52884,52888,52896,52897,52899,52900,52901,52908,52909,52929,52964,52965,52968,52971,52972,52980,52981,52983,52984,52985,52992,52993,52996,53e3,53008,53009,53011,53013,53020,53024,53028,53036,53037,53039,53040,53041,53048,53076,53077,53080,53084,53092,53093,53095,53097,53104,53105,53108,53112,53120,53125,53132,53153,53160,53168,53188,53216,53217,53220,53224,53232,53233,53235,53237,53244,53248,53252,53265,53272,53293,53300,53301,53304,53308,53316,53317,53319,53321,53328,53332,53336,53344,53356,53357,53360,53364,53372,53373,53377,53412,53413,53416,53420,53428,53429,53431,53433,53440,53441,53444,53448,53449,53456,53457,53459,53460,53461,53468,53469,53472,53476,53484,53485,53487,53488,53489,53496,53517,53552,53553,53556,53560,53562,53568,53569,53571,53572,53573,53580,53581,53584,53588,53596,53597,53599,53601,53608,53612,53628,53636,53640,53664,53665,53668,53672,53680,53681,53683,53685,53690,53692,53696,53720,53748,53752,53767,53769,53776,53804,53805,53808,53812,53820,53821,53823,53825,53832,53852,53860,53888,53889,53892,53896,53904,53905,53909,53916,53920,53924,53932,53937,53944,53945,53948,53951,53952,53954,53960,53961,53963,53972,53976,53980,53988,53989,54e3,54001,54004,54008,54016,54017,54019,54021,54028,54029,54030,54032,54036,54038,54044,54045,54047,54048,54049,54053,54056,54057,54060,54064,54072,54073,54075,54076,54077,54084,54085,54140,54141,54144,54148,54156,54157,54159,54160,54161,54168,54169,54172,54176,54184,54185,54187,54189,54196,54200,54204,54212,54213,54216,54217,54224,54232,54241,54243,54252,54253,54256,54260,54268,54269,54271,54273,54280,54301,54336,54340,54364,54368,54372,54381,54383,54392,54393,54396,54399,54400,54402,54408,54409,54411,54413,54420,54441,54476,54480,54484,54492,54495,54504,54508,54512,54520,54523,54525,54532,54536,54540,54548,54549,54551,54588,54589,54592,54596,54604,54605,54607,54609,54616,54617,54620,54624,54629,54632,54633,54635,54637,54644,54645,54648,54652,54660,54661,54663,54664,54665,54672,54693,54728,54729,54732,54736,54738,54744,54745,54747,54749,54756,54757,54760,54764,54772,54773,54775,54777,54784,54785,54788,54792,54800,54801,54803,54804,54805,54812,54816,54820,54829,54840,54841,54844,54848,54853,54856,54857,54859,54861,54865,54868,54869,54872,54876,54887,54889,54896,54897,54900,54915,54917,54924,54925,54928,54932,54941,54943,54945,54952,54956,54960,54969,54971,54980,54981,54984,54988,54993,54996,54999,55001,55008,55012,55016,55024,55029,55036,55037,55040,55044,55057,55064,55065,55068,55072,55080,55081,55083,55085,55092,55093,55096,55100,55108,55111,55113,55120,55121,55124,55126,55127,55128,55129,55136,55137,55139,55141,55145,55148,55152,55156,55164,55165,55169,55176,55177,55180,55184,55192,55193,55195,55197,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,20285,20339,20551,20729,21152,21487,21621,21733,22025,23233,23478,26247,26550,26551,26607,27468,29634,30146,31292,33499,33540,34903,34952,35382,36040,36303,36603,36838,39381,21051,21364,21508,24682,24932,27580,29647,33050,35258,35282,38307,20355,21002,22718,22904,23014,24178,24185,25031,25536,26438,26604,26751,28567,30286,30475,30965,31240,31487,31777,32925,33390,33393,35563,38291,20075,21917,26359,28212,30883,31469,33883,35088,34638,38824,21208,22350,22570,23884,24863,25022,25121,25954,26577,27204,28187,29976,30131,30435,30640,32058,37039,37969,37970,40853,21283,23724,30002,32987,37440,38296,21083,22536,23004,23713,23831,24247,24378,24394,24951,27743,30074,30086,31968,32115,32177,32652,33108,33313,34193,35137,35611,37628,38477,40007,20171,20215,20491,20977,22607,24887,24894,24936,25913,27114,28433,30117,30342,30422,31623,33445,33995,63744,37799,38283,21888,23458,22353,63745,31923,32697,37301,20520,21435,23621,24040,25298,25454,25818,25831,28192,28844,31067,36317,36382,63746,36989,37445,37624,20094,20214,20581,24062,24314,24838,26967,33137,34388,36423,37749,39467,20062,20625,26480,26688,20745,21133,21138,27298,30652,37392,40660,21163,24623,36850,20552,25001,25581,25802,26684,27268,28608,33160,35233,38548,22533,29309,29356,29956,32121,32365,32937,35211,35700,36963,40273,25225,27770,28500,32080,32570,35363,20860,24906,31645,35609,37463,37772,20140,20435,20510,20670,20742,21185,21197,21375,22384,22659,24218,24465,24950,25004,25806,25964,26223,26299,26356,26775,28039,28805,28913,29855,29861,29898,30169,30828,30956,31455,31478,32069,32147,32789,32831,33051,33686,35686,36629,36885,37857,38915,38968,39514,39912,20418,21843,22586,22865,23395,23622,24760,25106,26690,26800,26856,28330,30028,30328,30926,31293,31995,32363,32380,35336,35489,35903,38542,40388,21476,21481,21578,21617,22266,22993,23396,23611,24235,25335,25911,25925,25970,26272,26543,27073,27837,30204,30352,30590,31295,32660,32771,32929,33167,33510,33533,33776,34241,34865,34996,35493,63747,36764,37678,38599,39015,39640,40723,21741,26011,26354,26767,31296,35895,40288,22256,22372,23825,26118,26801,26829,28414,29736,34974,39908,27752,63748,39592,20379,20844,20849,21151,23380,24037,24656,24685,25329,25511,25915,29657,31354,34467,36002,38799,20018,23521,25096,26524,29916,31185,33747,35463,35506,36328,36942,37707,38982,24275,27112,34303,37101,63749,20896,23448,23532,24931,26874,27454,28748,29743,29912,31649,32592,33733,35264,36011,38364,39208,21038,24669,25324,36866,20362,20809,21281,22745,24291,26336,27960,28826,29378,29654,31568,33009,37979,21350,25499,32619,20054,20608,22602,22750,24618,24871,25296,27088,39745,23439,32024,32945,36703,20132,20689,21676,21932,23308,23968,24039,25898,25934,26657,27211,29409,30350,30703,32094,32761,33184,34126,34527,36611,36686,37066,39171,39509,39851,19992,20037,20061,20167,20465,20855,21246,21312,21475,21477,21646,22036,22389,22434,23495,23943,24272,25084,25304,25937,26552,26601,27083,27472,27590,27628,27714,28317,28792,29399,29590,29699,30655,30697,31350,32127,32777,33276,33285,33290,33503,34914,35635,36092,36544,36881,37041,37476,37558,39378,39493,40169,40407,40860,22283,23616,33738,38816,38827,40628,21531,31384,32676,35033,36557,37089,22528,23624,25496,31391,23470,24339,31353,31406,33422,36524,20518,21048,21240,21367,22280,25331,25458,27402,28099,30519,21413,29527,34152,36470,38357,26426,27331,28528,35437,36556,39243,63750,26231,27512,36020,39740,63751,21483,22317,22862,25542,27131,29674,30789,31418,31429,31998,33909,35215,36211,36917,38312,21243,22343,30023,31584,33740,37406,63752,27224,20811,21067,21127,25119,26840,26997,38553,20677,21156,21220,25027,26020,26681,27135,29822,31563,33465,33771,35250,35641,36817,39241,63753,20170,22935,25810,26129,27278,29748,31105,31165,33449,34942,34943,35167,63754,37670,20235,21450,24613,25201,27762,32026,32102,20120,20834,30684,32943,20225,20238,20854,20864,21980,22120,22331,22522,22524,22804,22855,22931,23492,23696,23822,24049,24190,24524,25216,26071,26083,26398,26399,26462,26827,26820,27231,27450,27683,27773,27778,28103,29592,29734,29738,29826,29859,30072,30079,30849,30959,31041,31047,31048,31098,31637,32e3,32186,32648,32774,32813,32908,35352,35663,35912,36215,37665,37668,39138,39249,39438,39439,39525,40594,32202,20342,21513,25326,26708,37329,21931,20794,63755,63756,23068,25062,63757,25295,25343,63758,63759,63760,63761,63762,63763,37027,63764,63765,63766,63767,63768,35582,63769,63770,63771,63772,26262,63773,29014,63774,63775,38627,63776,25423,25466,21335,63777,26511,26976,28275,63778,30007,63779,63780,63781,32013,63782,63783,34930,22218,23064,63784,63785,63786,63787,63788,20035,63789,20839,22856,26608,32784,63790,22899,24180,25754,31178,24565,24684,25288,25467,23527,23511,21162,63791,22900,24361,24594,63792,63793,63794,29785,63795,63796,63797,63798,63799,63800,39377,63801,63802,63803,63804,63805,63806,63807,63808,63809,63810,63811,28611,63812,63813,33215,36786,24817,63814,63815,33126,63816,63817,23615,63818,63819,63820,63821,63822,63823,63824,63825,23273,35365,26491,32016,63826,63827,63828,63829,63830,63831,33021,63832,63833,23612,27877,21311,28346,22810,33590,20025,20150,20294,21934,22296,22727,24406,26039,26086,27264,27573,28237,30701,31471,31774,32222,34507,34962,37170,37723,25787,28606,29562,30136,36948,21846,22349,25018,25812,26311,28129,28251,28525,28601,30192,32835,33213,34113,35203,35527,35674,37663,27795,30035,31572,36367,36957,21776,22530,22616,24162,25095,25758,26848,30070,31958,34739,40680,20195,22408,22382,22823,23565,23729,24118,24453,25140,25825,29619,33274,34955,36024,38538,40667,23429,24503,24755,20498,20992,21040,22294,22581,22615,23566,23648,23798,23947,24230,24466,24764,25361,25481,25623,26691,26873,27330,28120,28193,28372,28644,29182,30428,30585,31153,31291,33796,35241,36077,36339,36424,36867,36884,36947,37117,37709,38518,38876,27602,28678,29272,29346,29544,30563,31167,31716,32411,35712,22697,24775,25958,26109,26302,27788,28958,29129,35930,38931,20077,31361,20189,20908,20941,21205,21516,24999,26481,26704,26847,27934,28540,30140,30643,31461,33012,33891,37509,20828,26007,26460,26515,30168,31431,33651,63834,35910,36887,38957,23663,33216,33434,36929,36975,37389,24471,23965,27225,29128,30331,31561,34276,35588,37159,39472,21895,25078,63835,30313,32645,34367,34746,35064,37007,63836,27931,28889,29662,32097,33853,63837,37226,39409,63838,20098,21365,27396,27410,28734,29211,34349,40478,21068,36771,23888,25829,25900,27414,28651,31811,32412,34253,35172,35261,25289,33240,34847,24266,26391,28010,29436,29701,29807,34690,37086,20358,23821,24480,33802,20919,25504,30053,20142,20486,20841,20937,26753,27153,31918,31921,31975,33391,35538,36635,37327,20406,20791,21237,21570,24300,24942,25150,26053,27354,28670,31018,34268,34851,38317,39522,39530,40599,40654,21147,26310,27511,28701,31019,36706,38722,24976,25088,25891,28451,29001,29833,32244,32879,34030,36646,36899,37706,20925,21015,21155,27916,28872,35010,24265,25986,27566,28610,31806,29557,20196,20278,22265,63839,23738,23994,24604,29618,31533,32666,32718,32838,36894,37428,38646,38728,38936,40801,20363,28583,31150,37300,38583,21214,63840,25736,25796,27347,28510,28696,29200,30439,32769,34310,34396,36335,36613,38706,39791,40442,40565,30860,31103,32160,33737,37636,40575,40595,35542,22751,24324,26407,28711,29903,31840,32894,20769,28712,29282,30922,36034,36058,36084,38647,20102,20698,23534,24278,26009,29134,30274,30637,32842,34044,36988,39719,40845,22744,23105,23650,27155,28122,28431,30267,32047,32311,34078,35128,37860,38475,21129,26066,26611,27060,27969,28316,28687,29705,29792,30041,30244,30827,35628,39006,20845,25134,38520,20374,20523,23833,28138,32184,36650,24459,24900,26647,63841,38534,21202,32907,20956,20940,26974,31260,32190,33777,38517,20442,21033,21400,21519,21774,23653,24743,26446,26792,28012,29313,29432,29702,29827,63842,30178,31852,32633,32696,33673,35023,35041,37324,37328,38626,39881,21533,28542,29136,29848,34298,36522,38563,40023,40607,26519,28107,29747,33256,38678,30764,31435,31520,31890,25705,29802,30194,30908,30952,39340,39764,40635,23518,24149,28448,33180,33707,37e3,19975,21325,23081,24018,24398,24930,25405,26217,26364,28415,28459,28771,30622,33836,34067,34875,36627,39237,39995,21788,25273,26411,27819,33545,35178,38778,20129,22916,24536,24537,26395,32178,32596,33426,33579,33725,36638,37017,22475,22969,23186,23504,26151,26522,26757,27599,29028,32629,36023,36067,36993,39749,33032,35978,38476,39488,40613,23391,27667,29467,30450,30431,33804,20906,35219,20813,20885,21193,26825,27796,30468,30496,32191,32236,38754,40629,28357,34065,20901,21517,21629,26126,26269,26919,28319,30399,30609,33559,33986,34719,37225,37528,40180,34946,20398,20882,21215,22982,24125,24917,25720,25721,26286,26576,27169,27597,27611,29279,29281,29761,30520,30683,32791,33468,33541,35584,35624,35980,26408,27792,29287,30446,30566,31302,40361,27519,27794,22818,26406,33945,21359,22675,22937,24287,25551,26164,26483,28218,29483,31447,33495,37672,21209,24043,25006,25035,25098,25287,25771,26080,26969,27494,27595,28961,29687,30045,32326,33310,33538,34154,35491,36031,38695,40289,22696,40664,20497,21006,21563,21839,25991,27766,32010,32011,32862,34442,38272,38639,21247,27797,29289,21619,23194,23614,23883,24396,24494,26410,26806,26979,28220,28228,30473,31859,32654,34183,35598,36855,38753,40692,23735,24758,24845,25003,25935,26107,26108,27665,27887,29599,29641,32225,38292,23494,34588,35600,21085,21338,25293,25615,25778,26420,27192,27850,29632,29854,31636,31893,32283,33162,33334,34180,36843,38649,39361,20276,21322,21453,21467,25292,25644,25856,26001,27075,27886,28504,29677,30036,30242,30436,30460,30928,30971,31020,32070,33324,34784,36820,38930,39151,21187,25300,25765,28196,28497,30332,36299,37297,37474,39662,39747,20515,20621,22346,22952,23592,24135,24439,25151,25918,26041,26049,26121,26507,27036,28354,30917,32033,32938,33152,33323,33459,33953,34444,35370,35607,37030,38450,40848,20493,20467,63843,22521,24472,25308,25490,26479,28227,28953,30403,32972,32986,35060,35061,35097,36064,36649,37197,38506,20271,20336,24091,26575,26658,30333,30334,39748,24161,27146,29033,29140,30058,63844,32321,34115,34281,39132,20240,31567,32624,38309,20961,24070,26805,27710,27726,27867,29359,31684,33539,27861,29754,20731,21128,22721,25816,27287,29863,30294,30887,34327,38370,38713,63845,21342,24321,35722,36776,36783,37002,21029,30629,40009,40712,19993,20482,20853,23643,24183,26142,26170,26564,26821,28851,29953,30149,31177,31453,36647,39200,39432,20445,22561,22577,23542,26222,27493,27921,28282,28541,29668,29995,33769,35036,35091,35676,36628,20239,20693,21264,21340,23443,24489,26381,31119,33145,33583,34068,35079,35206,36665,36667,39333,39954,26412,20086,20472,22857,23553,23791,23792,25447,26834,28925,29090,29739,32299,34028,34562,36898,37586,40179,19981,20184,20463,20613,21078,21103,21542,21648,22496,22827,23142,23386,23413,23500,24220,63846,25206,25975,26023,28014,28325,29238,31526,31807,32566,33104,33105,33178,33344,33433,33705,35331,36e3,36070,36091,36212,36282,37096,37340,38428,38468,39385,40167,21271,20998,21545,22132,22707,22868,22894,24575,24996,25198,26128,27774,28954,30406,31881,31966,32027,33452,36033,38640,63847,20315,24343,24447,25282,23849,26379,26842,30844,32323,40300,19989,20633,21269,21290,21329,22915,23138,24199,24754,24970,25161,25209,26e3,26503,27047,27604,27606,27607,27608,27832,63848,29749,30202,30738,30865,31189,31192,31875,32203,32737,32933,33086,33218,33778,34586,35048,35513,35692,36027,37145,38750,39131,40763,22188,23338,24428,25996,27315,27567,27996,28657,28693,29277,29613,36007,36051,38971,24977,27703,32856,39425,20045,20107,20123,20181,20282,20284,20351,20447,20735,21490,21496,21766,21987,22235,22763,22882,23057,23531,23546,23556,24051,24107,24473,24605,25448,26012,26031,26614,26619,26797,27515,27801,27863,28195,28681,29509,30722,31038,31040,31072,31169,31721,32023,32114,32902,33293,33678,34001,34503,35039,35408,35422,35613,36060,36198,36781,37034,39164,39391,40605,21066,63849,26388,63850,20632,21034,23665,25955,27733,29642,29987,30109,31639,33948,37240,38704,20087,25746,27578,29022,34217,19977,63851,26441,26862,28183,33439,34072,34923,25591,28545,37394,39087,19978,20663,20687,20767,21830,21930,22039,23360,23577,23776,24120,24202,24224,24258,24819,26705,27233,28248,29245,29248,29376,30456,31077,31665,32724,35059,35316,35443,35937,36062,38684,22622,29885,36093,21959,63852,31329,32034,33394,29298,29983,29989,63853,31513,22661,22779,23996,24207,24246,24464,24661,25234,25471,25933,26257,26329,26360,26646,26866,29312,29790,31598,32110,32214,32626,32997,33298,34223,35199,35475,36893,37604,40653,40736,22805,22893,24109,24796,26132,26227,26512,27728,28101,28511,30707,30889,33990,37323,37675,20185,20682,20808,21892,23307,23459,25159,25982,26059,28210,29053,29697,29764,29831,29887,30316,31146,32218,32341,32680,33146,33203,33337,34330,34796,35445,36323,36984,37521,37925,39245,39854,21352,23633,26964,27844,27945,28203,33292,34203,35131,35373,35498,38634,40807,21089,26297,27570,32406,34814,36109,38275,38493,25885,28041,29166,63854,22478,22995,23468,24615,24826,25104,26143,26207,29481,29689,30427,30465,31596,32854,32882,33125,35488,37266,19990,21218,27506,27927,31237,31545,32048,63855,36016,21484,22063,22609,23477,23567,23569,24034,25152,25475,25620,26157,26803,27836,28040,28335,28703,28836,29138,29990,30095,30094,30233,31505,31712,31787,32032,32057,34092,34157,34311,35380,36877,36961,37045,37559,38902,39479,20439,23660,26463,28049,31903,32396,35606,36118,36895,23403,24061,25613,33984,36956,39137,29575,23435,24730,26494,28126,35359,35494,36865,38924,21047,63856,28753,30862,37782,34928,37335,20462,21463,22013,22234,22402,22781,23234,23432,23723,23744,24101,24833,25101,25163,25480,25628,25910,25976,27193,27530,27700,27929,28465,29159,29417,29560,29703,29874,30246,30561,31168,31319,31466,31929,32143,32172,32353,32670,33065,33585,33936,34010,34282,34966,35504,35728,36664,36930,36995,37228,37526,37561,38539,38567,38568,38614,38656,38920,39318,39635,39706,21460,22654,22809,23408,23487,28113,28506,29087,29729,29881,32901,33789,24033,24455,24490,24642,26092,26642,26991,27219,27529,27957,28147,29667,30462,30636,31565,32020,33059,33308,33600,34036,34147,35426,35524,37255,37662,38918,39348,25100,34899,36848,37477,23815,23847,23913,29791,33181,34664,28629,25342,32722,35126,35186,19998,20056,20711,21213,21319,25215,26119,32361,34821,38494,20365,21273,22070,22987,23204,23608,23630,23629,24066,24337,24643,26045,26159,26178,26558,26612,29468,30690,31034,32709,33940,33997,35222,35430,35433,35553,35925,35962,22516,23508,24335,24687,25325,26893,27542,28252,29060,31698,34645,35672,36606,39135,39166,20280,20353,20449,21627,23072,23480,24892,26032,26216,29180,30003,31070,32051,33102,33251,33688,34218,34254,34563,35338,36523,36763,63857,36805,22833,23460,23526,24713,23529,23563,24515,27777,63858,28145,28683,29978,33455,35574,20160,21313,63859,38617,27663,20126,20420,20818,21854,23077,23784,25105,29273,33469,33706,34558,34905,35357,38463,38597,39187,40201,40285,22538,23731,23997,24132,24801,24853,25569,27138,28197,37122,37716,38990,39952,40823,23433,23736,25353,26191,26696,30524,38593,38797,38996,39839,26017,35585,36555,38332,21813,23721,24022,24245,26263,30284,33780,38343,22739,25276,29390,40232,20208,22830,24591,26171,27523,31207,40230,21395,21696,22467,23830,24859,26326,28079,30861,33406,38552,38724,21380,25212,25494,28082,32266,33099,38989,27387,32588,40367,40474,20063,20539,20918,22812,24825,25590,26928,29242,32822,63860,37326,24369,63861,63862,32004,33509,33903,33979,34277,36493,63863,20335,63864,63865,22756,23363,24665,25562,25880,25965,26264,63866,26954,27171,27915,28673,29036,30162,30221,31155,31344,63867,32650,63868,35140,63869,35731,37312,38525,63870,39178,22276,24481,26044,28417,30208,31142,35486,39341,39770,40812,20740,25014,25233,27277,33222,20547,22576,24422,28937,35328,35578,23420,34326,20474,20796,22196,22852,25513,28153,23978,26989,20870,20104,20313,63871,63872,63873,22914,63874,63875,27487,27741,63876,29877,30998,63877,33287,33349,33593,36671,36701,63878,39192,63879,63880,63881,20134,63882,22495,24441,26131,63883,63884,30123,32377,35695,63885,36870,39515,22181,22567,23032,23071,23476,63886,24310,63887,63888,25424,25403,63889,26941,27783,27839,28046,28051,28149,28436,63890,28895,28982,29017,63891,29123,29141,63892,30799,30831,63893,31605,32227,63894,32303,63895,34893,36575,63896,63897,63898,37467,63899,40182,63900,63901,63902,24709,28037,63903,29105,63904,63905,38321,21421,63906,63907,63908,26579,63909,28814,28976,29744,33398,33490,63910,38331,39653,40573,26308,63911,29121,33865,63912,63913,22603,63914,63915,23992,24433,63916,26144,26254,27001,27054,27704,27891,28214,28481,28634,28699,28719,29008,29151,29552,63917,29787,63918,29908,30408,31310,32403,63919,63920,33521,35424,36814,63921,37704,63922,38681,63923,63924,20034,20522,63925,21e3,21473,26355,27757,28618,29450,30591,31330,33454,34269,34306,63926,35028,35427,35709,35947,63927,37555,63928,38675,38928,20116,20237,20425,20658,21320,21566,21555,21978,22626,22714,22887,23067,23524,24735,63929,25034,25942,26111,26212,26791,27738,28595,28879,29100,29522,31613,34568,35492,39986,40711,23627,27779,29508,29577,37434,28331,29797,30239,31337,32277,34314,20800,22725,25793,29934,29973,30320,32705,37013,38605,39252,28198,29926,31401,31402,33253,34521,34680,35355,23113,23436,23451,26785,26880,28003,29609,29715,29740,30871,32233,32747,33048,33109,33694,35916,38446,38929,26352,24448,26106,26505,27754,29579,20525,23043,27498,30702,22806,23916,24013,29477,30031,63930,63931,20709,20985,22575,22829,22934,23002,23525,63932,63933,23970,25303,25622,25747,25854,63934,26332,63935,27208,63936,29183,29796,63937,31368,31407,32327,32350,32768,33136,63938,34799,35201,35616,36953,63939,36992,39250,24958,27442,28020,32287,35109,36785,20433,20653,20887,21191,22471,22665,23481,24248,24898,27029,28044,28263,28342,29076,29794,29992,29996,32883,33592,33993,36362,37780,37854,63940,20110,20305,20598,20778,21448,21451,21491,23431,23507,23588,24858,24962,26100,29275,29591,29760,30402,31056,31121,31161,32006,32701,33419,34261,34398,36802,36935,37109,37354,38533,38632,38633,21206,24423,26093,26161,26671,29020,31286,37057,38922,20113,63941,27218,27550,28560,29065,32792,33464,34131,36939,38549,38642,38907,34074,39729,20112,29066,38596,20803,21407,21729,22291,22290,22435,23195,23236,23491,24616,24895,25588,27781,27961,28274,28304,29232,29503,29783,33489,34945,36677,36960,63942,38498,39e3,40219,26376,36234,37470,20301,20553,20702,21361,22285,22996,23041,23561,24944,26256,28205,29234,29771,32239,32963,33806,33894,34111,34655,34907,35096,35586,36949,38859,39759,20083,20369,20754,20842,63943,21807,21929,23418,23461,24188,24189,24254,24736,24799,24840,24841,25540,25912,26377,63944,26580,26586,63945,26977,26978,27833,27943,63946,28216,63947,28641,29494,29495,63948,29788,30001,63949,30290,63950,63951,32173,33278,33848,35029,35480,35547,35565,36400,36418,36938,36926,36986,37193,37321,37742,63952,63953,22537,63954,27603,32905,32946,63955,63956,20801,22891,23609,63957,63958,28516,29607,32996,36103,63959,37399,38287,63960,63961,63962,63963,32895,25102,28700,32104,34701,63964,22432,24681,24903,27575,35518,37504,38577,20057,21535,28139,34093,38512,38899,39150,25558,27875,37009,20957,25033,33210,40441,20381,20506,20736,23452,24847,25087,25836,26885,27589,30097,30691,32681,33380,34191,34811,34915,35516,35696,37291,20108,20197,20234,63965,63966,22839,23016,63967,24050,24347,24411,24609,63968,63969,63970,63971,29246,29669,63972,30064,30157,63973,31227,63974,32780,32819,32900,33505,33617,63975,63976,36029,36019,36999,63977,63978,39156,39180,63979,63980,28727,30410,32714,32716,32764,35610,20154,20161,20995,21360,63981,21693,22240,23035,23493,24341,24525,28270,63982,63983,32106,33589,63984,34451,35469,63985,38765,38775,63986,63987,19968,20314,20350,22777,26085,28322,36920,37808,39353,20219,22764,22922,23001,24641,63988,63989,31252,63990,33615,36035,20837,21316,63991,63992,63993,20173,21097,23381,33471,20180,21050,21672,22985,23039,23376,23383,23388,24675,24904,28363,28825,29038,29574,29943,30133,30913,32043,32773,33258,33576,34071,34249,35566,36039,38604,20316,21242,22204,26027,26152,28796,28856,29237,32189,33421,37196,38592,40306,23409,26855,27544,28538,30430,23697,26283,28507,31668,31786,34870,38620,19976,20183,21280,22580,22715,22767,22892,23559,24115,24196,24373,25484,26290,26454,27167,27299,27404,28479,29254,63994,29520,29835,31456,31911,33144,33247,33255,33674,33900,34083,34196,34255,35037,36115,37292,38263,38556,20877,21705,22312,23472,25165,26448,26685,26771,28221,28371,28797,32289,35009,36001,36617,40779,40782,29229,31631,35533,37658,20295,20302,20786,21632,22992,24213,25269,26485,26990,27159,27822,28186,29401,29482,30141,31672,32053,33511,33785,33879,34295,35419,36015,36487,36889,37048,38606,40799,21219,21514,23265,23490,25688,25973,28404,29380,63995,30340,31309,31515,31821,32318,32735,33659,35627,36042,36196,36321,36447,36842,36857,36969,37841,20291,20346,20659,20840,20856,21069,21098,22625,22652,22880,23560,23637,24283,24731,25136,26643,27583,27656,28593,29006,29728,3e4,30008,30033,30322,31564,31627,31661,31686,32399,35438,36670,36681,37439,37523,37666,37931,38651,39002,39019,39198,20999,25130,25240,27993,30308,31434,31680,32118,21344,23742,24215,28472,28857,31896,38673,39822,40670,25509,25722,34678,19969,20117,20141,20572,20597,21576,22979,23450,24128,24237,24311,24449,24773,25402,25919,25972,26060,26230,26232,26622,26984,27273,27491,27712,28096,28136,28191,28254,28702,28833,29582,29693,30010,30555,30855,31118,31243,31357,31934,32142,33351,35330,35562,35998,37165,37194,37336,37478,37580,37664,38662,38742,38748,38914,40718,21046,21137,21884,22564,24093,24351,24716,25552,26799,28639,31085,31532,33229,34234,35069,35576,36420,37261,38500,38555,38717,38988,40778,20430,20806,20939,21161,22066,24340,24427,25514,25805,26089,26177,26362,26361,26397,26781,26839,27133,28437,28526,29031,29157,29226,29866,30522,31062,31066,31199,31264,31381,31895,31967,32068,32368,32903,34299,34468,35412,35519,36249,36481,36896,36973,37347,38459,38613,40165,26063,31751,36275,37827,23384,23562,21330,25305,29469,20519,23447,24478,24752,24939,26837,28121,29742,31278,32066,32156,32305,33131,36394,36405,37758,37912,20304,22352,24038,24231,25387,32618,20027,20303,20367,20570,23005,32964,21610,21608,22014,22863,23449,24030,24282,26205,26417,26609,26666,27880,27954,28234,28557,28855,29664,30087,31820,32002,32044,32162,33311,34523,35387,35461,36208,36490,36659,36913,37198,37202,37956,39376,31481,31909,20426,20737,20934,22472,23535,23803,26201,27197,27994,28310,28652,28940,30063,31459,34850,36897,36981,38603,39423,33537,20013,20210,34886,37325,21373,27355,26987,27713,33914,22686,24974,26366,25327,28893,29969,30151,32338,33976,35657,36104,20043,21482,21675,22320,22336,24535,25345,25351,25711,25903,26088,26234,26525,26547,27490,27744,27802,28460,30693,30757,31049,31063,32025,32930,33026,33267,33437,33463,34584,35468,63996,36100,36286,36978,30452,31257,31287,32340,32887,21767,21972,22645,25391,25634,26185,26187,26733,27035,27524,27941,28337,29645,29800,29857,30043,30137,30433,30494,30603,31206,32265,32285,33275,34095,34967,35386,36049,36587,36784,36914,37805,38499,38515,38663,20356,21489,23018,23241,24089,26702,29894,30142,31209,31378,33187,34541,36074,36300,36845,26015,26389,63997,22519,28503,32221,36655,37878,38598,24501,25074,28548,19988,20376,20511,21449,21983,23919,24046,27425,27492,30923,31642,63998,36425,36554,36974,25417,25662,30528,31364,37679,38015,40810,25776,28591,29158,29864,29914,31428,31762,32386,31922,32408,35738,36106,38013,39184,39244,21049,23519,25830,26413,32046,20717,21443,22649,24920,24921,25082,26028,31449,35730,35734,20489,20513,21109,21809,23100,24288,24432,24884,25950,26124,26166,26274,27085,28356,28466,29462,30241,31379,33081,33369,33750,33980,20661,22512,23488,23528,24425,25505,30758,32181,33756,34081,37319,37365,20874,26613,31574,36012,20932,22971,24765,34389,20508,63999,21076,23610,24957,25114,25299,25842,26021,28364,30240,33034,36448,38495,38587,20191,21315,21912,22825,24029,25797,27849,28154,29588,31359,33307,34214,36068,36368,36983,37351,38369,38433,38854,20984,21746,21894,24505,25764,28552,32180,36639,36685,37941,20681,23574,27838,28155,29979,30651,31805,31844,35449,35522,22558,22974,24086,25463,29266,30090,30571,35548,36028,36626,24307,26228,28152,32893,33729,35531,38737,39894,64e3,21059,26367,28053,28399,32224,35558,36910,36958,39636,21021,21119,21736,24980,25220,25307,26786,26898,26970,27189,28818,28966,30813,30977,30990,31186,31245,32918,33400,33493,33609,34121,35970,36229,37218,37259,37294,20419,22225,29165,30679,34560,35320,23544,24534,26449,37032,21474,22618,23541,24740,24961,25696,32317,32880,34085,37507,25774,20652,23828,26368,22684,25277,25512,26894,27e3,27166,28267,30394,31179,33467,33833,35535,36264,36861,37138,37195,37276,37648,37656,37786,38619,39478,39949,19985,30044,31069,31482,31569,31689,32302,33988,36441,36468,36600,36880,26149,26943,29763,20986,26414,40668,20805,24544,27798,34802,34909,34935,24756,33205,33795,36101,21462,21561,22068,23094,23601,28810,32736,32858,33030,33261,36259,37257,39519,40434,20596,20164,21408,24827,28204,23652,20360,20516,21988,23769,24159,24677,26772,27835,28100,29118,30164,30196,30305,31258,31305,32199,32251,32622,33268,34473,36636,38601,39347,40786,21063,21189,39149,35242,19971,26578,28422,20405,23522,26517,27784,28024,29723,30759,37341,37756,34756,31204,31281,24555,20182,21668,21822,22702,22949,24816,25171,25302,26422,26965,33333,38464,39345,39389,20524,21331,21828,22396,64001,25176,64002,25826,26219,26589,28609,28655,29730,29752,35351,37944,21585,22022,22374,24392,24986,27470,28760,28845,32187,35477,22890,33067,25506,30472,32829,36010,22612,25645,27067,23445,24081,28271,64003,34153,20812,21488,22826,24608,24907,27526,27760,27888,31518,32974,33492,36294,37040,39089,64004,25799,28580,25745,25860,20814,21520,22303,35342,24927,26742,64005,30171,31570,32113,36890,22534,27084,33151,35114,36864,38969,20600,22871,22956,25237,36879,39722,24925,29305,38358,22369,23110,24052,25226,25773,25850,26487,27874,27966,29228,29750,30772,32631,33453,36315,38935,21028,22338,26495,29256,29923,36009,36774,37393,38442,20843,21485,25420,20329,21764,24726,25943,27803,28031,29260,29437,31255,35207,35997,24429,28558,28921,33192,24846,20415,20559,25153,29255,31687,32232,32745,36941,38829,39449,36022,22378,24179,26544,33805,35413,21536,23318,24163,24290,24330,25987,32954,34109,38281,38491,20296,21253,21261,21263,21638,21754,22275,24067,24598,25243,25265,25429,64006,27873,28006,30129,30770,32990,33071,33502,33889,33970,34957,35090,36875,37610,39165,39825,24133,26292,26333,28689,29190,64007,20469,21117,24426,24915,26451,27161,28418,29922,31080,34920,35961,39111,39108,39491,21697,31263,26963,35575,35914,39080,39342,24444,25259,30130,30382,34987,36991,38466,21305,24380,24517,27852,29644,30050,30091,31558,33534,39325,20047,36924,19979,20309,21414,22799,24264,26160,27827,29781,33655,34662,36032,36944,38686,39957,22737,23416,34384,35604,40372,23506,24680,24717,26097,27735,28450,28579,28698,32597,32752,38289,38290,38480,38867,21106,36676,20989,21547,21688,21859,21898,27323,28085,32216,33382,37532,38519,40569,21512,21704,30418,34532,38308,38356,38492,20130,20233,23022,23270,24055,24658,25239,26477,26689,27782,28207,32568,32923,33322,64008,64009,38917,20133,20565,21683,22419,22874,23401,23475,25032,26999,28023,28707,34809,35299,35442,35559,36994,39405,39608,21182,26680,20502,24184,26447,33607,34892,20139,21521,22190,29670,37141,38911,39177,39255,39321,22099,22687,34395,35377,25010,27382,29563,36562,27463,38570,39511,22869,29184,36203,38761,20436,23796,24358,25080,26203,27883,28843,29572,29625,29694,30505,30541,32067,32098,32291,33335,34898,64010,36066,37449,39023,23377,31348,34880,38913,23244,20448,21332,22846,23805,25406,28025,29433,33029,33031,33698,37583,38960,20136,20804,21009,22411,24418,27842,28366,28677,28752,28847,29074,29673,29801,33610,34722,34913,36872,37026,37795,39336,20846,24407,24800,24935,26291,34137,36426,37295,38795,20046,20114,21628,22741,22778,22909,23733,24359,25142,25160,26122,26215,27627,28009,28111,28246,28408,28564,28640,28649,28765,29392,29733,29786,29920,30355,31068,31946,32286,32993,33446,33899,33983,34382,34399,34676,35703,35946,37804,38912,39013,24785,25110,37239,23130,26127,28151,28222,29759,39746,24573,24794,31503,21700,24344,27742,27859,27946,28888,32005,34425,35340,40251,21270,21644,23301,27194,28779,30069,31117,31166,33457,33775,35441,35649,36008,38772,64011,25844,25899,30906,30907,31339,20024,21914,22864,23462,24187,24739,25563,27489,26213,26707,28185,29029,29872,32008,36996,39529,39973,27963,28369,29502,35905,38346,20976,24140,24488,24653,24822,24880,24908,26179,26180,27045,27841,28255,28361,28514,29004,29852,30343,31681,31783,33618,34647,36945,38541,40643,21295,22238,24315,24458,24674,24724,25079,26214,26371,27292,28142,28590,28784,29546,32362,33214,33588,34516,35496,36036,21123,29554,23446,27243,37892,21742,22150,23389,25928,25989,26313,26783,28045,28102,29243,32948,37237,39501,20399,20505,21402,21518,21564,21897,21957,24127,24460,26429,29030,29661,36869,21211,21235,22628,22734,28932,29071,29179,34224,35347,26248,34216,21927,26244,29002,33841,21321,21913,27585,24409,24509,25582,26249,28999,35569,36637,40638,20241,25658,28875,30054,34407,24676,35662,40440,20807,20982,21256,27958,33016,40657,26133,27427,28824,30165,21507,23673,32007,35350,27424,27453,27462,21560,24688,27965,32725,33288,20694,20958,21916,22123,22221,23020,23305,24076,24985,24984,25137,26206,26342,29081,29113,29114,29351,31143,31232,32690,35440,0],a.euckrToUTF8=function(e){var t,r=[];for(t=0;t<e.length;++t){var i,s;if(0<=(i=e.charCodeAt(t))&&i<128)r.push(String.fromCharCode(i));else{var o,u;t++,(u=94*(i-161)+(s=e.charCodeAt(t))-161)<0||a.tableKSC5601.length<u?(o="?",n.console.log("unknown euckr code ("+i+":"+s+")")):o=a.tableKSC5601[u],r.push(String.fromCharCode(o))}}return r.join("")},a.decodeEUCKR=function(e){var t,r=[];for(t=0;t<e.length;++t){var i,s;if(0<=(i=e.charCodeAt(t))&&i<128)r.push(String.fromCharCode(i));else{var o,u;t++,(u=94*(i-161)+(s=e.charCodeAt(t))-161)<0||a.tableKSC5601.length<u?(o="?",n.console.log("unknown euckr code ("+i+":"+s+")")):o=a.tableKSC5601[u],r.push(String.fromCharCode(o))}}return r.join("")},a.encodeEUCKR=function(e){var t,r=[];for(t=0;t<e.length;++t){var i,s,o;if(0<=(i=e.charCodeAt(t))&&i<128)r.push(String.fromCharCode(i));else{var u,c;if(-1==(c=a.tableKSC5601.indexOf(i))){n.console.log("unknown euckr code ("+i+")"),r.push("?");continue}s=(u=Math.floor(c/94))+161,o=c-94*u+161,r.push(String.fromCharCode(s)),r.push(String.fromCharCode(o))}}return r.join("")},a.bytesToHex=function(e){for(var t,r=[],n=0;n<e.length;++n){t="";var a=e.charCodeAt(n);a<16&&(t="0"),t+=a.toString(16),r.push(t)}return r.join("")},a.hexToBytes=function(e){var t=[],r=0;for(!0&e.length&&(r=1,t.push(String.fromCharCode(parseInt(e[0],16))));r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},a.encodeUTF8=function(e){return n.util.encodeUtf8(e)},a.decodeUTF8=function(e){return n.util.decodeUtf8(e)};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];a.encode64=function(e,t){for(var r,n,a,s="",o="",u=0;u<e.length;)r=e.charCodeAt(u++),n=e.charCodeAt(u++),a=e.charCodeAt(u++),s+=i.charAt(r>>2),s+=i.charAt((3&r)<<4|n>>4),isNaN(n)?s+="==":(s+=i.charAt((15&n)<<2|a>>6),s+=isNaN(a)?"=":i.charAt(63&a)),t&&s.length>t&&(o+=s.substr(0,t)+"\r\n",s=s.substr(t));return o+s},a.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,a,i="",o=0;o<e.length;)t=s[e.charCodeAt(o++)-43],r=s[e.charCodeAt(o++)-43],n=s[e.charCodeAt(o++)-43],a=s[e.charCodeAt(o++)-43],i+=String.fromCharCode(t<<2|r>>4),64!==n&&(i+=String.fromCharCode((15&r)<<4|n>>2),64!==a&&(i+=String.fromCharCode((3&n)<<6|a)));return i},a.isUTF16String=function(e){var t;for(t=0;t<e.length;++t)if(e.charCodeAt(t)>256)return!0;return!1},a.encode64url=ytcrypto.crypto.util.encode64url,a.decode64url=ytcrypto.crypto.util.decode64url,e.exports=a},function(e,t,r){function n(e,t){t.value.forEach(function(t){switch(t.type){case 0:var r=[];(function(e,t){switch(t.type){case 0:t.value.forEach(function(t){e.push(i.pki.GeneralName.toObject(t).value)})}})(r,t.value[0]),e.distributionPoint=r}})}function a(e,t){t.value.forEach(function(t){var r={};n(r,t),e.hasOwnProperty("distributionPoints")||(e.distributionPoints=[]),e.distributionPoints.push(r)})}var i=r(39);r(51),r(52),r(1);var s,o=r(56).JobPromise;i.pki||(i.pki={}),s=i.pki;var u=function(e,t){var r=this;this._cert=e,this.serialNumber=e.serialNumber,this.issuer=i.pki.DNToString(e.issuer),this.subject=i.pki.DNToString(e.subject),this.validity=e.validity,this.publicKey=void 0!=t?t:new ytcrypto.crypto.key(e.publicKey,"public"),this.publicKeyParameter=e.publicKeyParameter,this.signature=e.signature,e.extensions&&(this.extensions={},e.extensions.forEach(function(e){var t={};switch(e.id){case i.oids.keyUsage:t.name="keyUsage",t.dataEncipherment=e.dataEncipherment,t.digitalSignature=e.digitalSignature,t.decipherOnly=e.decipherOnly,t.encipherOnly=e.encipherOnly,t.cRLSign=e.cRLSign,t.keyAgreement=e.keyAgreement,t.keyCertSign=e.keyCertSign,t.keyEncipherment=e.keyEncipherment,t.nonRepudiation=e.nonRepudiation;break;case i.oids.extKeyUsage:for(var n in e)"id"!==n&&"value"!==n&&"critical"!==n&&(t[n]=e[n]);break;case i.oids.basicConstraints:t.name="basicConstraints",e.hasOwnProperty("cA")&&(t.cA=e.cA),e.hasOwnProperty("pathLenConstraint")&&(t.pathLenConstraint=e.pathLenConstraint);break;case"2.5.29.32":var s;s=i._asn1.fromDer(e.value),t.name="certificatePolicies",t.policies=function(e){var t;return t={},e.value.forEach(function(e){var r,n;switch(r=i._asn1.derToOid(e.value[0].value)){case"1.2.410.200004.5.4.1.1":n="odinaryPersonal";break;case"1.2.410.200005.1.1.4":n="restrictedPersonalFinancial";break;default:n=r}t[r]={name:n},e.value.length>1&&e.value[1].value.forEach(function(e){switch(i._asn1.derToOid(e.value[0].value)){case"1.3.6.1.5.5.7.2.1":t[r].CPSuri=e.value[1].value;break;case"1.3.6.1.5.5.7.2.2":t[r].userNotice=[],e.value[1].value.forEach(function(e){t[r].userNotice.push(e.value)})}})}),t}(s);break;case i.oids.subjectAltName:t.name="subjectAltName",function(e,t){e.values=[],t.value.forEach(function(t){var r;if(r=i.pki.GeneralName.toObject(t),e.values.push(r),"otherName"==r.type)switch(r.oid){case i.oids.identifyData:var n;(n=i.kisa.IdentifyData.toObject(r.value.value[0])).hasOwnProperty("realName")&&(e.realName=n.realName),n.hasOwnProperty("vid")&&(ytcrypto.md[n.vid.hashAlg].create(),e.vid=n.vid);break;case"2.5.4.4":r.surname=r.value.value[0].value}})}(t,i._asn1.fromDer(e.value));break;case i.oids.subjectKeyIdentifier:t.name="subjectKeyIdentifier",t.subjectKeyIdentifier=e.subjectKeyIdentifier;break;case"2.5.29.35":t.name="authorityKeyIdentifier",function(e,t){t.value&&t.value.forEach(function(t){switch(t.type){case 0:e.keyIdentifier=i.util.bytesToHex(t.value);break;case 1:e.authorityCertIssuer=[],t.value.forEach(function(t){e.authorityCertIssuer.push(i.pki.GeneralName.toObject(t).value)});break;case 2:e.authorityCertSerialNumber=i.util.bytesToHex(t.value)}})}(t,i._asn1.fromDer(e.value));break;case"2.5.29.31":t.name="cRLDistributionPoints",a(t,i._asn1.fromDer(e.value));break;case"1.3.6.1.5.5.7.1.1":default:return!0}t.value=e.value,r.extensions[t.name]=t}))};u.prototype.verifySignature=function(e,t){var r,n={},a=null,s=i.oids[this._cert.signatureOid];if(-1==s.indexOf("RSAEncryption"))throw"not supported algorithm:"+s;-1!=s.indexOf("sha256")?a="SHA-256":-1!=s.indexOf("sha1")?a="SHA-1":-1!=s.indexOf("sha384")?a="SHA-384":-1!=s.indexOf("sha512")&&(a="SHA-512"),n.name="RSASSA-PKCS1-v1_5",n.hash={name:a},r=i._asn1.toDer(this._cert.tbsCertificate).bytes(),e.publicKey.verify(n,this.signature,r,t)},u.prototype.isCA=function(){return!(!this.extensions||!this.extensions.basicConstraints||!this.extensions.basicConstraints.cA)},u.prototype.isRoot=function(){return!(this.issuer!=this.subject||!this.isCA()||this.extensions&&this.extensions.authorityKeyIdentifier)},u.prototype.generateChain=function(e,t){!function e(t,r,n,a){var s=new o;r.forEach(function(e){e.subject==t.issuer&&0!=e.isCA()&&s.add(function(r){try{t.verifySignature(e,function(t){r({foundCert:e,result:t})})}catch(e){r(e)}})}),s.fail(function(e){n({error:new i.error(e),chain:a})}),s.then(function(s){for(var o=null,u=0;u<s.length;++u){var c=s[u];if(c.result){o=c.foundCert;break}}return null==o?void n({error:new i.error("not any more issuer cert:"+t.issuer),chain:a}):-1!=a.indexOf(o)?void n({error:null,chain:a}):(a.push(o),void e(o,r,n,a))})}(this,e=e.splice(0),function(e){return e.error instanceof i.error?void t(e):(0==e.chain[e.chain.length-1].isRoot()&&(e.error=new i.error("root not found")),void t(e))},[])},u.prototype.toAsn1=function(){return i.asn1.fromRaw(i.pki.certificateToAsn1(this._cert))},u.fromRaw=function(e,t){return new u(e,t)},u.fromPem=function(e,t){return this.fromRaw(i.pki.certificateFromPem(e,!0,!0),t)},u.fromAsn1=function(e,t,r){var n,a,s;if(n=i.pki.certificateFromAsn1(e.getAsn1()),void 0===t)return u.fromRaw(n);s=ytcrypto.pki.publicKeyToAsn1(n.publicKey),a=i._asn1.toDer(s).getBytes(),ytcrypto.crypto.key.fromBytes(a,function(e){t(u.fromRaw(n,e))},r,n.publicKey.oid)},u.fromDer=u.fromBytes=function(e,t,r){return u.fromAsn1(i.asn1.fromDer(e),t,r)},u.fromString=function(e,t,r){return u.fromAsn1(i.asn1.fromString(e),t,r)},s.Certificate=u;var c=function(e,t){this.obj={},this.obj.userAgreement=e,this.obj.userAgree={}};c.prototype.request=function(e){var t;switch(t=e.toLowerCase()){case"realname":this.obj.userAgree.realName=!0;break;case"gender":this.obj.userAgree.gender=!0;break;case"nationalinfo":this.obj.userAgree.nationalInfo=!0;break;case"birthdate":this.obj.userAgree.birthDate=!0;break;default:throw new i.error("unknown field:"+t)}},c.prototype.toAsn1=function(){return i.util.isUTF16String(this.obj.userAgreement)&&(this.obj.userAgreement=i.util.encodeUTF8(this.obj.userAgreement)),new i.asn1(i.kisa.PersonInfoReq.toAsn1(this.obj))},i.pki.PersonInfoReq=c,e.exports=i.pki},function(e,t,r){function n(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,a=0;null===n&&a<e.attributes.length;++a)r=e.attributes[a],t.type&&t.type===r.type?n=r:t.name&&t.name===r.name?n=r:t.shortName&&t.shortName===r.shortName&&(n=r);return n}function a(e){for(var t,r,n=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),a=e.attributes,i=0;i<a.length;++i){var s=(t=a[i]).value,o=c.Type.PRINTABLESTRING;"valueTagClass"in t&&((o=t.valueTagClass)===c.Type.UTF8&&(s=u.util.encodeUtf8(s))),r=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(t.type).getBytes()),c.create(c.Class.UNIVERSAL,o,!1,s)])]),n.value.push(r)}return n}function i(e){for(var t,r=0;r<e.length;++r){if(void 0===(t=e[r]).name&&(t.type&&t.type in l.oids?t.name=l.oids[t.type]:t.shortName&&t.shortName in f&&(t.name=l.oids[f[t.shortName]])),void 0===t.type){if(!(t.name&&t.name in l.oids))throw{message:"Attribute type not specified.",attribute:t};t.type=l.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in f&&(t.shortName=f[t.name]),void 0===t.value)throw{message:"Attribute value not specified.",attribute:t}}}function s(e,t){switch(e){case p["RSASSA-PSS"]:var r=[];return void 0!==t.hash.algorithmOid&&r.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(t.hash.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&r.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(t.mgf.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(t.mgf.hash.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&r.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(t.saltLength).getBytes())])),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,r);default:return c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")}}var o=r(1),u=r(39);r(47),r(1);var c=u._asn1,l=u.pki=u.pki||{},p=l.oids,f={};f.CN=p.commonName,f.commonName="CN",f.C=p.countryName,f.countryName="C",f.L=p.localityName,f.localityName="L",f.ST=p.stateOrProvinceName,f.stateOrProvinceName="ST",f.O=p.organizationName,f.organizationName="O",f.OU=p.organizationalUnitName,f.organizationalUnitName="OU",f.serialNumber=p.serialNumber,f.serialNumber="serialNumber",f.dnQualifier=p.dnQualifier,f.dnQualifier="dnQualifier",f.DC=p.domainComponent,f.domainComponent="DC",f.E=p.emailAddress,f.emailAddress="E";var h=o.pki.publicKeyValidator,d={name:"Certificate",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:c.Class.UNIVERSAL,type:c.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:c.Class.UNIVERSAL,type:c.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:c.Class.UNIVERSAL,type:c.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:c.Class.UNIVERSAL,type:c.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},h,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:c.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:c.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},y={name:"rsapss",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:c.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:c.Class.UNIVERSAL,type:c.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:c.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:c.Class.UNIVERSAL,type:c.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},g={name:"CertificationRequestInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},h,{name:"CertificationRequestInfo.attributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0}]}]}]},v={name:"CertificationRequest",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[g,{name:"CertificationRequest.signatureAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"csrSignature"}]};l.RDNAttributesAsArray=function(e,t){for(var r,n,a,i=[],s=0;s<e.value.length;++s){r=e.value[s];for(var o=0;o<r.value.length;++o)a={},n=r.value[o],a.type=c.derToOid(n.value[0].value),a.value=n.value[1].value,a.valueTagClass=n.value[1].type,a.type in p&&(a.name=p[a.type],a.name in f&&(a.shortName=f[a.name])),t&&(t.update(a.type),t.update(a.value)),12==a.valueTagClass&&(a.value=u.util.decodeUTF8(a.value)),a.rdnIndex=s,i.push(a)}return i},l.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],a=c.derToOid(n.value[0].value),i=n.value[1].value,s=0;s<i.length;++s){var o={};o.type=a,o.value=i[s].value,o.valueTagClass=i[s].type,o.type in p&&(o.name=p[o.type],o.name in f&&(o.shortName=f[o.name])),t.push(o)}return t};var m=function(e,t,r){var n={};if(e!==p["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:p.sha1},mgf:{algorithmOid:p.mgf1,hash:{algorithmOid:p.sha1}},saltLength:20});var a={},i=[];if(!c.validate(t,y,a,i))throw{message:"Cannot read RSASSA-PSS parameter block.",errors:i};return void 0!==a.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=c.derToOid(a.hashOid)),void 0!==a.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=c.derToOid(a.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=c.derToOid(a.maskGenHashOid)),void 0!==a.saltLength&&(n.saltLength=a.saltLength.charCodeAt(0)),n};l.certificateFromPem=function(e,t,r){var n=u.pem.decode(e)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type)throw{message:'Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".',headerType:n.type};if(n.procType&&"ENCRYPTED"===n.procType.type)throw{message:"Could not convert certificate from PEM; PEM is encrypted."};var a=c.fromDer(n.body,r);return l.certificateFromAsn1(a,t)},l.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:c.toDer(l.certificateToAsn1(e)).getBytes()};return u.pem.encode(r,{maxline:t})},l.publicKeyFromPem=function(e){var t=u.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type)throw{message:'Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".',headerType:t.type};if(t.procType&&"ENCRYPTED"===t.procType.type)throw{message:"Could not convert public key from PEM; PEM is encrypted."};var r=c.fromDer(t.body);return o.pki.publicKeyFromAsn1(r)},l.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:c.toDer(l.publicKeyToAsn1(e)).getBytes()};return u.pem.encode(r,{maxline:t})},l.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:c.toDer(l.publicKeyToRSAPublicKey(e)).getBytes()};return u.pem.encode(r,{maxline:t})},l.certificationRequestFromPem=function(e,t,r){var n=u.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==n.type)throw{message:'Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".',headerType:n.type};if(n.procType&&"ENCRYPTED"===n.procType.type)throw{message:"Could not convert certification request from PEM; PEM is encrypted."};var a=c.fromDer(n.body,r);return l.certificationRequestFromAsn1(a,t)},l.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:c.toDer(l.certificationRequestToAsn1(e)).getBytes()};return u.pem.encode(r,{maxline:t})},l.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return n(e.issuer,t)},e.issuer.addField=function(t){i([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return n(e.subject,t)},e.subject.addField=function(t){i([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){i(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){i(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r,n=0;n<t.length;++n){if(void 0===(r=t[n]).name&&r.id&&r.id in l.oids&&(r.name=l.oids[r.id]),void 0===r.id){if(!(r.name&&r.name in l.oids))throw{message:"Extension ID not specified.",extension:r};r.id=l.oids[r.name]}if(void 0===r.value){if("keyUsage"===r.name){var a=0,i=0,s=0;r.digitalSignature&&(i|=128,a=7),r.nonRepudiation&&(i|=64,a=6),r.keyEncipherment&&(i|=32,a=5),r.dataEncipherment&&(i|=16,a=4),r.keyAgreement&&(i|=8,a=3),r.keyCertSign&&(i|=4,a=2),r.cRLSign&&(i|=2,a=1),r.encipherOnly&&(i|=1,a=0),r.decipherOnly&&(s|=128,a=7);var o=String.fromCharCode(a);0!==s?o+=String.fromCharCode(i)+String.fromCharCode(s):0!==i&&(o+=String.fromCharCode(i)),r.value=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,o)}else if("basicConstraints"===r.name)r.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),r.cA&&r.value.value.push(c.create(c.Class.UNIVERSAL,c.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in r&&r.value.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(r.pathLenConstraint).getBytes()));else if("extKeyUsage"===r.name){r.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);var f=r.value.value;for(var h in r)!0===r[h]&&(h in p?f.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(p[h]).getBytes())):-1!==h.indexOf(".")&&f.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(h).getBytes())))}else if("nsCertType"===r.name){a=0,i=0;r.client&&(i|=128,a=7),r.server&&(i|=64,a=6),r.email&&(i|=32,a=5),r.objsign&&(i|=16,a=4),r.reserved&&(i|=8,a=3),r.sslCA&&(i|=4,a=2),r.emailCA&&(i|=2,a=1),r.objCA&&(i|=1,a=0);o=String.fromCharCode(a);0!==i&&(o+=String.fromCharCode(i)),r.value=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,o)}else if("subjectAltName"===r.name||"issuerAltName"===r.name){r.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);for(var d,y=0;y<r.altNames.length;++y){o=(d=r.altNames[y]).value;if(7===d.type&&d.ip){if(null===(o=u.util.bytesFromIP(d.ip)))throw{message:'Extension "ip" value is not a valid IPv4 or IPv6 address.',extension:r}}else 8===d.type&&(o=d.oid?c.oidToDer(c.oidToDer(d.oid)):c.oidToDer(o));r.value.value.push(c.create(c.Class.CONTEXT_SPECIFIC,d.type,!1,o))}}else if("subjectKeyIdentifier"===r.name){var g=e.generateSubjectKeyIdentifier();r.subjectKeyIdentifier=g.toHex(),r.value=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,g.getBytes())}if(void 0===r.value)throw{message:"Extension value not specified.",extension:r}}}e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,a=0;null===n&&a<e.extensions.length;++a)r=e.extensions[a],t.id&&r.id===t.id?n=r:t.name&&r.name===t.name&&(n=r);return n},e.sign=function(t,r){e.md=r||o.md.sha1.create();var n=p[e.md.algorithm+"WithRSAEncryption"];if(!n)throw{message:"Could not compute certificate digest. Unknown message digest algorithm OID.",algorithm:e.md.algorithm};e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=l.getTBSCertificate(e);var a=c.toDer(e.tbsCertificate);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,a=e.subject;throw{message:"The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.",expectedIssuer:n.attributes,actualIssuer:a.attributes}}var i=t.md;if(null===i){if(t.signatureOid in p)switch(p[t.signatureOid]){case"sha1WithRSAEncryption":i=o.md.sha1.create();break;case"md5WithRSAEncryption":i=o.md.md5.create();break;case"sha256WithRSAEncryption":i=o.md.sha256.create();break;case"RSASSA-PSS":i=o.md.sha256.create()}if(null===i)throw{message:"Could not compute certificate digest. Unknown signature OID.",signatureOid:t.signatureOid};var s=t.tbsCertificate||l.getTBSCertificate(t),f=c.toDer(s);i.update(f.getBytes())}if(null!==i){var h=void 0;switch(t.signatureOid){case p.sha1WithRSAEncryption:h=void 0;break;case p["RSASSA-PSS"]:var d,y;if(void 0===(d=p[t.signatureParameters.mgf.hash.algorithmOid])||void 0===o.md[d])throw{message:"Unsupported MGF hash function.",oid:t.signatureParameters.mgf.hash.algorithmOid,name:d};if(void 0===(y=p[t.signatureParameters.mgf.algorithmOid])||void 0===u.mgf[y])throw{message:"Unsupported MGF function.",oid:t.signatureParameters.mgf.algorithmOid,name:y};if(y=u.mgf[y].create(o.md[d].create()),void 0===(d=p[t.signatureParameters.hash.algorithmOid])||void 0===o.md[d])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:d};h=o.pss.create(o.md[d].create(),y,t.signatureParameters.saltLength)}r=e.publicKey.verify(i.digest().getBytes(),t.signature,h)}return r},e.isIssuer=function(t){var r=!1,n=e.issuer,a=t.subject;if(n.hash&&a.hash)r=n.hash===a.hash;else if(n.attributes.length===a.attributes.length){r=!0;for(var i,s,o=0;r&&o<n.attributes.length;++o)i=n.attributes[o],s=a.attributes[o],i.type===s.type&&i.value===s.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){var t=c.toDer(l.publicKeyToRSAPublicKey(e.publicKey)),r=o.md.sha1.create();return r.update(t.getBytes()),r.digest()},e.verifySubjectKeyIdentifier=function(){for(var t=p.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var a=e.generateSubjectKeyIdentifier().getBytes();return u.util.hexToBytes(n.subjectKeyIdentifier)===a}}return!1},e},l.certificateFromAsn1=function(e,t){var r={},a=[];if(!c.validate(e,d,r,a))throw{message:"Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.",errors:a};if("string"!=typeof r.certSignature){for(var s="\0",f=0;f<r.certSignature.length;++f)s+=c.toDer(r.certSignature[f]).getBytes();r.certSignature=s}var h=l.createCertificate();h.version=r.certVersion?r.certVersion.charCodeAt(0):0;var y=u.util.createBuffer(r.certSerialNumber);h.serialNumber=y.toHex(),h.signatureOid=u._asn1.derToOid(r.certSignatureOid),h.signatureParameters=m(h.signatureOid,r.certSignatureParams,!0),h.siginfo.algorithmOid=u._asn1.derToOid(r.certinfoSignatureOid),h.siginfo.parameters=m(h.siginfo.algorithmOid,r.certinfoSignatureParams,!1);var g=u.util.createBuffer(r.certSignature);++g.read,h.signature=g.getBytes();var v=[];if(void 0!==r.certValidity1UTCTime&&v.push(c.utcTimeToDate(r.certValidity1UTCTime)),void 0!==r.certValidity2GeneralizedTime&&v.push(c.generalizedTimeToDate(r.certValidity2GeneralizedTime)),void 0!==r.certValidity3UTCTime&&v.push(c.utcTimeToDate(r.certValidity3UTCTime)),void 0!==r.certValidity4GeneralizedTime&&v.push(c.generalizedTimeToDate(r.certValidity4GeneralizedTime)),v.length>2)throw{message:"Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate."};if(v.length<2)throw{message:"Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime."};if(h.validity.notBefore=v[0],h.validity.notAfter=v[1],h.tbsCertificate=r.tbsCertificate,t){if(h.md=null,h.signatureOid in p)switch(p[h.signatureOid]){case"sha1WithRSAEncryption":h.md=o.md.sha1.create();break;case"md5WithRSAEncryption":h.md=o.md.md5.create();break;case"sha256WithRSAEncryption":h.md=o.md.sha256.create();break;case"RSASSA-PSS":h.md=o.md.sha256.create()}if(null===h.md)throw{message:"Could not compute certificate digest. Unknown signature OID.",signatureOid:h.signatureOid};var C=c.toDer(h.tbsCertificate);h.md.update(C.getBytes())}var E=o.md.sha1.create();h.issuer.getField=function(e){return n(h.issuer,e)},h.issuer.addField=function(e){i([e]),h.issuer.attributes.push(e)},h.issuer.attributes=l.RDNAttributesAsArray(r.certIssuer,E),r.certIssuerUniqueId&&(h.issuer.uniqueId=r.certIssuerUniqueId),h.issuer.hash=E.digest().toHex();var S=o.md.sha1.create();return h.subject.getField=function(e){return n(h.subject,e)},h.subject.addField=function(e){i([e]),h.subject.attributes.push(e)},h.subject.attributes=l.RDNAttributesAsArray(r.certSubject,S),r.certSubjectUniqueId&&(h.subject.uniqueId=r.certSubjectUniqueId),h.subject.hash=S.digest().toHex(),r.certExtensions?h.extensions=function(e){for(var t,r,n,a=[],i=0;i<e.value.length;++i){n=e.value[i];for(var s=0;s<n.value.length;++s){if(r=n.value[s],(t={}).id=c.derToOid(r.value[0].value),t.critical=!1,r.value[1].type===c.Type.BOOLEAN?(t.critical=0!==r.value[1].value.charCodeAt(0),t.value=r.value[2].value):t.value=r.value[1].value,t.id in p)if(t.name=p[t.id],"keyUsage"===t.name){var o=0,l=0;(h=c.fromDer(t.value)).value.length>1&&(o=h.value.charCodeAt(1),l=h.value.length>2?h.value.charCodeAt(2):0),t.digitalSignature=128==(128&o),t.nonRepudiation=64==(64&o),t.keyEncipherment=32==(32&o),t.dataEncipherment=16==(16&o),t.keyAgreement=8==(8&o),t.keyCertSign=4==(4&o),t.cRLSign=2==(2&o),t.encipherOnly=1==(1&o),t.decipherOnly=128==(128&l)}else if("basicConstraints"===t.name){(h=c.fromDer(t.value)).value.length>0&&h.value[0].type===c.Type.BOOLEAN?t.cA=0!==h.value[0].value.charCodeAt(0):t.cA=!1;var f=null;h.value.length>0&&h.value[0].type===c.Type.INTEGER?f=h.value[0].value:h.value.length>1&&(f=h.value[1].value),null!==f&&(t.pathLenConstraint=c.derToInteger(f))}else if("extKeyUsage"===t.name)for(var h=c.fromDer(t.value),d=0;d<h.value.length;++d){var y=c.derToOid(h.value[d].value);y in p?t[p[y]]=!0:t[y]=!0}else if("nsCertType"===t.name)o=0,(h=c.fromDer(t.value)).value.length>1&&(o=h.value.charCodeAt(1)),t.client=128==(128&o),t.server=64==(64&o),t.email=32==(32&o),t.objsign=16==(16&o),t.reserved=8==(8&o),t.sslCA=4==(4&o),t.emailCA=2==(2&o),t.objCA=1==(1&o);else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.altNames=[],h=c.fromDer(t.value);for(var g,v=0;v<h.value.length;++v){var m={type:(g=h.value[v]).type,value:g.value};switch(t.altNames.push(m),g.type){case 1:case 2:case 6:break;case 7:m.ip=u.util.bytesToIP(g.value);break;case 8:m.oid=c.derToOid(g.value)}}}else"subjectKeyIdentifier"===t.name&&(h=c.fromDer(t.value),t.subjectKeyIdentifier=u.util.bytesToHex(h.value));a.push(t)}}return a}(r.certExtensions):h.extensions=[],h.publicKey=o.pki.publicKeyFromAsn1(r.subjectPublicKeyInfo),h.publicKeyParameter=r.subjectPublicKeyInfo.value[0],h.publicKeyParameter.value.length>1?h.publicKeyParameter=o.asn1.toDer(h.publicKeyParameter.value[1]).bytes():delete h.publicKeyParameter,h},l.certificationRequestFromAsn1=function(e,t){var r={},a=[];if(!c.validate(e,v,r,a))throw{message:"Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.",errors:a};if("string"!=typeof r.csrSignature){for(var s="\0",f=0;f<r.csrSignature.length;++f)s+=c.toDer(r.csrSignature[f]).getBytes();r.csrSignature=s}if(c.derToOid(r.publicKeyOid)!==l.oids.rsaEncryption)throw{message:"Cannot read public key. OID is not RSA."};var h=l.createCertificationRequest();h.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,h.signatureOid=u._asn1.derToOid(r.csrSignatureOid),h.signatureParameters=m(h.signatureOid,r.csrSignatureParams,!0),h.siginfo.algorithmOid=u._asn1.derToOid(r.csrSignatureOid),h.siginfo.parameters=m(h.siginfo.algorithmOid,r.csrSignatureParams,!1);var d=u.util.createBuffer(r.csrSignature);if(++d.read,h.signature=d.getBytes(),h.certificationRequestInfo=r.certificationRequestInfo,t){if(h.md=null,h.signatureOid in p)switch(p[h.signatureOid]){case"sha1WithRSAEncryption":h.md=o.md.sha1.create();break;case"md5WithRSAEncryption":h.md=o.md.md5.create();break;case"sha256WithRSAEncryption":h.md=o.md.sha256.create();break;case"RSASSA-PSS":h.md=o.md.sha256.create()}if(null===h.md)throw{message:"Could not compute certification request digest. Unknown signature OID.",signatureOid:h.signatureOid};var y=c.toDer(h.certificationRequestInfo);h.md.update(y.getBytes())}var g=o.md.sha1.create();return h.subject.getField=function(e){return n(h.subject,e)},h.subject.addField=function(e){i([e]),h.subject.attributes.push(e)},h.subject.attributes=l.RDNAttributesAsArray(r.certificationRequestInfoSubject,g),h.subject.hash=g.digest().toHex(),h.publicKey=o.pki.publicKeyFromAsn1(r.subjectPublicKeyInfo),h.getAttribute=function(e){return n(h.attributes,e)},h.addAttribute=function(e){i([e]),h.attributes.push(e)},h.attributes=l.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),h},l.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return n(e.subject,t)},e.subject.addField=function(t){i([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return n(e.attributes,t)},e.addAttribute=function(t){i([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){i(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){i(t),e.attributes=t},e.sign=function(t,r){e.md=r||o.md.sha1.create();var n=p[e.md.algorithm+"WithRSAEncryption"];if(!n)throw{message:"Could not compute certification request digest. Unknown message digest algorithm OID.",algorithm:e.md.algorithm};e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=l.getCertificationRequestInfo(e);var a=c.toDer(e.certificationRequestInfo);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(null===r){if(e.signatureOid in p)switch(p[e.signatureOid]){case"sha1WithRSAEncryption":r=o.md.sha1.create();break;case"md5WithRSAEncryption":r=o.md.md5.create();break;case"sha256WithRSAEncryption":r=o.md.sha256.create();break;case"RSASSA-PSS":r=o.md.sha256.create()}if(null===r)throw{message:"Could not compute certification request digest. Unknown signature OID.",signatureOid:e.signatureOid};var n=e.certificationRequestInfo||l.getCertificationRequestInfo(e),a=c.toDer(n);r.update(a.getBytes())}if(null!==r){var i;switch(e.signatureOid){case p.sha1WithRSAEncryption:break;case p["RSASSA-PSS"]:var s,f;if(void 0===(s=p[e.signatureParameters.mgf.hash.algorithmOid])||void 0===o.md[s])throw{message:"Unsupported MGF hash function.",oid:e.signatureParameters.mgf.hash.algorithmOid,name:s};if(void 0===(f=p[e.signatureParameters.mgf.algorithmOid])||void 0===u.mgf[f])throw{message:"Unsupported MGF function.",oid:e.signatureParameters.mgf.algorithmOid,name:f};if(f=u.mgf[f].create(o.md[s].create()),void 0===(s=p[e.signatureParameters.hash.algorithmOid])||void 0===o.md[s])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:s};i=u.pss.create(o.md[s].create(),f,e.signatureParameters.saltLength)}t=e.publicKey.verify(r.digest().getBytes(),e.signature,i)}return t},e},l.getTBSCertificate=function(e){var t=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(e.version).getBytes())]),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,u.util.hexToBytes(e.serialNumber)),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.siginfo.algorithmOid).getBytes()),s(e.siginfo.algorithmOid,e.siginfo.parameters)]),a(e.issuer),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.UTCTIME,!1,c.dateToUtcTime(e.validity.notBefore)),c.create(c.Class.UNIVERSAL,c.Type.UTCTIME,!1,c.dateToUtcTime(e.validity.notAfter))]),a(e.subject),l.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&t.value.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!0,[c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&t.value.push(function(e){var t=c.create(c.Class.CONTEXT_SPECIFIC,3,!0,[]),r=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n,a,i=0;i<e.length;++i){n=e[i],a=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),r.value.push(a),a.value.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(n.id).getBytes())),n.critical&&a.value.push(c.create(c.Class.UNIVERSAL,c.Type.BOOLEAN,!1,String.fromCharCode(255)));var s=n.value;"string"!=typeof n.value&&(s=c.toDer(s).getBytes()),a.value.push(c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,s))}return t}(e.extensions)),t},l.getCertificationRequestInfo=function(e){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(e.version).getBytes()),a(e.subject),l.publicKeyToAsn1(e.publicKey),function(e){var t=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var r=e.attributes,n=0;n<r.length;++n){var a=r[n],i=a.value,s=c.Type.UTF8;"valueTagClass"in a&&(s=a.valueTagClass),s===c.Type.UTF8&&(i=u.util.encodeUtf8(i));var o=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(a.type).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,s,!1,i)])]);t.value.push(o)}return t}(e)])},l.distinguishedNameToAsn1=function(e){return a(e)},l.certificateToAsn1=function(e){var t=e.tbsCertificate||l.getTBSCertificate(e);return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[t,c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.signatureOid).getBytes()),s(e.signatureOid,e.signatureParameters)]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},l.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||l.getCertificationRequestInfo(e);return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[t,c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.signatureOid).getBytes()),s(e.signatureOid,e.signatureParameters)]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},l.createCaStore=function(e){var t={certs:{},getIssuer:function(e){var r=null;if(!e.issuer.hash){var n=o.md.sha1.create();e.issuer.attributes=l.RDNAttributesAsArray(a(e.issuer),n),e.issuer.hash=n.digest().toHex()}if(e.issuer.hash in t.certs&&(r=t.certs[e.issuer.hash],u.util.isArray(r)))throw{message:"Resolving multiple issuer matches not implemented yet."};return r},addCertificate:function(e){if("string"==typeof e&&(e=u.pki.certificateFromPem(e)),!e.subject.hash){var r=o.md.sha1.create();e.subject.attributes=l.RDNAttributesAsArray(a(e.subject),r),e.subject.hash=r.digest().toHex()}if(e.subject.hash in t.certs){var n=t.certs[e.subject.hash];u.util.isArray(n)||(n=[n]),n.push(e)}else t.certs[e.subject.hash]=e}};if(e)for(var r=0;r<e.length;++r){var n=e[r];t.addCertificate(n)}return t},l.certificateError={bad_certificate:"yt.pki.BadCertificate",unsupported_certificate:"yt.pki.UnsupportedCertificate",certificate_revoked:"yt.pki.CertificateRevoked",certificate_expired:"yt.pki.CertificateExpired",certificate_unknown:"yt.pki.CertificateUnknown",unknown_ca:"yt.pki.UnknownCertificateAuthority"},l.verifyCertificateChain=function(e,t,r){var n=(t=t.slice(0)).slice(0),a=new Date,i=!0,s=null,o=0,c=null;do{var p=t.shift();if(a<p.validity.notBefore||a>p.validity.notAfter)s={message:"Certificate is not valid yet or has expired.",error:l.certificateError.certificate_expired,notBefore:p.validity.notBefore,notAfter:p.validity.notAfter,now:a};else{var f=!1;if(t.length>0){c=t[0];try{f=c.verify(p)}catch(e){}}else{var h=e.getIssuer(p);if(null===h)s={message:"Certificate is not trusted.",error:l.certificateError.unknown_ca};else for(u.util.isArray(h)||(h=[h]);!f&&h.length>0;){c=h.shift();try{f=c.verify(p)}catch(e){}}}null!==s||f||(s={message:"Certificate signature is invalid.",error:l.certificateError.bad_certificate})}if(null!==s||p.isIssuer(c)||(s={message:"Certificate issuer is invalid.",error:l.certificateError.bad_certificate}),null===s)for(var d={keyUsage:!0,basicConstraints:!0},y=0;null===s&&y<p.extensions.length;++y){var g=p.extensions[y];!g.critical||g.name in d||(s={message:"Certificate has an unsupported critical extension.",error:l.certificateError.unsupported_certificate})}if(!i||0===t.length&&!c){var v=p.getExtension("basicConstraints"),m=p.getExtension("keyUsage");if(null!==m&&(m.keyCertSign&&null!==v||(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:l.certificateError.bad_certificate})),null!==s||null===v||v.cA||(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:l.certificateError.bad_certificate}),null===s&&null!==m&&"pathLenConstraint"in v){var C=0;for(y=1;y<t.length-1;++y)t[y].isIssuer(t[y])&&++C;var E=v.pathLenConstraint+1;t.length-C>E&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:l.certificateError.bad_certificate})}}var S=null===s||s.error,F=r?r(S,o,n):S;if(!0!==F)throw!0===S&&(s={message:"The application rejected the certificate.",error:l.certificateError.bad_certificate}),(F||0===F)&&("object"!=typeof F||u.util.isArray(F)?"string"==typeof F&&(s.error=F):(F.message&&(s.message=F.message),F.error&&(s.error=F.error))),s;s=null,i=!1,++o}while(t.length>0);return!0},e.exports=l},function(e,t,r){var n=r(39);r(41),r(47),r(53),r(48),r(54),r(55),r(43),r(51);var a=n._asn1,i=n.pki=n.pki||{};i.pemToDer=function(e){var t=n.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw{message:"Could not convert PEM to DER; PEM is encrypted."};return n.util.createBuffer(t.body)},i.privateKeyFromPem=function(e){var t=n.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type)throw{message:'Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".',headerType:t.type};if(t.procType&&"ENCRYPTED"===t.procType.type)throw{message:"Could not convert private key from PEM; PEM is encrypted."};var r=a.fromDer(t.body);return i.privateKeyFromAsn1(r)},i.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:a.toDer(i.privateKeyToAsn1(e)).getBytes()};return n.pem.encode(r,{maxline:t})},i.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:a.toDer(e).getBytes()};return n.pem.encode(r,{maxline:t})}},function(e,t,r){function n(e,t,r){for(var n=[a(e+t)],i=16,s=1;i<r;++s,i+=16)n.push(a(n[s-1]+e+t));return n.join("").substr(0,r)}function a(e){return i.md.md5.create().update(e).digest().getBytes()}var i=r(1),s=r(39);if(void 0===o)var o=i.jsbn.BigInteger;var u=s._asn1,c=s.pki=s.pki||{};c.pbe=s.pbe=s.pbe||{};var l=c.oids,p={name:"EncryptedPrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},f={name:"PBES2Algorithms",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,onstructed:!0,capture:"kdfIterationCount"}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h={name:"pkcs-12PbeParams",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"iterations"}]};c.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128";var n,a,o,p=i.random.getBytesSync(r.saltSize),f=r.count,h=u.integerToDer(f);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm||0===r.algorithm.indexOf("aria")||"seed"===r.algorithm){var d,y,g;switch(r.algorithm){case"aes128":n=16,d=16,y=l["aes128-CBC"],g=i.aes.createEncryptionCipher;break;case"aes192":n=24,d=16,y=l["aes192-CBC"],g=i.aes.createEncryptionCipher;break;case"aes256":n=32,d=16,y=l["aes256-CBC"],g=i.aes.createEncryptionCipher;break;case"des":n=8,d=8,y=l.desCBC,g=i.des.createEncryptionCipher;break;case"seed":n=16,d=16,y=l.seedCBC,g=i.aria.createEncryptionCipher;break;case"aria":case"aria128":n=16,d=16,y=l["aria128-CBC"],g=i.aria.createEncryptionCipher;break;default:throw{message:"Cannot encrypt private key. Unknown encryption algorithm.",algorithm:r.algorithm}}var v=s.pkcs5.pbkdf2(t,p,f,n),m=i.random.getBytesSync(d);(C=g(v)).start(m),C.update(u.toDer(e)),C.finish(),o=C.output.getBytes(),a=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.pkcs5PBES2).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l.pkcs5PBKDF2).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,p),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,h.getBytes())])]),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(y).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,m)])])])}else{if("3des"!==r.algorithm)throw{message:"Cannot encrypt private key. Unknown encryption algorithm.",algorithm:r.algorithm};n=24;var C,E=new s.util.ByteBuffer(p);v=c.pbe.generatePkcs12Key(t,E,1,f,n),m=c.pbe.generatePkcs12Key(t,E,2,f,n);(C=i.des.createEncryptionCipher(v)).start(m),C.update(u.toDer(e)),C.finish(),o=C.output.getBytes(),a=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(l["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,p),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,h.getBytes())])])}return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[a,u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,o)])},c.decryptPrivateKeyInfo=function(e,t){var r=null,n={},a=[];if(!u.validate(e,p,n,a))throw{message:"Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.",errors:a};var i=u.derToOid(n.encryptionOid),o=c.pbe.getCipher(i,n.encryptionParams,t),l=s.util.createBuffer(n.encryptedData);return o.update(l),o.finish()&&(r=u.fromDer(o.output)),r},c.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:u.toDer(e).getBytes()};return s.pem.encode(r,{maxline:t})},c.encryptedPrivateKeyFromPem=function(e){var t=s.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type)throw{message:'Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".',headerType:t.type};if(t.procType&&"ENCRYPTED"===t.procType.type)throw{message:"Could not convert encrypted private key from PEM; PEM is encrypted."};return u.fromDer(t.body)},c.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var a=c.wrapRsaPrivateKey(c.privateKeyToAsn1(e));return a=c.encryptPrivateKeyInfo(a,t,r),c.encryptedPrivateKeyToPem(a)}var o,l,p,f;switch(r.algorithm){case"aes128":o="AES-128-CBC",p=16,l=i.random.getBytesSync(16),f=i.aes.createEncryptionCipher;break;case"aes192":o="AES-192-CBC",p=24,l=i.random.getBytesSync(16),f=i.aes.createEncryptionCipher;break;case"aes256":o="AES-256-CBC",p=32,l=i.random.getBytesSync(16),f=i.aes.createEncryptionCipher;break;case"3des":o="DES-EDE3-CBC",p=24,l=i.random.getBytesSync(8),f=i.des.createEncryptionCipher;break;case"des":o="DES-CBC",p=8,l=i.random.getBytesSync(8),f=i.des.createEncryptionCipher;break;default:throw{message:'Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".',algorithm:r.algorithm}}var h=f(n(t,l.substr(0,8),p));h.start(l),h.update(u.toDer(c.privateKeyToAsn1(e))),h.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:o,parameters:s.util.bytesToHex(l).toUpperCase()},body:h.output.getBytes()};return s.pem.encode(d)},c.decryptRsaPrivateKey=function(e,t){var r=null,a=s.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==a.type&&"PRIVATE KEY"!==a.type&&"RSA PRIVATE KEY"!==a.type)throw{message:'Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".',headerType:a.type};if(a.procType&&"ENCRYPTED"===a.procType.type){var o,l;switch(a.dekInfo.algorithm){case"DES-CBC":o=8,l=i.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,l=i.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,l=i.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,l=i.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,l=i.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,l=function(e){return i.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":o=8,l=function(e){return i.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":o=16,l=function(e){return i.rc2.createDecryptionCipher(e,128)};break;default:throw{message:'Could not decrypt private key; unsupported encryption algorithm "'+a.dekInfo.algorithm+'".',algorithm:a.dekInfo.algorithm}}var p=s.util.hexToBytes(a.dekInfo.parameters),f=l(n(t,p.substr(0,8),o));if(f.start(p),f.update(s.util.createBuffer(a.body)),!f.finish())return r;r=f.output.getBytes()}else r=a.body;return null!==(r="ENCRYPTED PRIVATE KEY"===a.type?c.decryptPrivateKeyInfo(u.fromDer(r),t):u.fromDer(r))&&(r=c.privateKeyFromAsn1(r)),r},c.pbe.generatePkcs12Key=function(e,t,r,n,a,o){var u,c;void 0!==o&&null!==o||(o=i.md.sha1.create());var l=o.digestLength,p=o.blockLength,f=new s.util.ByteBuffer,h=new s.util.ByteBuffer;for(c=0;c<e.length;c++)h.putInt16(e.charCodeAt(c));h.putInt16(0);var d=h.length(),y=t.length(),g=new s.util.ByteBuffer;g.fillWithByte(r,p);var v=p*Math.ceil(y/p),m=new s.util.ByteBuffer;for(c=0;c<v;c++)m.putByte(t.at(c%y));var C=p*Math.ceil(d/p),E=new s.util.ByteBuffer;for(c=0;c<C;c++)E.putByte(h.at(c%d));var S=m;S.putBuffer(E);for(var F=Math.ceil(a/l),T=1;T<=F;T++){var I=new s.util.ByteBuffer;I.putBytes(g.bytes()),I.putBytes(S.bytes());for(var A=0;A<n;A++)o.start(),o.update(I.getBytes()),I=o.digest();var b=new s.util.ByteBuffer;for(c=0;c<p;c++)b.putByte(I.at(c%l));var B=Math.ceil(y/p)+Math.ceil(d/p),R=new s.util.ByteBuffer;for(u=0;u<B;u++){var N=new s.util.ByteBuffer(S.getBytes(p)),w=511;for(c=b.length()-1;c>=0;c--)w>>=8,w+=b.at(c)+N.at(c),N.setAt(c,255&w);R.putBuffer(N)}S=R,f.putBuffer(I)}return f.truncate(f.length()-a),f},c.pbe.getCipher=function(e,t,r){switch(e){case c.oids.pkcs5PBES2:return c.pbe.getCipherForPBES2(e,t,r);case c.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case c.oids["pbewithSHAAnd40BitRC2-CBC"]:return c.pbe.getCipherForPKCS12PBE(e,t,r);default:throw{message:"Cannot read encrypted PBE data block. Unsupported OID.",oid:e,supportedOids:["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"]}}},c.pbe.getCipherForPBES2=function(e,t,r){var n={},a=[];if(!u.validate(t,f,n,a))throw{message:"Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.",errors:a};if((e=u.derToOid(n.kdfOid))!==c.oids.pkcs5PBKDF2)throw{message:"Cannot read encrypted private key. Unsupported key derivation function OID.",oid:e,supportedOids:["pkcs5PBKDF2"]};if((e=u.derToOid(n.encOid))!==c.oids["aes128-CBC"]&&e!==c.oids["aes192-CBC"]&&e!==c.oids["aes256-CBC"]&&e!==c.oids["aria128-CBC"]&&e!==c.oids["aria192-CBC"]&&e!==c.oids["aria256-CBC"]&&e!==c.oids["des-EDE3-CBC"]&&e!==c.oids.desCBC)throw{message:"Cannot read encrypted private key. Unsupported encryption scheme OID.",oid:e,supportedOids:["aes128-CBC","aes192-CBC","aes256-CBC","aria128-CBC","aria192-CBC","aria256-CBC","des-EDE3-CBC","desCBC"]};var o,l,p=n.kdfSalt,h=s.util.createBuffer(n.kdfIterationCount);switch(h=h.getInt(h.length()<<3),c.oids[e]){case"aes128-CBC":o=16,l=i.aes.createDecryptionCipher;break;case"aes192-CBC":o=24,l=i.aes.createDecryptionCipher;break;case"aes256-CBC":o=32,l=i.aes.createDecryptionCipher;break;case"aria128-CBC":o=16,l=i.aria.createDecryptionCipher;break;case"aria192-CBC":o=24,l=i.aria.createDecryptionCipher;break;case"aria256-CBC":o=32,l=i.aria.createDecryptionCipher;break;case"des-EDE3-CBC":o=24,l=i.des.createDecryptionCipher;break;case"desCBC":o=8,l=i.des.createDecryptionCipher}var d=s.pkcs5.pbkdf2(r,p,h,o),y=n.encIv,g=l(d);return g.start(y),g},c.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},a=[];if(!u.validate(t,h,n,a))throw{message:"Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.",errors:a};var o,l,p,f=s.util.createBuffer(n.salt),d=s.util.createBuffer(n.iterations);switch(d=d.getInt(d.length()<<3),e){case c.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:o=24,l=8,p=i.des.startDecrypting;break;case c.oids["pbewithSHAAnd40BitRC2-CBC"]:o=5,l=8,p=function(e,t){var r=i.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:throw{message:"Cannot read PKCS #12 PBE data block. Unsupported OID.",oid:e}}return p(c.pbe.generatePkcs12Key(r,f,1,d,o),c.pbe.generatePkcs12Key(r,f,2,d,l))},e.exports=s.pbe},function(e,t,r){var n=r(39),a=n.pkcs5=n.pkcs5||{};n.pbkdf2=a.pbkdf2=function(e,t,r,a,i){void 0!==i&&null!==i||(i=ytcrypto.md.sha1.create());var s=i.digestLength;if(a>4294967295*s)throw{message:"Derived key is too long."};var o=Math.ceil(a/s),u=a-(o-1)*s,c=ytcrypto.hmac.create();c.start(i,e);for(var l,p,f,h="",d=1;d<=o;++d){c.start(null,null),c.update(t),c.update(n.util.int32ToBytes(d)),l=f=c.digest().getBytes();for(var y=2;y<=r;++y)c.start(null,null),c.update(f),p=c.digest().getBytes(),l=n.util.xorBytes(l,p,s),f=p;h+=d<o?l:l.substr(0,u)}return h},e.exports=n.pbkdf2},function(e,t,r){function n(e,t,r,n){for(var a=[],i=0;i<e.length;i++)for(var s=0;s<e[i].safeBags.length;s++){var o=e[i].safeBags[s];void 0!==n&&o.type!==n||void 0!==o.attributes[t]&&o.attributes[t].indexOf(r)>=0&&a.push(o)}return a}function a(e,t,r,n){if((t=c.fromDer(t,r)).tagClass!==c.Class.UNIVERSAL||t.type!==c.Type.SEQUENCE||!0!==t.constructed)throw{message:"PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo"};for(var a=0;a<t.value.length;a++){var o=t.value[a],u={},p=[];if(!c.validate(o,f,u,p))throw{message:"Cannot read ContentInfo.",errors:p};var h={encrypted:!1},d=null,y=u.content.value[0];switch(c.derToOid(u.contentType)){case l.oids.data:if(y.tagClass!==c.Class.UNIVERSAL||y.type!==c.Type.OCTETSTRING)throw{message:"PKCS#12 SafeContents Data is not an OCTET STRING."};d=y.value;break;case l.oids.encryptedData:if(void 0===n)throw{message:"Found PKCS#12 Encrypted SafeContents Data but no password available."};d=i(y,n),h.encrypted=!0;break;default:throw{message:"Unsupported PKCS#12 contentType.",contentType:c.derToOid(u.contentType)}}h.safeBags=s(d,r,n),e.safeContents.push(h)}}function i(e,t){var r={},n=[];if(!c.validate(e,u.pkcs7.asn1.encryptedDataValidator,r,n))throw{message:"Cannot read EncryptedContentInfo. ",errors:n};var a=c.derToOid(r.contentType);if(a!==l.oids.data)throw{message:"PKCS#12 EncryptedContentInfo ContentType is not Data.",oid:a};a=c.derToOid(r.encAlgorithm);var i=l.pbe.getCipher(a,r.encParameter,t),s=u.util.createBuffer(r.encryptedContent);if(i.update(s),!i.finish())throw{message:"Failed to decrypt PKCS#12 SafeContents."};return i.output.getBytes()}function s(e,t,r){if((e=c.fromDer(e,t)).tagClass!==c.Class.UNIVERSAL||e.type!==c.Type.SEQUENCE||!0!==e.constructed)throw{message:"PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag"};for(var n=[],a=0;a<e.value.length;a++){var i=e.value[a],s={},u=[];if(!c.validate(i,d,s,u))throw{message:"Cannot read SafeBag.",errors:u};var p={type:c.derToOid(s.bagId),attributes:o(s.bagAttributes)};n.push(p);var f,h,y=s.bagValue.value[0];switch(p.type){case l.oids.pkcs8ShroudedKeyBag:if(void 0===r)throw{message:"Found PKCS#8 ShroudedKeyBag but no password available."};if(null===(y=l.decryptPrivateKeyInfo(y,r)))throw{message:"Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?"};case l.oids.keyBag:p.key=l.privateKeyFromAsn1(y);continue;case l.oids.certBag:f=g,h=function(){if(c.derToOid(s.certId)!==l.oids.x509Certificate)throw{message:"Unsupported certificate type, only X.509 supported.",oid:c.derToOid(s.certId)};p.cert=l.certificateFromAsn1(c.fromDer(s.cert,t),!0)};break;default:throw{message:"Unsupported PKCS#12 SafeBag type.",oid:p.type}}if(void 0!==f&&!c.validate(y,f,s,u))throw{message:"Cannot read PKCS#12 "+f.name,errors:u};h()}return n}function o(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},a=[];if(!c.validate(e[r],y,n,a))throw{message:"Cannot read PKCS#12 BagAttribute.",errors:a};var i=c.derToOid(n.oid);if(void 0!==l.oids[i]){t[l.oids[i]]=[];for(var s=0;s<n.values.length;++s)t[l.oids[i]].push(n.values[s].value)}}return t}var u=r(39),c=u._asn1,l=u.pki,p=u.pkcs12=u.pkcs12||{},f={name:"ContentInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},h={name:"PFX",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"version"},f,{name:"PFX.macData",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:c.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},d={name:"SafeBag",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},y={name:"Attribute",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0,capture:"values"}]},g={name:"CertBag",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:c.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:c.Class.UNIVERSAL,type:c.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};p.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var i={},s=[];if(!c.validate(e,h,i,s))throw{message:"Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.",errors:s};var o={version:i.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=u.util.hexToBytes(e.localKeyIdHex)),void 0!==t&&(r.localKeyId=n(o.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=n(o.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return n(o.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return n(o.safeContents,"localKeyId",e,t)}};if(3!==i.version.charCodeAt(0))throw{message:"PKCS#12 PFX of version other than 3 not supported.",version:i.version.charCodeAt(0)};if(c.derToOid(i.contentType)!==l.oids.data)throw{message:"Only PKCS#12 PFX in password integrity mode supported.",oid:c.derToOid(i.contentType)};var f=i.content.value[0];if(f.tagClass!==c.Class.UNIVERSAL||f.type!==c.Type.OCTETSTRING)throw{message:"PKCS#12 authSafe content data is not an OCTET STRING."};if(i.mac){var d=null,y=0,g=c.derToOid(i.macAlgorithm);switch(g){case l.oids.sha1:d=ytcrypto.md.sha1.create(),y=20;break;case l.oids.sha256:d=ytcrypto.md.sha256.create(),y=32;break;case l.oids.sha384:d=ytcrypto.md.sha384.create(),y=48;break;case l.oids.sha512:d=ytcrypto.md.sha512.create(),y=64;break;case l.oids.md5:d=ytcrypto.md.md5.create(),y=16}if(null===d)throw{message:"PKCS#12 uses unsupported MAC algorithm: "+g};var v=new u.util.ByteBuffer(i.macSalt),m="macIterations"in i?parseInt(u.util.bytesToHex(i.macIterations),16):1,C=p.generateKey(r||"",v,3,m,y,d),E=u.hmac.create();if(E.start(d,C),E.update(f.value),E.getMac().getBytes()!==i.macDigest)throw{message:"PKCS#12 MAC could not be verified. Invalid password?"}}return a(o,f.value,t,r),o},p.toPkcs12Asn1=function(e,t,r,n){(n=n||{}).saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var a,i=n.localKeyId;if(null!==i)i=u.util.hexToBytes(i);else if(n.generateLocalKeyId)if(t){var s=u.util.isArray(t)?t[0]:t;"string"==typeof s&&(s=l.certificateFromPem(s)),(B=ytcrypto.md.sha1.create()).update(c.toDer(l.certificateToAsn1(s)).getBytes()),i=B.digest().getBytes()}else i=ytcrypto.random.getBytes(20);var o=[];null!==i&&o.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.localKeyId).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&o.push(c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.friendlyName).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.BMPSTRING,!1,n.friendlyName)])])),o.length>0&&(a=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,o));var f=[],h=[];null!==t&&(h=u.util.isArray(t)?t:[t]);for(var d=[],y=0;y<h.length;++y){"string"==typeof(t=h[y])&&(t=l.certificateFromPem(t));var g=0===y?a:void 0,v=l.certificateToAsn1(t),m=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.certBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.x509Certificate).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(v).getBytes())])])]),g]);d.push(m)}if(d.length>0){var C=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,d),E=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(C).getBytes())])]);f.push(E)}var S=null;if(null!==e){var F=l.wrapRsaPrivateKey(l.privateKeyToAsn1(e));S=null===r?c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.keyBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[F]),a]):c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.pkcs8ShroudedKeyBag).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[l.encryptPrivateKeyInfo(F,r,n)]),a]);var T=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[S]),I=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(T).getBytes())])]);f.push(I)}var A,b=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,f);if(n.useMac){var B=ytcrypto.md.sha1.create(),R=new u.util.ByteBuffer(ytcrypto.random.getBytes(n.saltSize)),N=n.count,w=(e=p.generateKey(r||"",R,3,N,20),u.hmac.create());w.start(B,e),w.update(c.toDer(b).getBytes());var P=w.getMac();A=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.sha1).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,P.getBytes())]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,R.getBytes()),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(N).getBytes())])}return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(3).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l.oids.data).getBytes()),c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(b).getBytes())])]),A])},p.generateKey=u.pbe.generatePkcs12Key,e.exports=u.p12},function(e,t,r){var n=r(39),a=function(){this.exception=!1,this.lockQueue=!1,this.jobs=[],this.results=[],this.interval=null,this.failCallback=null};a.prototype.add=function(e){if("function"!=typeof e)throw new n.error("job must be function type");if(this.lockQueue)throw"this JobPromise was already started.";this.jobs.push(e)},a.prototype.then=function(e){var t=this;if(this.lockQueue=!0,!this.exception&&null==this.interval){var r=!1;return this.interval=setInterval(function(){var n;if(!r){if(0==t.jobs.length)return e(t.results),void clearInterval(t.interval);r=!0,n=t.jobs.shift();try{n(function(e){t.results.push(e),r=!1})}catch(e){clearInterval(t.interval),t.exception=!0,t.failCallback&&t.failCallback(e)}}},50),this}},a.prototype.fail=function(e){if(null!=this.failCallback)throw new n.error("fail callback has been already set up");return this.failCallback=e,this};e.exports={JobPromise:a,AsyncForEach:function(e,t){var r=new a;return e.forEach(function(e,n){r.add(function(r){t(r,e,n)})}),r}}},function(e,t,r){var n=r(39),a=n._asn1,i=n.pkcs7asn1=n.pkcs7asn1||{};n.pkcs7=n.pkcs7||{},n.pkcs7.asn1=i;var s={name:"ContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=s;var o={name:"EncryptedContentInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},i.encryptedDataValidator={name:"EncryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var u={name:"SignerInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1},{name:"SignerInfo.IssuerAndSerialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0},{name:"SignerInfo.DigestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0},{name:"SignerInfo.AuthenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.DigestEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0},{name:"SignerInfo.EncryptedDigest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.UnauthenticatedAttributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0}]};i.signedDataValidator={name:"SignedData",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:a.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:a.Class.UNIVERSAL,type:a.Type.SET,capture:"signerInfos",optional:!0,value:[u]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:a.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]},e.exports=n.pkcs7},function(e,t,r){var n=r(39),a=(n._asn1,n.crypto,n.pkcs7,n.oids,{});n.cms=a,a.createSignedData=r(59),a.createEnvelopedData=r(60),e.exports=n.cms},function(e,t,r){function n(e,t,r,n){var s,o,u,c,l,p=!!t.digestInfo;if(u=t.content||t.digestInfo,l=a.oids[e.digestAlgorithm.algorithm],s=ytcrypto.md.algorithms[l],void 0!==u?a.consoleLog:u=t.content,e.signedAttributes){if(p){if(i.fromDer(u).value[1].value!==e.signedAttributes.messageDigest[0])return a.consoleLog,n(!1),!1}else if((s=s.create()).update(u),s.digest().toHex()!==a.util.bytesToHex(e.signedAttributes.messageDigest[0]))return a.consoleLog,n(!1),!1;c=i.toDer(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,t.rawCapture.authenticatedAttributes)).getBytes()}else c=u;if(t.certificates.forEach(function(t){var n=!1;if(r.hasOwnProperty("useSubjectAndSerialNumber")&&r.useSubjectAndSerialNumber&&(n=!0),n){if(e.issuerAndSerial.issuer.hash!==t._cert.subject.hash)return!0}else if(e.issuerAndSerial.issuer.hash!==t._cert.issuer.hash)return!0;return o=t.publicKey,!1}),!o)throw"not found matched publickey";var f={};switch(e.signatureAlgorithm.algorithm){case a.oids.rsaEncryption:f.name="RSASSA-PKCS1-V1_5";break;case a.oids.kcdsa:f.name="KCDSA";break;default:throw"not supported signatureAlgorithm "+e.signatureAlgorithm.algorithm}switch(f.hash={},l){case"sha256":f.hash.name="SHA-256";break;case"sha224":f.hash.name="SHA-224";break;case"sha1":f.hash.name="SHA-1";break;default:throw"not supported digestAlgorithm "+l}try{e.signedAttributes||(f.inputTypeDigestInfo=p),o.verify(f,e.signature,c,n)}catch(e){return n(new a.error(e)),!1}return!0}var a=r(39),i=a._asn1,s=(a.crypto,a.pkcs7),o=a.oids;e.exports=function(){var e=null;return e={type:a.pki.oids.signedData,version:1,certificates:[],crls:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t,r,n){var u=this;e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],function(t,r){if(e.rawCapture={},void 0===t.value[0])throw"message does not signedData";if(t.value[0].type==i.Type.OID&&(t=t.value[1].value[0]),!i.validate(t,r,e.rawCapture,void 0))throw"message does not signedData";e.rawCapture.signerInfos.forEach(function(t){var r,n,s,u,c=0;r={},c=1,s=ytcrypto.sha1.create(),r.issuerAndSerial={},r.issuerAndSerial.issuer={},r.issuerAndSerial.issuer.attributes=a.pki.RDNAttributesAsArray(t.value[c].value[0],s),r.issuerAndSerial.issuer.hash=s.digest().toHex(),r.issuerAndSerial.serialNumber=t.value[c].value[1].value,c++,n=a.pki.AlgorithmIdentifier.toObject(t.value[c]),r.digestAlgorithm=n,t.value[c+1].tagClass==i.Class.CONTEXT_SPECIFIC&&(c++,u=t.value[c].value,r.signedAttributes={},u.forEach(function(e){var t,n=[];switch(t=i.derToOid(e.value[0].value),o[t]){case"contentType":case"messageDigest":n.push(e.value[1].value[0].value),r.signedAttributes[o[t]]=n;break;case"signingTime":n.push(i.utcTimeToDate(e.value[1].value[0].value)),r.signedAttributes[o[t]]=n;break;default:throw"not supported attribute:"+t}})),c++;var l=t.value[c];l=a.pki.AlgorithmIdentifier.toObject(l),r.signatureAlgorithm=l,c++;var p=t.value[c];r.signature=p.value;var f=[];if(c+1<t.value.length){c++;var h=t.value[c];h.tagClass==a._asn1.Class.CONTEXT_SPECIFIC&&1==h.type&&h.value.forEach(function(e){var t=a._asn1.derToOid(e.value[0].value);f.push({oid:t,values:[e.value[1].value[0].value]})})}r.unsignedAttributes=f,e.signerInfos||(e.signerInfos=[]),e.signerInfos.push(r)}),e.rawCapture.content&&e.rawCapture.content.value.length>0&&(e.content=e.rawCapture.content.value[0].value)}(t.getAsn1(),s.asn1.signedDataValidator);for(var c=e.rawCapture.certificates.value,l=0;l<c.length;++l){var p=0;a.pki.Certificate.fromAsn1(a.asn1.fromRaw(c[l]),function(t){if(t instanceof a.error)throw l=c.length,new a.error("failed to parse certficate in signed data");e.certificates.push(t),++p==c.length&&r(u)},n)}},toAsn1:function(t){e.contentInfo||e.sign();for(var r=[],n=0;n<e.certificates.length;++n)r.push(a.pki.certificateToAsn1(e.certificates[0]._cert));var s;return s=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo,i.create(i.Class.CONTEXT_SPECIFIC,0,!0,r),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)]),void 0!==t&&t?a.asn1.fromRaw(s):a.asn1.fromRaw(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[s])]))},sign:function(t,r,n){void 0===n&&(n={useSubjectAndSerialNumber:!1,unWrapContentInfo:!1});var s,u,c,l,p,f,h,d,y,g=t.useSubjectAndSerialNumber||n.useSubjectAndSerialNumber||!1;if(t.unWrapContentInfo||n.unWrapContentInfo,e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.pki.oids.data).getBytes())]),"content"in e){var v=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);e.contentInfo.value.push(v),v.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.content))}if(c=void 0===t.hash?"sha256":t.hash.replace("-","").toLowerCase(),s=ytcrypto.md.algorithms[c].create(),u=a.pki.AlgorithmIdentifier.toAsn1({algorithm:a.oids[c],parameters:null}),e.digestAlgorithmIdentifiers.push(u),!("certificate"in t))throw"no cert";e.addCertificate(t.certificate),l=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[a.pki.distinguishedNameToAsn1({attributes:g?t.certificate._cert.subject.attributes:t.certificate._cert.issuer.attributes}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,a.util.hexToBytes(t.certificate._cert.serialNumber))]),"signedAttributes"in t?(p=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),t.signedAttributes.forEach(function(t){var r,n;if(d=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),n=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),r=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o[t]).getBytes()),"contentType"===t)n.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.data).getBytes()));else if("messageDigest"===t)if(e.digestInfo){var a=i.fromDer(e.digestInfo);n.value.push(a.value[1])}else e.isDigestValue||(s.start(),s.update(e.content)),n.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,s.digest().getBytes()));else"signingTime"===t&&n.value.push(i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(new Date)));d.value.push(r),d.value.push(n),p.value.push(d)}),h=i.toDer(p).getBytes()):h=e.content||e.digestInfo,f={algorithm:a.oids.rsaEncryption,parameters:null},(y={}).name="RSASSA-PKCS1-v1_5",t.key.raw.oid==o.kcdsa&&(y.name="KCDSA",f.algorithm=o.kcdsa,f.parameters=a._asn1.fromDer(t.certificate.publicKeyParameter)),y.hash={},void 0===t.hash?y.hash.name="SHA-256":y.hash.name=t.hash,p||e.digestInfo&&(y.inputTypeDigestInfo=!0),t.key.sign(y,h,function(t){var n=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(1).getBytes()),l,u]);void 0!==p&&(p.tagClass=i.Class.CONTEXT_SPECIFIC,p.type=0,n.value.push(p)),n.value.push(a.pki.AlgorithmIdentifier.toAsn1(f)),n.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t)),e.signerInfos.push(n),r("")})},verify:function(t,r){function i(t){if(s.push(!(t instanceof a.error)&&t),e.signerInfos.length==s.length){for(var n=0;n<s.length;++n)if(!1===s[n])return void r(!1);r(!0)}}var s=[];e.signerInfos.forEach(function(r,a){return n(r,e,t,i)})},addCertificate:function(t){"string"==typeof t&&(t=a.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw"PKCS#7 CRL support not yet implemented."},setContent:function(t,r){e.content=t,!0===r&&(e.isDigestValue=!0)},setDigestInfo:function(t){e.digestInfo=t},getContent:function(){return e.content}}}},function(e,t,r){var n=r(39),a=n._asn1,i=(n.crypto,n.pkcs7),s=n.oids,o=r(56).AsyncForEach;e.exports=function(){function e(e){var t={},r=[];if(!a.validate(e,i.asn1.recipientInfoValidator,t,r)){var s=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw s.errors=r,s}return{version:t.version.charCodeAt(0),issuer:n.pki.RDNAttributesAsArray(t.issuer),serialNumber:n.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:a.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function t(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[n.pki.distinguishedNameToAsn1({attributes:e.issuer}),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,n.util.hexToBytes(e.serialNumber))]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.encryptedContent.algorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.encryptedContent.content)])}function r(t){for(var r=[],n=0;n<t.length;++n)r.push(e(t[n]));return r}function u(e){for(var r=[],n=0;n<e.length;++n)r.push(t(e[n]));return r}var c=null;return c={type:n.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:n.pki.oids["aes256-CBC"]},fromAsn1:function(e){var t=e._asn;t.value&&t.value.length>=2&&t.value[0].type==a.Type.OID&&t.value[0].value==a.oidToDer(s.envelopedData).getBytes()&&t.value[1].value&&t.value[1].value.length>0&&(t=t.value[1].value[0]);var o=function(e,t,r){var i={};if(!a.validate(t,r,i,[])){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}if(a.derToOid(i.contentType)!==n.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var o="";if(n.util.isArray(i.encryptedContent))for(var u=0;u<i.encryptedContent.length;++u){if(i.encryptedContent[u].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=i.encryptedContent[u].value}else o=i.encryptedContent;e.encryptedContent={algorithm:a.derToOid(i.encAlgorithm),parameter:n.util.createBuffer(i.encParameter.value),content:n.util.createBuffer(o)}}if(i.content){if(o="",n.util.isArray(i.content))for(u=0;u<i.content.length;++u){if(i.content[u].type!==a.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=i.content[u].value}else o=i.content;e.content=n.util.createBuffer(o)}return e.version=i.version.charCodeAt(0),e.rawCapture=i,i}(c,t,i.asn1.envelopedDataValidator);c.recipients=r(o.recipientInfos.value)},toAsn1:function(e){var t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(c.version).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,u(c.recipients)),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,function(e){return[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(n.pki.oids.data).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.algorithm).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.parameter.data)]),a.create(a.Class.CONTEXT_SPECIFIC,0,!1,e.content.data)]}(c.encryptedContent))]);return void 0!==e&&e?n.asn1.fromRaw(t):n.asn1.fromRaw(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.type).getBytes()),a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[t])]))},getRecipients:function(){for(var e=[],t=0;t<c.recipients.length;++t){var r={},a=c.recipients[t];a.issuer,r.issuer=n.pki.DNToString({attributes:a.issuer}),r.serialNumber=a.serialNumber,e.push(r)}return e},findRecipient:function(e){if(!(e instanceof n.pki.Certificate))throw"invalid input";for(var t=(e=e._cert).issuer.attributes,r=0;r<c.recipients.length;++r){var a=c.recipients[r],i=a.issuer;if(a.serialNumber===e.serialNumber&&i.length===t.length){for(var s=!0,o=0;o<t.length;++o)if(i[o].type!==t[o].type||i[o].value!==t[o].value){s=!1;break}if(s)return a}}return null},decrypt:function(e,t,r){function a(e){if(e instanceof ytcrypto.error)r(e);else{c.encryptedContent.key=n.util.createBuffer(e);try{(function(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case n.pki.oids["aes128-CBC"]:case n.pki.oids["aes192-CBC"]:case n.pki.oids["aes256-CBC"]:t=ytcrypto.aes.createDecryptionCipher(e.encryptedContent.key.bytes());break;case n.pki.oids.desCBC:case n.pki.oids["des-EDE3-CBC"]:t=ytcrypto.des.createDecryptionCipher(e.encryptedContent.key.bytes());break;case n.pki.oids.seedCBC:t=ytcrypto.seed.createDecryptionCipher(e.encryptedContent.key.bytes(),"CBC");break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}})(c),r(!0)}catch(e){r(!1)}}}if(void 0===t||void 0===r)throw"invalid input";if(void 0===e&&(e=this.recipients[0]),!0===t.webcrypto)throw"webcrypto key is not supported";switch(e.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:case n.pki.oids.desCBC:t.decrypt(e.encryptedContent.content,void 0,a);break;case n.pki.oids["RSAES-OAEP"]:t.decrypt(e.encryptedContent.content,{name:"RSA-OAEP"},a);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}},addRecipient:function(e,t){if(!(e instanceof n.pki.Certificate))throw"invalid input";if(t=t||{algorithm:n.pki.oids.rsaEncryption},!0===e.publicKey.webcrypto&&0==e.publicKey.raw.extractable)throw"webcrypto key must be EXTRACTABLE";c.recipients.push({version:0,issuer:e._cert.issuer.attributes,serialNumber:e._cert.serialNumber,encryptedContent:{algorithm:t.algorithm,key:e.publicKey}})},encrypt:function(e,t,r){if(void 0===r)throw"invalid input";if(void 0===c.encryptedContent.content){var a,i,s;switch(t=t||c.encryptedContent.algorithm,e=e||c.encryptedContent.key,t){case n.pki.oids.seedCBC:a=16,i=16,s=ytcrypto.seed.createEncryptionCipher;break;case n.pki.oids["aes128-CBC"]:a=16,i=16,s=ytcrypto.aes.createEncryptionCipher;break;case n.pki.oids["aes192-CBC"]:a=24,i=16,s=ytcrypto.aes.createEncryptionCipher;break;case n.pki.oids["aes256-CBC"]:a=32,i=16,s=ytcrypto.aes.createEncryptionCipher;break;case n.pki.oids["des-EDE3-CBC"]:a=24,i=8,s=ytcrypto.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+t)}if(void 0===e)e=n.util.createBuffer(ytcrypto.random.getBytes(a));else if("string"==typeof e&&(e=n.util.createBuffer(e)),e.length()!=a)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+a+".");c.encryptedContent.algorithm=t,c.encryptedContent.key=e,c.encryptedContent.parameter=n.util.createBuffer(ytcrypto.random.getBytes(i));var u=s(e.bytes(),"CBC");if(u.start(c.encryptedContent.parameter.copy()),u.update(c.content),!u.finish())throw new Error("Symmetric encryption failed.");c.encryptedContent.content=u.output}o(c.recipients,function(e,t,r){function a(t){i.encryptedContent.content=t,e()}var i=t;if(void 0===i.encryptedContent.content)switch(i.encryptedContent.algorithm){case n.pki.oids.rsaEncryption:i.encryptedContent.key.encrypt(c.encryptedContent.key.data,void 0,a);break;case n.pki.oids["RSAES-OAEP"]:i.encryptedContent.key.encrypt(c.encryptedContent.key.data,{name:"RSA-OAEP"},a);break;default:throw new Error("Unsupported asymmetric cipher, OID "+i.encryptedContent.algorithm)}else e()}).then(function(e){r(!0)})},setContent:function(e){e instanceof n.util.ByteBuffer||(e=n.util.createBuffer(e)),c.content=e}}}},function(e,t,r){var n=r(39),a=ytcrypto.asn1,i=n.oids,s={};n.pkcs8=s;var o={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"},{name:"AlgorithmIdentifier.parameter",tagClass:a.Class.UNIVERSAL,type:a.Type.ANY,capture:"keyParameter",optional:!0}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"},{name:"PrivateKeyInfo.attributes",tagClass:a.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,captureAsn1:"attributes",optional:!0}]},u={name:"EncryptedPrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]};s.PrivateKeyInfo=function(e){var t,r,s,u,c,p=this,f=e,h={};if(e instanceof n.asn1||(e=new n.asn1(e)),"pkcs5"in n&&(t=n.pkcs5),e.validate(o,h,[]))r=new ytcrypto.crypto.key(ytcrypto.pki.privateKeyFromAsn1(ytcrypto.asn1.fromDer(h.privateKey),ytcrypto.asn1.derToOid(h.privateKeyOid),h.keyParameter),"private");else try{r=new ytcrypto.crypto.key(ytcrypto.pki.privateKeyFromAsn1(e.getAsn1()),"private"),h.privateKeyOid=i.rsaEncryption}catch(e){throw"input may not PrivateKeyInfo:"+e}(this.privateKey=r,this.privateKeyOID=h.privateKeyOid,this.encrypt=function(e,r,n,a){var i;if(void 0===t)throw"pkcs5 module does not loaded.";return i=t.encrypt(f.toBytes(),e,r,n,a),l(i)},this.attributes={},h.attributes)&&h.attributes.value.forEach(function(e){switch(s=a.derToOid(e.value[0].value),u=e.value[1].value,s){case i.randomNum:++(c=n.util.createBuffer(u[0].value)).read,c=c.getBytes(),p.attributes.randomNum=c}});this.envelopeVid=function(e,t){var r,i,s,o,u,c,l,f,h,d,y;if(2!==arguments.length)throw"envelopeVid: invalid arguments";if(t instanceof n.pki.Certificate)d=t;else try{d=n.pki.Certificate.fromPem(t)}catch(e){throw"Invalid Server Certificate"}o=p.attributes.randomNum,r="seed",i=ytcrypto.crypto.random.getBytes(16);var g=n.util.createBuffer();for(y=0;y<16;y++)g.putByte(0);s=g.getBytes(),u=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.PRINTABLESTRING,!1,e),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+o)]);var v=n.asn1.fromDer(a.toDer(u));return(c=ytcrypto.crypto.blockCipher.createEncryptionCipher(r,i,"CBC")).start(s),c.update(v.toBytes()),c.finish(),l=c.output.getBytes(),f=d.publicKey.raw.encrypt(i,"RSAES-PKCS1-V1_5"),(h=n.util.createBuffer()).putBytes(f),h.putBytes(l),n.util.bytesToHex(h.getBytes())},this.verifyVid=function(e,t){if(0==this.attributes.hasOwnProperty("randomNum"))throw"no vid random number";var r,a=n.kisa.HashContent.toAsn1({idn:t,randomNum:this.attributes.randomNum}),i=ytcrypto.md[e.hashAlg];if(void 0===i)throw"not supported vid hash algorithm";return a=(a=n._asn1.toDer(a)).getBytes(),(i=i.create()).update(a),r=i.digest().getBytes(),i.start(),i.update(r),(r=i.digest().getBytes())===e.virtualID},this.toAsn1=function(){return f}};var c=function(e){return new s.PrivateKeyInfo(e)};s.EncryptedPrivateKeyInfo=function(e){var t,r,a={};if(!(e instanceof n.asn1))throw"yt.pkcs8: invalid input";if("pkcs5"in n&&(r=n.pkcs5),t=e,!e.validate(u,a,[]))throw"input may not EncryptedPrivateKeyInfo";this.encryptionOID=a.encryptionOid,this.encryptionParameters=a.encryptionParams,this.encryptedData=a.encryptedData,this.decrypt=function(e){var t;if(void 0===r)throw"pkcs5 module does not loaded.";if(null==(t=r.decrypt(e,this.encryptionOID,this.encryptionParameters,this.encryptedData)))throw"bad password or private key";return c(t)},this.toAsn1=function(){return t}};var l=function(e){return new s.EncryptedPrivateKeyInfo(e)};s.createPrivateKeyInfoFromAsn1=function(e){return c(e)},s.createPrivateKeyInfo=function(e,t,r,o){var u,c,l=!1;if("string"!=typeof e)throw"yt.pkcs8: invalid input privateKey:"+e;switch(r){case"KCDSA":u=i.kcdsa,l=!0;break;case"ECDSA":u=i.ecdsa,l=!0,o=a.create(a.Class.UNIVERSAL,a.Type.OID,!1,o);break;default:case"RSA":u=i.rsaEncryption,o=a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")}if(u=a.oidToDer(u).getBytes(),l&&void 0===o)throw"this key need key parameter";if((c=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[])).value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes())),c.value.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,u),o])),c.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e)),t){var p,f=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[]);"randomNum"in t&&(p=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(i.randomNum).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SET,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+t.randomNum)])]),f.value.push(p)),c.value.push(f)}return s.createPrivateKeyInfoFromAsn1(n.asn1.fromRaw(c))},s.createEncryptedPrivateKeyInfoFromAsn1=function(e){return l(e)},e.exports=s},function(e,t,r){var n=r(39);r(54);var a=n._asn1,i=n.pki,s=n.oids,o=n.pkcs5||{},u={name:"PBES2Algorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,onstructed:!0,capture:"kdfIterationCount"}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},c=function(e,t,r,n,i){var s,o,u;o=(s=function(e,t,r){var n,a;(n=ytcrypto.md.sha1.create()).update(e),n.update(t),a=n.digest().getBytes();for(var i=1;i<r;++i)n.start(),n.update(a),a=n.digest().getBytes();return a}(r,t.value[0].value,a.derToInteger(t.value[1].value))).substr(0,16),u=i?"0123456789012345":ytcrypto.md.sha1.create().update(s.substr(16)).digest().getBytes().substr(0,16),u=ytcrypto.util.createBuffer(u);var c=(n?ytcrypto.seed.createEncryptionCipher:ytcrypto.seed.createDecryptionCipher)(o,"CBC");return c.start(u),c},l=function(e,t,r){var s={},o=[];if(!a.validate(t,u,s,o))throw{message:"Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.",errors:o};if((e=a.derToOid(s.kdfOid))!==i.oids.pkcs5PBKDF2)throw{message:"Cannot read encrypted private key. Unsupported key derivation function OID.",oid:e,supportedOids:["pkcs5PBKDF2"]};if((e=a.derToOid(s.encOid))!==i.oids["aes128-CBC"]&&e!==i.oids["aes192-CBC"]&&e!==i.oids["aes256-CBC"]&&e!==i.oids["des-EDE3-CBC"]&&e!==i.oids.desCBC&&e!==i.oids.seedCBC&&e!==i.oids["aria128-CBC"])throw{message:"Cannot read encrypted private key. Unsupported encryption scheme OID.",oid:e,supportedOids:["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC","seedCBC","aria128-CBC"]};var c,l,p=s.kdfSalt,f=n.util.createBuffer(s.kdfIterationCount);switch(f=f.getInt(f.length()<<3),i.oids[e]){case"aes128-CBC":c=16,l=ytcrypto.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,l=ytcrypto.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,l=ytcrypto.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,l=ytcrypto.des.createDecryptionCipher;break;case"desCBC":c=8,l=ytcrypto.des.createDecryptionCipher;break;case"seedCBC":c=16,l=ytcrypto.seed.createDecryptionCipher;break;case"aria128-CBC":c=16,l=ytcrypto.aria.createDecryptionCipher;break;default:throw"please check cipher oid:"+i.oids[e]}var h=n.pkcs5.pbkdf2(r,p,f,c),d=s.encIv,y=l(h);return y.start(d),y},p=function(e,t,r,n){switch(e){case i.oids.pkcs5PBES2:return l(e,t,r);case i.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case i.oids["pbewithSHAAnd40BitRC2-CBC"]:return i.pbe.getCipherForPKCS12PBE(e,t,r);case i.oids.seedCBC:return c(0,t,r,n,!0);case i.oids.seedCBCWithSHA1:return c(0,t,r,n,!1);default:throw{message:"Cannot read encrypted PBE data block. Unsupported OID.",oid:e,supportedOids:["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC","seedCBCWithSHA1"]}}};o.encrypt=function(e,t,r,i,o){void 0===r&&(r="seedCBCWithSHA1"),void 0===i&&(i=ytcrypto.random.getBytes(8)),void 0===o&&(o=2048);var u,c=s[r];u=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,i),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(o).getBytes())]);var l,f=p(c,u,t,!0);return f.update(n.util.createBuffer(e)),f.finish(),(l=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[])).value.push(a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c).getBytes()),u])),l.value.push(a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,f.output.getBytes())),n.asn1.fromRaw(l)},o.decrypt=function(e,t,r,i){var s=null,o=(t=a.derToOid(t),p(t,r,e,!1)),u=n.util.createBuffer(i);return o.update(u),o.finish()&&(s=n.asn1.fromDer(o.output)),s},n.pkcs5=o,e.exports=n.pkcs5},function(e,t,r){function n(e,t,r,n){for(var a=[],i=0;i<e.length;i++)for(var s=0;s<e[i].safeBags.length;s++){var o=e[i].safeBags[s];void 0!==n&&o.type!==n||void 0!==o.attributes[t]&&o.attributes[t].indexOf(r)>=0&&a.push(o)}return a}function a(e,t,r,n){if((t=d.fromDer(t,r)).tagClass!==d.Class.UNIVERSAL||t.type!==d.Type.SEQUENCE||!0!==t.constructed)throw{message:"PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo"};for(var a=0;a<t.value.length;a++){var o=t.value[a],u={},c=[];if(!d.validate(o,v,u,c))throw{message:"Cannot read ContentInfo.",errors:c};var l={encrypted:!1},p=null,f=u.content.value[0];switch(d.derToOid(u.contentType)){case y.oids.data:if(f.tagClass!==d.Class.UNIVERSAL||f.type!==d.Type.OCTETSTRING)throw{message:"PKCS#12 SafeContents Data is not an OCTET STRING."};p=f.value;break;case y.oids.encryptedData:if(void 0===n)continue;p=i(f,n),l.encrypted=!0;break;default:throw{message:"Unsupported PKCS#12 contentType.",contentType:d.derToOid(u.contentType)}}l.safeBags=s(p,r,n),e.safeContents.push(l)}}function i(e,t){var r={},n=[];if(!d.validate(e,h.pkcs7.asn1.encryptedDataValidator,r,n))throw{message:"Cannot read EncryptedContentInfo. ",errors:n};var a=d.derToOid(r.contentType);if(a!==y.oids.data)throw{message:"PKCS#12 EncryptedContentInfo ContentType is not Data.",oid:a};a=d.derToOid(r.encAlgorithm);var i=y.pbe.getCipher(a,r.encParameter,t),s=h.util.createBuffer(r.encryptedContent);if(i.update(s),!i.finish())throw{message:"Failed to decrypt PKCS#12 SafeContents."};return i.output.getBytes()}function s(e,t,r){var n=d.fromDer(e,t);if(n.tagClass!==d.Class.UNIVERSAL||n.type!==d.Type.SEQUENCE||!0!==n.constructed)throw{message:"PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag"};for(var a=[],i=0;i<n.value.length;i++){var s=n.value[i],u={},c=[];if(!d.validate(s,C,u,c))throw{message:"Cannot read SafeBag.",errors:c};var l={type:d.derToOid(u.bagId),attributes:o(u.bagAttributes)};a.push(l);var p,f,g=u.bagValue.value[0];switch(l.type){case y.oids.pkcs8ShroudedKeyBag:if(void 0===r)l.key=g,g=null;else try{l.key=h.pkcs8.createEncryptedPrivateKeyInfoFromAsn1(h.asn1.fromRaw(g)),g=(g=l.key.decrypt(r)).toAsn1()._asn}catch(e){h.consoleLog,h.consoleLog,g=null}if(null===g)continue;delete l.key;case y.oids.keyBag:l.key=h.pkcs8.createPrivateKeyInfoFromAsn1(h.asn1.fromRaw(g));continue;case y.oids.certBag:p=S,f=function(){if(d.derToOid(u.certId)!==y.oids.x509Certificate)throw{message:"Unsupported certificate type, only X.509 supported.",oid:d.derToOid(u.certId)};l.cert=h.pki.Certificate.fromDer(u.cert)};break;default:throw{message:"Unsupported PKCS#12 SafeBag type.",oid:l.type}}if(void 0!==p&&!d.validate(g,p,u,c))throw{message:"Cannot read PKCS#12 "+p.name,errors:c};f()}return a}function o(e){var t={};if(void 0!==e)for(var r=0;r<e.length;++r){var n={},a=[];if(!d.validate(e[r],E,n,a))throw{message:"Cannot read PKCS#12 BagAttribute.",errors:a};var i=d.derToOid(n.oid);if(void 0!==y.oids[i]){t[y.oids[i]]=[];for(var s=0;s<n.values.length;++s)t[y.oids[i]].push(n.values[s].value)}}return t}function u(e,t){var r,n=function(e,t){var r=e.certificate,n=e.localKeyId||t.localKeyId;if(null!==n)n=h.util.hexToBytes(n);else if(t.generateLocalKeyId)if(r){var a=h.util.isArray(r)?r[0]:r;"string"==typeof a?a=y.certificateFromPem(a):a.constructor===h.pki.Certificate&&(a=a._cert);var i=ytcrypto.md.sha1.create();i.update(d.toDer(y.certificateToAsn1(a)).getBytes()),n=i.digest().getBytes()}else n=ytcrypto.random.getBytes(20);return n}(e,t),a=[];if(null!==n&&a.push(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(y.oids.localKeyId).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,n)])])),"friendlyName"in e||!0===t.autoFriendlyName||"friendlyName"in t){var i=e.friendlyName||t.friendlyName;i||!0!==t.autoFriendlyName||(i=e.certificate.subject),a.push(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(y.oids.friendlyName).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SET,!0,[d.create(d.Class.UNIVERSAL,d.Type.BMPSTRING,!1,i)])]))}return a.length>0&&(r=d.create(d.Class.UNIVERSAL,d.Type.SET,!0,a)),r}function c(e,t,r){var n=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(t).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[e])]);return r&&n.value.push(r),n}function l(e){var t=y.certificateToAsn1(e);return d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(y.oids.x509Certificate).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(t).getBytes())])])}function p(e,t,r){var n=e.toAsn1().getAsn1();return null===t?n:y.encryptPrivateKeyInfo(n,t,r)}function f(e,t){var r=this,n=g.pkcs12FromAsn1(e.getAsn1(),t);this.contents={},this.contents.keys=[];var a={},i=[];n.safeContents.forEach(function(e){e.safeBags.forEach(function(e){var t,r,n;switch(e.type){case h.pki.oids.pkcs8ShroudedKeyBag:case h.pki.oids.keyBag:t="key",r=e.key;break;case h.pki.oids.certBag:t="cert",r=e.cert;break;default:throw"not supported safeBag type:"+e.type}var s={};if(s[t]=r,n=e.attributes.localKeyId){if(n=ytcrypto.util.bytesToHex(n[0]),a.hasOwnProperty(n)||(a[n]={},a[n].localKeyId=n),a[n][t])throw"duplicated key:"+t+" is exist";a[n][t]=r}else i.push(s)})});var s=0;for(var o in a)r.contents.keys.push(s),r.contents[s++]=a[o];for(var u in i)r.contents.keys.push(s),r.contents[s++]=i[u]}var h=r(39);r(53);var d=h._asn1,y=h.pki,g={},v={name:"ContentInfo",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:d.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},m={name:"PFX",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,capture:"version"},v,{name:"PFX.macData",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:d.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:d.Class.UNIVERSAL,type:d.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:d.Class.UNIVERSAL,type:d.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:d.Class.UNIVERSAL,type:d.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},C={name:"SafeBag",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:d.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:d.Class.UNIVERSAL,type:d.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},E={name:"Attribute",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:d.Class.UNIVERSAL,type:d.Type.SET,constructed:!0,capture:"values"}]},S={name:"CertBag",tagClass:d.Class.UNIVERSAL,type:d.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:d.Class.UNIVERSAL,type:d.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:d.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:d.Class.UNIVERSAL,type:d.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};g.pkcs12FromAsn1=function(e,t,r){"string"==typeof t?(r=t,t=!0):void 0===t&&(t=!0);var i={},s=[];if(!d.validate(e,m,i,s))throw{message:"Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.",errors:s};var o={version:i.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=h.util.hexToBytes(e.localKeyIdHex)),void 0!==t&&(r.localKeyId=n(o.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=n(o.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return n(o.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return n(o.safeContents,"localKeyId",e,t)}};if(3!==i.version.charCodeAt(0))throw{message:"PKCS#12 PFX of version other than 3 not supported.",version:i.version.charCodeAt(0)};if(d.derToOid(i.contentType)!==y.oids.data)throw{message:"Only PKCS#12 PFX in password integrity mode supported.",oid:d.derToOid(i.contentType)};var u=i.content.value[0];if(u.tagClass!==d.Class.UNIVERSAL||u.type!==d.Type.OCTETSTRING)throw{message:"PKCS#12 authSafe content data is not an OCTET STRING."};if(i.mac&&r){var c=null,l=0,p=d.derToOid(i.macAlgorithm);switch(p){case y.oids.sha1:c=ytcrypto.md.sha1.create(),l=20;break;case y.oids.sha256:c=ytcrypto.md.sha256.create(),l=32;break;case y.oids.sha384:c=ytcrypto.md.sha384.create(),l=48;break;case y.oids.sha512:c=ytcrypto.md.sha512.create(),l=64;break;case y.oids.md5:c=ytcrypto.md.md5.create(),l=16}if(null===c)throw{message:"PKCS#12 uses unsupported MAC algorithm: "+p};var f=new h.util.ByteBuffer(i.macSalt),v="macIterations"in i?parseInt(h.util.bytesToHex(i.macIterations),16):1,C=g.generateKey(r||"",f,3,v,l,c),E=ytcrypto.hmac.create();if(E.start(c,C),E.update(u.value),E.getMac().getBytes()!==i.macDigest)throw{message:"PKCS#12 MAC could not be verified. Invalid password?"}}return a(o,u.value,t,r),o};g.generateKey=function(e,t,r,n,a,i){var s,o;void 0!==i&&null!==i||(i=ytcrypto.md.sha1.create());var u=i.digestLength,c=i.blockLength,l=new h.util.ByteBuffer,p=new h.util.ByteBuffer;for(o=0;o<e.length;o++)p.putInt16(e.charCodeAt(o));p.putInt16(0);var f=p.length(),d=t.length(),y=new h.util.ByteBuffer;y.fillWithByte(r,c);var g=c*Math.ceil(d/c),v=new h.util.ByteBuffer;for(o=0;o<g;o++)v.putByte(t.at(o%d));var m=c*Math.ceil(f/c),C=new h.util.ByteBuffer;for(o=0;o<m;o++)C.putByte(p.at(o%f));var E=v;E.putBuffer(C);for(var S=Math.ceil(a/u),F=1;F<=S;F++){var T=new h.util.ByteBuffer;T.putBytes(y.bytes()),T.putBytes(E.bytes());for(var I=0;I<n;I++)i.start(),i.update(T.getBytes()),T=i.digest();var A=new h.util.ByteBuffer;for(o=0;o<c;o++)A.putByte(T.at(o%u));var b=Math.ceil(d/c)+Math.ceil(f/c),B=new h.util.ByteBuffer;for(s=0;s<b;s++){var R=new h.util.ByteBuffer(E.getBytes(c)),N=511;for(o=A.length()-1;o>=0;o--)N>>=8,N+=A.at(o)+R.at(o),R.setAt(o,255&N);B.putBuffer(R)}E=B,l.putBuffer(T)}return l.truncate(l.length()-a),l};var F={};f.fromAsn1=function(e,t){return new f(e,t)},f.fromString=function(e,t){return f.fromAsn1(h.asn1.fromString(e),t)},f.generateToAsn1=function(e,t,r){var n={};n.saltSize=r.saltSize||8,n.count=r.count||2048,n.algorithm=r.algorithm||r.encAlgorithm||"aes128",n.autoFriendlyName=r.autoFriendlyName||!1,"friendlyName"in r&&(n.friendlyName=r.friendlyName),"useMac"in r||(n.useMac=!0),"localKeyId"in r||(n.localKeyId=null),"generateLocalKeyId"in r||(n.generateLocalKeyId=!0),e=h.util.isArray(e)?e:[e];for(var a=[],i=[],s=0;s<e.length;++s){var o=e[s],f=o.certificate,v=o.key;if(!f||!v)throw"invalid certSetList: certificate and key is MANDATORY field";var m=u(o,n);if(E=c(l(f._cert),y.oids.certBag,m),a.push(E),E=c(p(v,t,n),null===t?y.oids.keyBag:y.oids.pkcs8ShroudedKeyBag,m),i.push(E),o.chain&&!(o.chain.length<=0))for(var C=0;C<o.chain.length;++C){var E;h.consoleLog,E=c(l(o.chain[C]._cert),y.oids.certBag),a.push(E)}}var S=[];if(a.length>0){var F=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,a),T=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(y.oids.data).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(F).getBytes())])]);S.push(T)}var I=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,i),A=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(y.oids.data).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(I).getBytes())])]);S.push(A);var b,B=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,S);if(n.useMac){var R=ytcrypto.md.sha1.create(),N=new h.util.ByteBuffer(ytcrypto.random.getBytes(n.saltSize)),w=n.count,P=(v=g.generateKey(t||"",N,3,w,20),ytcrypto.hmac.create());P.start(R,v),P.update(d.toDer(B).getBytes());var L=P.getMac();b=d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(y.oids.sha1).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.NULL,!1,"")]),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,L.getBytes())]),d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,N.getBytes()),d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(w).getBytes())])}return h.asn1.fromRaw(d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.INTEGER,!1,d.integerToDer(3).getBytes()),d.create(d.Class.UNIVERSAL,d.Type.SEQUENCE,!0,[d.create(d.Class.UNIVERSAL,d.Type.OID,!1,d.oidToDer(y.oids.data).getBytes()),d.create(d.Class.CONTEXT_SPECIFIC,0,!0,[d.create(d.Class.UNIVERSAL,d.Type.OCTETSTRING,!1,d.toDer(B).getBytes())])]),b]))},F.PFX=f,h.pkcs12=F,e.exports=h.pkcs12},function(e,t,r){var n=r(39),a=n._asn1,i=n.pki,s=n.oids,o=n.util,u=n.kisa,c={},l=n.cmp=n.cmp||{};c.CertId={},c.CertId.toAsn1=function(e){var t,r;return(t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[])).value.push(i.GeneralName.toAsn1(e.issuer)),r=n.util.hexToBytes(e.serialNumber),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,r)),t},c.AttributeTypeAndValue={},c.AttributeTypeAndValue.toAsn1=function(e){var t,r;switch((t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[])).value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.type).getBytes())),e.type){case u.EncryptedVID.oid:r=u.EncryptedVID.toAsn1(e.value);break;case n.oids.oldCertId:r=c.CertId.toAsn1(e.value);break;default:r=e.value}return t.value.push(r),t},c.CertResponse={},c.CertResponse.toObject=function(e,t){var r={};return r.certReqId=a.derToInteger(e.value[0].value),r.status=l.PKIStatusInfo.toObject(e.value[1],t),e.value.length>2&&(r.certifiedKeyPair=l.CertifiedKeyPair.toObject(e.value[2])),e.value.length>3&&(r.rspInfo=e.value[3].value),r},c.CertRequest={},c.CertRequest.toAsn1=function(e){var t;return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.certReqId).getBytes()),c.CertTemplate.toAsn1(e.certTemplate)]),e.hasOwnProperty("controls")&&t.value.push(c.Controls.toAsn1(e.controls)),t},c.CertTemplate={},c.CertTemplate.toAsn1=function(e){var t,r;(t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),e.hasOwnProperty("version")&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.version).getBytes())])),e.hasOwnProperty("serialNumber"))&&(r=n.util.hexToBytes(e.serialNumber),t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,1,!1,r)));if(e.hasOwnProperty("signingAlg")&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[i.AlgorithmIdentifier.toAsn1(e.signingAlg)])),e.hasOwnProperty("issuer")&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[i.distinguishedNameToAsn1(e.issuer)])),e.hasOwnProperty("validity")&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[i.Validity.toAsn1(e.validity)])),e.hasOwnProperty("subject")&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,5,!0,[i.distinguishedNameToAsn1(e.subject)])),e.hasOwnProperty("publicKey")&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,6,!0,[e.publicKey.value[0],e.publicKey.value[1]])),e.hasOwnProperty("issuerUID")&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,7,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuerUID)])),e.hasOwnProperty("subjectUID")&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,8,!0,[a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.subjectUID)])),e.hasOwnProperty("extentions"))throw"not implemented";return t},c.EncryptedValue={},c.EncryptedValue.toObject=function(e){var t={};return e.value.forEach(function(e){if(e.tagClass==a.Class.CONTEXT_SPECIFIC)switch(e.type){case 2:t.encSymmKey=e.value.substring(1,e.value.length);break;default:throw"unknown EncryptedValue contextID"+e.type}else t.encValue=e.value.substring(1,e.value.length)}),t},c.PBMParameter={},c.PBMParameter.toAsn1=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTET_STRING,e.salt),i.AlgorithmIdentifier.toAsn1(e.owf)])},c.POPOSigningKeyInput={},c.POPOSigningKeyInput.toAsn1=function(e){var t,r;if(t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),!("authInfo"in e))throw"authInfo does not exist";if("sender"in e.authInfo)r=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[i.GeneralName.toAsn1(e.authInfo.sender)]);else{if(!("publicKeyMAC"in e.authInfo))throw"no choice for authInfo";r=c.PKMACValue.toAsn1(e.authInfo.publicKeyMAC)}return t.value.push(r),t.value.push(e.publicKey),t},c.POPOSigningKey={},c.POPOSigningKey.toAsn1=function(e){var t;return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),"poposkInput"in e&&t.value.push(a.create(a.Class.CONTEXT_SPECIFIC,0,!0,c.POPOSigningKeyInput.toAsn1(e.poposkInput).value)),t.value.push(i.AlgorithmIdentifier.toAsn1(e.algorithmIdentifier)),t.value.push(a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)),t},c.ProofOfPossession={},c.ProofOfPossession.toAsn1=function(e){var t,r=0;if("raVerified"in e)r=0,t=[a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")];else if("signature"in e)r=1,t=c.POPOSigningKey.toAsn1(e.signature).value;else if("keyEncipherment"in e)r=2,t=e.keyEncipherment;else{if(!("keyAgreement"in e))throw"proofOfPossession does not have any choice.";r=3,t=e.keyAgreement}return a.create(a.Class.CONTEXT_SPECIFIC,r,!0,t)},c.RevDetails={},c.RevDetails.toAsn1=function(e){var t;if(t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[c.CertTemplate.toAsn1(e.certDetails)]),e.hasOwnProperty("revocationReason")){var r="",n=0;if(0==(r=e.revocationReason))n=7;else for(;r<128;)r<<=1,n++;t.value.push(a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(n)+String.fromCharCode(r)))}return t},c.RevRepContent={},c.RevRepContent.toObject=function(e,t){var r={status:[]};return e.value[0].value.forEach(function(e){r.status.push(l.PKIStatusInfo.toObject(e,t))}),r},c.CertReqMsg={},c.CertReqMsg.toAsn1=function(e){var t;return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[c.CertRequest.toAsn1(e.certReq)]),"popo"in e&&t.value.push(c.ProofOfPossession.toAsn1(e.popo)),"regInfo"in e&&null!=e.regInfo&&t.value.push(c.RegInfo.toAsn1(e.regInfo)),t},c.SubsequentMessage={},c.SubsequentMessage.encrCert=0,c.SubsequentMessage.challengeResp=1,c.PKMACValue={},c.PKMACValue.toAsn1=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[i.AlgorithmIdentifier.toAsn1(e.algId),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.value)])},c.POPOPrivKey={},c.POPOPrivKey.toAsn1=function(e){var t,r;if("thisMessage"in e)r=0;else if("subsequentMessage"in e)r=1;else if("dhMAC"in e)r=2;else{if(!("agreeMAC"in e))throw"encryptedKey"in e?(r=4,'not support entry "encryptedKey" in POPOPrivKey'):"cannot found any supported entry in POPOPrivKey";r=3,t=c.PKMACValue.toAsn1(e.agreeMAC)}return a.create(a.Class.CONTEXT_SPECIFIC,r,!0,[t])},c.RegInfo={},c.RegInfo.toAsn1=function(e){var t;return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),e.forEach(function(e){t.value.push(c.AttributeTypeAndValue.toAsn1(e))}),t},c.Controls={},c.Controls.toAsn1=function(e){var t;return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),e.forEach(function(e){t.value.push(c.AttributeTypeAndValue.toAsn1(e))}),t},c.CertRequestValidator={name:"CertRequest",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,value:[{name:"CertRequest.certReqId",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1}]};var p=(s.countryName,s.commonName,{});p.id_it="1.3.6.1.5.5.7.4",p.id_it_caProtEncCert=p.id_it+".1",(l=n.cmp=n.cmp||{}).oids={},l.oids.it_ca_ProtEncCert="1.3.6.1.5.5.7.4.1",l.CertifiedKeyPair={},l.CertifiedKeyPair.toObject=function(e){var t={};if(t.certOrEncCert=l.CertOrEncCert.toObject(e.value[0]),e.value.length>1)throw"this message has not supported entries in CertifiedKeyPair.";return t},l.CertOrEncCert={},l.CertOrEncCert.toObject=function(e){var t={};return 0==e.type?t.certificate=i.certificateFromAsn1(e.value[0]):t.encryptedCert=c.EncryptedValue.toObject(e.value[0]),t},c.CertRepMessage={},c.CertRepMessage.toObject=function(e,t){var r,n,a=[];return r=e.value[0],n=e.value[0],1==r.type&&(a.caPubs=[],(r=r.value[0]).value.forEach(function(e){a.caPubs.push(i.certificateFromAsn1(e))}),n=e.value[1]),a.response=[],n.value.forEach(function(e){a.response.push(c.CertResponse.toObject(e,t))}),a},l.oid=p,l.ErrorMsgContent={},l.ErrorMsgContent.toObject=function(e,t){var r={};return r.pKIStatusInfo=l.PKIStatusInfo.toObject(e.value[0],t),e.value.length>1&&(r.errorCode=e.value[1].value.charCodeAt(0)),e.value.length>2&&(r.errorDetails=l.PKIFreeText.toObject(e.value[2],t)),r},l.GenRepContent={},l.GenRepContent.toObject=function(e){var t=[];return e.value.forEach(function(e){t.push(l.InfoTypeAndValue.toObject(e))}),t},l.InfoTypeAndValue={},l.InfoTypeAndValue.toAsn1=function(e){var t,r;switch(t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),r=a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(e.infoType).getBytes()),t.value.push(r),e.infoType){case p.id_it_caProtEncCert:r=void 0;break;default:throw"not supported oid for InfoTypeAndValue"}return t.value.push(r),t},l.InfoTypeAndValue.toObject=function(e){var t={};return t.infoType=a.derToOid(e.value[0].value),e.value.length>1&&(t.infoValue=a.toDer(e.value[1])),t},l.PKIBody={},l.PKIBody.toAsn1=function(e){var t,r,n;if(e.hasOwnProperty("ir"))r=e.ir,n=0,t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),r.forEach(function(e){t.value.push(c.CertReqMsg.toAsn1(e))});else if(e.hasOwnProperty("kur"))r=e.kur,n=7,t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),r.forEach(function(e){t.value.push(c.CertReqMsg.toAsn1(e))});else if(e.hasOwnProperty("rr"))r=e.rr,n=11,t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),r.forEach(function(e){t.value.push(c.RevDetails.toAsn1(e))});else if(e.hasOwnProperty("conf"))r=e.conf,n=19,t=a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"");else{if(!e.hasOwnProperty("genm"))throw"not supported PKIBody type";r=e.genm,n=21,t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),void 0!=r&&r.forEach(function(e){t.value.push(l.InfoTypeAndValue.toAsn1(e))})}return a.create(a.Class.CONTEXT_SPECIFIC,n,!0,[t])},l.PKIBody.toObject=function(e,t){var r={};switch(e.type){case 1:r.ip=c.CertRepMessage.toObject(e.value[0],t);break;case 8:r.kup=c.CertRepMessage.toObject(e.value[0],t);break;case 12:r.rp=c.RevRepContent.toObject(e.value[0],t);break;case 22:r.genp=n.cmp.GenRepContent.toObject(e.value[0]);break;case 23:r.error=n.cmp.ErrorMsgContent.toObject(e.value[0],t);break;default:throw"not supported CMP message type:"+e.type}return r},l.PKIFailureInfo={},l.PKIFailureInfo.toObject=function(e){return 0},l.PKIFreeText={},l.PKIFreeText.toAsn1=function(e){var t,r;return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),e.forEach(function(e){r=a.create(a.Class.UNIVERSAL,a.Type.UTF8,!1,o.encodeUtf8(e)),t.value.push(r)}),t},l.PKIFreeText.toObject=function(e,t){var r,a=[];return e.value.forEach(function(e){r=e.value,r=void 0!==t&&1==t?n.util.decodeEUCKR(r):n.util.decodeUTF8(r),a.push(r)}),a},l.PKIHeader={},l.PKIHeader.cmp1999=1,l.PKIHeader.cmp2000=2,l.PKIHeader.toAsn1=function(e){var t,r;return t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(e.pvno).getBytes()),i.GeneralName.toAsn1(e.sender),i.GeneralName.toAsn1(e.recipient)]),"messageTime"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[a.create(a.Class.UNIVERSAL,a.Type.GENERALIZEDTIME,!1,a.dateToGeneralizedTime(e.messageTime))]),t.value.push(r)),"protectionAlg"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,1,!0,[i.AlgorithmIdentifier.toAsn1(e.protectionAlg)]),t.value.push(r)),"senderKID"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,2,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.senderKID)]),t.value.push(r)),"recipKID"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,3,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.recipKID)]),t.value.push(r)),"transactionID"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,4,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.transactionID)]),t.value.push(r)),"senderNonce"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,5,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.senderNonce)]),t.value.push(r)),"recipNonce"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,6,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.recipNonce)]),t.value.push(r)),"freeText"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,7,!0,[l.PKIFreeText.toAsn1(e.freeText)]),t.value.push(r)),"generalInfo"in e&&(r=a.create(a.Class.CONTEXT_SPECIFIC,8,!0,[l.PKIFreeText.toAsn1(e.freeText)]),t.value.push(r)),t},l.PKIHeader.toObject=function(e,t){var r,n,a={};for(a.pvno=e.value[0].value.charCodeAt(0),a.sender=e.value[1].value,a.recipient=e.value[2].value,r=3;r<e.value.length;++r)switch(n=e.value[r],n.type){case 7:a.freeText=l.PKIFreeText.toObject(n.value[0],t)}return a},l.PKIMessage={},l.PKIMessage.toAsn1=function(e){var t,r;(t=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[l.PKIHeader.toAsn1(e.header),l.PKIBody.toAsn1(e.body)]),"protection"in e)&&(r=a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,String.fromCharCode(0)+e.protection),r=a.create(a.Class.CONTEXT_SPECIFIC,0,!0,[r]),t.value.push(r));return t},l.PKIMessage.toObject=function(e,t){var r={};return r.header=l.PKIHeader.toObject(e.value[0],t),r.body=l.PKIBody.toObject(e.value[1],t),r},l.PKIStatus={},l.PKIStatus.accepted=0,l.PKIStatus.grantedWithMods=1,l.PKIStatus.rejection=2,l.PKIStatus.waiting=3,l.PKIStatus.revocationWarning=4,l.PKIStatus.revocationNotification=5,l.PKIStatus.keyUpdateWarning=6,l.PKIStatusInfo={},l.PKIStatusInfo.toObject=function(e,t){var r={},n="";switch(r.status=e.value[0].value.charCodeAt(0),e.value.length>1&&(r.statusString=l.PKIFreeText.toObject(e.value[1],t)),e.value.length>2&&(r.failInfo=l.PKIFailureInfo.toObject(e.value[2])),r.status){case l.PKIStatus.accepted:n="granted";case l.PKIStatus.grantedWithMods:n="grantedWithMods";case l.PKIStatus.rejection:n="rejection";case l.PKIStatus.waiting:n="waiting";case l.PKIStatus.revocationWarning:n="revocationWarning";case l.PKIStatus.revocationNotification:n="revocationNotification";case l.PKIStatus.keyUpdateWarning:n="keyUpdateWarning"}return r.asnReason=n,r},l.ProtectedPart={},l.ProtectedPart.toAsn1=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[l.PKIHeader.toAsn1(e.header),l.PKIBody.toAsn1(e.body)])},n.crmf=c,e.exports=n.crmf},function(e,t,r){var n=r(39),a=r(56).AsyncForEach,i=r(56).JobPromise,s=n.cmp=n.cmp||{},o=n._asn1;n.crypto,s.catype={CROSSCERT_CA:"crosscert",SIGNKOREA_CA:"signkorea"},s.purpose={ISSUE:"issue",UPDATE:"update",REVOKE:"revoke"},s.revocationReason={unused:0,keyCompromise:1,cACompromise:2,affiliationChanged:3,superseded:4,cessationOfOperation:5,certificateHold:6,privilegeWithdrawn:7,aACompromise:8},s.getClient=function(e,t,r){return new u(e,t,r)};var u=function(e,t,r){function l(e,t){!function(e,t){var r,a={};if((r={}).header={pvno:n.cmp.PKIHeader.cmp1999,sender:{rfc822Name:" "},recipient:{rfc822Name:" "},senderKID:""},r.body={},r.body.conf=[],e.hasOwnProperty("pbmac"))r.header.senderKID=e.pbmac.refNum,a.authCode=e.pbmac.authCode;else{if(!e.hasOwnProperty("signature"))throw n.consoleLog,new n.error("not supported conf protection");a.signature=e.signature,a.options=e.options}t(n.cmp.PKIMessage.toAsn1(r))}(e,function(e){return e instanceof n.error?void t(e):(data=o.toDer(e).getBytes(),n.consoleLog,void E.http.send(E.url.all?E.url.all:E.url.conf,E.messageReqType,data,function(e,r,a,i){if(n.error,3!=a)try{y(i,function(){n.consoleLog&&n.console.log("real issuing was done."),t(E.certAndKey)})}catch(e){n.consoleLog}else t(E.certAndKey)}))})}function p(e){!function(e){var t;(t={}).header=g({freeTexts:[]}),t.body={},t.header.sender.directoryName=E.revokeTarget[0].cert._cert.subject,t.header.freeText=[],t.header.freeText.push("YT_NA_REVOKE"),t.body.rr=[],E.revokeTarget.forEach(function(e){rd={},rd.certDetails={},rd.revocationReason=E.revocationReason,rd.certDetails.serialNumber=e.cert.serialNumber,rd.certDetails.issuer=e.cert._cert.issuer,t.body.rr.push(rd)}),t.header.protectionAlg={algorithm:n.oids.sha1WithRSAEncryption,parameters:null},f(t.header,t.body,{signature:E.revokeTarget[0].key,options:{hash:"SHA-1"}},function(r){t.protection=r,e(n.cmp.PKIMessage.toAsn1(t))})}(function(t){data=o.toDer(t).getBytes(),E.http.newSession(),E.http.send(E.url.all?E.url.all:E.url.genmgenp,E.messageReqType,data,function(t,r,a,i){if(t instanceof n.error)e(t);else{n.consoleLog;try{y(i,function(){e(E.revokeResult)})}catch(t){e(new n.error(t))}}})})}function f(e,t,r,a){var i,s,u;if(i=n.cmp.ProtectedPart.toAsn1({header:e,body:t}),u=o.toDer(i),n.consoleLog,r.hasOwnProperty("authCode"))s=function(e,t,r,a,i,s,o){var u,c="",l=0;for((u=n.util.createBuffer()).putBytes(t),u.putBytes(r),c=u.getBytes(),l=0;l<a;++l)i.start(),i.update(c),c=i.digest().getBytes();return s.start(o,c),s.update(e),s.getMac()}(u,"aaaaabbbbb",r.authCode,2,ytcrypto.md.sha1.create(),ytcrypto.cmac.create(),ytcrypto.des),a(s.getBytes());else if(r.hasOwnProperty("signature")){var c={name:"RSASSA-PKCS1-v1_5",hash:{name:r.options.hash}};n.consoleLog,r.signature.sign(c,u.getBytes(),function(e){a(e)})}else a(new n.error("not supported protection algorithm"))}function h(e,t,r,n){return E.updateOptions&&E.updateOptions.kmOnly?void n({privateKey:E.updateTarget[0].key,publicKey:E.updateTarget[0].cert.publicKey}):void(E.hasOwnProperty("keyGenerator")?E.keyGenerator(e,t,r,n):ytcrypto.crypto.generateKey(e,t,r,n))}function d(e,t){asn=function(e){var t;return(t={}).header=g(e=e||{}),t.body={},t.body.genm=[{infoType:n.cmp.oid.id_it_caProtEncCert}],n.cmp.PKIMessage.toAsn1(t)}(e),data=o.toDer(asn).getBytes(),n.consoleLog,E.http.newSession(),E.http.send(E.url.all?E.url.all:E.url.genmgenp,E.messageReqType,data,function(e,r,a,i){if(e instanceof n.error)t(e);else{n.consoleLog;try{y(i,function(e){t(e)})}catch(e){t(new n.error(e))}}})}function y(e,t){var r,a,i,u,c=!1;if(E.type==s.catype.SIGNKOREA_CA&&(c=!0),r=o.fromDer(e),"error"in(a=n.cmp.PKIMessage.toObject(r,c)).body){if(void 0!=(i=a.body.error.pKIStatusInfo).statusString)throw u="cmp error from CA reason:"+i.statusString.join(),n.consoleLog,u}else if("genp"in a.body)!function(e,t){E.attrs={},e.freeText&&e.freeText.forEach(function(e){e.split("$").forEach(function(e){var t;t=e.split("="),E.attrs[t[0]]=t[1]})}),t.forEach(function(e){e.infoType==n.cmp.oids.it_ca_ProtEncCert?(E.CAProtocolEncryptionCertificate=n.pki.certificateFromAsn1(o.fromDer(e.infoValue)),n.consoleLog):e.infoType==n.yessign.VIDCertificate.oid&&(n.consoleLog,E.VIDEncryptionCertificate=n.pki.certificateFromAsn1(o.fromDer(e.infoValue)))}),null==E.VIDEncryptionCertificate&&(E.VIDEncryptionCertificate=E.CAProtocolEncryptionCertificate),E.type==s.catype.SIGNKOREA_CA&&(E.VIDEncryptionCertificate=E.CAProtocolEncryptionCertificate)}(a.header,a.body.genp);else{if("ip"in a.body)return void v(a.body.ip,t);if("kup"in a.body)return void v(a.body.kup,t);if(!("rp"in a.body))throw"unknown cmp message";!function(e){if(0!=e.status[0].status){var t=[];throw e.status.forEach(function(e){t.push(e.statusString.join(""))}),E.revokeResult=!1,"CMP response is error:"+t}E.revokeResult=!0}(a.body.rp)}void 0!==t&&t()}function g(e){var t={};switch(e=e||{},E.senderNonce=ytcrypto.random.getBytesSync(16),t={pvno:0,sender:{},recipient:{rfc822Name:" "},messageTime:new Date,senderNonce:E.senderNonce},E.purpose){case s.purpose.ISSUE:t.senderKID=E.refNum,t.sender.rfc822Name=" ";break;case s.purpose.UPDATE:t.freeText=[],e.freeTexts.length>0?t.freeText=t.freeText.concat(e.freeTexts):t.freeText.push("YT_NA_RENEW"),t.sender.directoryName=E.updateTarget[0].cert._cert.subject;var r=new ytcrypto.jsbn.BigInteger(E.updateTarget[0].cert.serialNumber,16);t.senderKID=r.toRadix(10);break;case s.purpose.REVOKE:t.sender.directoryName=E.revokeTarget[0].cert._cert.subject}return E.type==s.catype.SIGNKOREA_CA&&(t.recipKID="101029"),t}function v(e,t){e.caPubs,E.certAndKey=[];var r=a(e.response,function(e,t,r){E.certAndKey[r]={privateKey:E.keyPair[r].privateKey,vid:E.keyPair[r].vid},function(e,t,r){var a,i,s;if(0!=t.status.status)throw new n.error("CMP response is error:"+t.status.statusString.join());if("encryptedCert"in(a=t.certifiedKeyPair.certOrEncCert)){var o,u;i=a.encryptedCert,e.decrypt(i.encSymmKey,{name:"RSAES-PKCS1-v1_5"},function(e){if(o="01234567",(u=ytcrypto.crypto.blockCipher.createDecryptionCipher("des",e,"ofb64")).start(o),u.update(n.util.createBuffer(i.encValue)),0==u.finish())throw"failed to decrypt certificate";s=n.pki.certificateFromAsn1(n._asn1.fromDer(u.output.bytes())),r(s)})}else"certificate"in a&&(s=a.certificate,r(s))}(E.certAndKey[r].privateKey,t,function(t){return t instanceof n.error?(E.certAndKey[r].error=t,void e(!1)):(E.certAndKey[r].certificate=new n.pki.Certificate(t),void e(!0))})});r.then(function(e){t(!0)}),r.fail(function(e){t(e)})}function m(e,t){var r=new i,a={name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}};r.add(function(e){h(a,!0,["sign"],function(t){if(t instanceof n.error)throw t.pushReason("generateKeyPair failed"),t;n.consoleLog,E.keyPair.push({publicKey:t.publicKey,privateKey:t.privateKey}),C(0,t.publicKey,t.privateKey,function(t){if(t instanceof n.error)throw t.pushReason("failed to generateCertReqMsg(0)"),t;n.consoleLog,e(t)})})}),E.attrs&&E.attrs.hasOwnProperty("km_key_gen")&&"user"==E.attrs.km_key_gen&&r.add(function(e){h(a,!0,["sign"],function(t){if(t instanceof n.error)throw t.pushReason("generateKeyPair failed"),t;n.consoleLog,E.keyPair.push({publicKey:t.publicKey,privateKey:t.privateKey}),C(1,t.publicKey,t.privateKey,function(t){if(t instanceof n.error)throw t.pushReason("failed to generateCertReqMsg(1)"),t;n.consoleLog,e(t)})})}),r.fail(function(e){throw e}),r.then(function(e){t(e)})}function C(e,t,r,a){var i,u={},c={},l={};t.exportKeyInfo(function(t){if(t instanceof n.error&&(t.pushReason("failed to export publicKey"),a(t)),i=o.fromDer(t),u.certReq=c,c.certReqId=e,c.certTemplate=l,l.publicKey=i,E.purpose==s.purpose.UPDATE){var p={issuer:{}};p.issuer.directoryName=E.updateTarget[e].cert._cert.issuer,p.serialNumber=E.updateTarget[e].cert.serialNumber,c.controls=[],c.controls.push({type:n.oids.oldCertId,value:p})}!function(e,t,r,a){var i,s,u={},c={},l={};c={authInfo:{sender:{rfc822Name:" "}},publicKey:t},i=n.crmf.POPOSigningKeyInput.toAsn1(c),s=o.toDer(i).getBytes(),r.sign({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},s,function(t){return t instanceof n.error?(t.pushReason("failed to generate POPSigningKey"),void a(t)):(l.poposkInput=c,l.algorithmIdentifier={algorithm:e},l.signature=t,u.signature=l,void a(u))})}(n.oids.sha256WithRSAEncryption,i,r,function(t){return t instanceof n.error?(t.pushReason("failed to generate ProofOfPosession"),void a(t)):(u.popo=t,u.regInfo=function(e){var t=[];return 0!=e?null:(E.keyPair[e].vid=ytcrypto.random.getBytesSync(20),t.push(function(e,t,r){var a,i,s,u={},c={};return(i={hashAlg:{algorithm:n.oids.sha256}}).virtualID=function(e,t,r){var a,i;return a={idn:e,randomNum:t},i=o.toDer(n.kisa.HashContent.toAsn1(a)).getBytes(),r.start(),r.update(i),i=r.digest().getBytes(),r.start(),r.update(i),i=r.digest().getBytes()}(e,t,ytcrypto.md.sha256.create()),a=o.toDer(n.kisa.EncryptContent.toAsn1({vid:i,randomNum:t})),s=r.publicKey.encrypt(a.getBytes()),c.version=0,c.vidEncAlg={algorithm:n.oids.rsaEncryption,parameters:null},c.certID={issuer:r.issuer,serialNumber:r.serialNumber},c.encryptedVID=s,u.type=n.kisa.EncryptedVID.oid,u.value=c,u}("1234561234567",E.keyPair[e].vid,E.VIDEncryptionCertificate)),t)}(e),void a(u))})})}var E=this;this.purpose="",this.type=e,this.url=t,this.http=new c,this.VIDEncryptionCertificate=null,this.messageReqType=c.pkiReq,E.type==s.catype.SIGNKOREA_CA&&(this.messageReqType=c.signKoreaIPReq),r&&r.xhr&&this.http.setOptions(r.xhr),u.prototype.setKeyGenerator=function(e){this.keyGenerator=e},u.prototype.issue=function(e,t,r){function a(r){try{!function(e,t,r){var a;E.keyPair=[],a={},this.senderNonce=ytcrypto.random.getBytesSync(16),a.header={pvno:n.cmp.PKIHeader.cmp1999,sender:{rfc822Name:" "},recipient:{rfc822Name:" "},messageTime:new Date,senderKID:e,senderNonce:this.senderNonce},this.type==s.catype.SIGNKOREA_CA&&(a.header.sender.rfc822Name="YT_NA_NEW"),a.body={},a.body.ir=[],m.call(E,a,function(e){if(e instanceof n.error)throw a;a.body.ir=e,f(a.header,a.body,{authCode:t},function(e){a.protection=e,r(n.cmp.PKIMessage.toAsn1(a))})})}(e,t,function(a){return a instanceof n.error?void r(a):(i=o.toDer(a).getBytes(),n.consoleLog,void u.http.send(u.url.all?u.url.all:u.url.irip,u.messageReqType,i,function(a,i,s,o){if(a instanceof n.error)r(a);else{n.consoleLog;try{y(o,function(a){return a instanceof n.error?void r(a):void(n.cmp.testIssue?(n.consoleLog,r(u.certAndKey)):l({pbmac:{refNum:e,authCode:t}},r))})}catch(e){return void r(new n.error(e))}}}))})}catch(e){r(new n.error(e))}}var i,u=this;if(void 0==e)throw"reference number is not defined.";if(void 0==t)throw"authentication code is not defined.";if(void 0==r)throw"resultCallback is not defined.";this.purpose=s.purpose.ISSUE,this.refNum=e,this.authCode=t,d({freeTexts:[]},function(e){return e instanceof n.error?void r(e):void a(r)})},u.prototype.update=function(e,t,r){function a(e){try{!function(e){var t={};u.keyPair=[],t.header=g(c),t.body={},t.body.kur=[],m(0,function(r){if(r instanceof n.error)throw t;t.body.kur=r,f(t.header,t.body,{signature:u.updateTarget[0].key,options:{hash:"SHA-256"}},function(r){t.protection=r,e(n.cmp.PKIMessage.toAsn1(t))})})}(function(t){return t instanceof n.error?void e(t):(i=o.toDer(t).getBytes(),n.consoleLog,void u.http.send(u.url.all?u.url.all:u.url.irip,u.messageReqType,i,function(t,r,a,i){if(t instanceof n.error)e(t);else{n.consoleLog;try{y(i,function(t){return t instanceof n.error?void e(t):void(n.cmp.testIssue?(n.consoleLog,e(u.certAndKey)):l({signature:u.updateTarget[0].key,options:{hash:"SHA-256"}},e))})}catch(t){return void e(new n.error(t))}}}))})}catch(t){e(new n.error(t))}}var i,u=this,c={freeTexts:[]};if(r=r||{},void 0==e)throw"keycert is not defined.";if(void 0==t)throw"resultCallback is not defined.";if(r.kmOnly&&r.keyOnly)throw new n.error("input option was conflict (kmOnly and keyOnly) ");(r.kmOnly||r.keyOnly)&&c.freeTexts.push("SK_KUP"),this.purpose=s.purpose.UPDATE,this.updateTarget=e,this.updateOptions=r,d(c,function(e){a(t)})},u.prototype.revoke=function(e,t,r){if(void 0===e)throw"keycert is not defined";if(0==e.length)throw"keycert is empty.";if(void 0===t)throw"reason is not defined";if(void 0===r)throw"resultCallback is not defined";if(t<0||8<t)throw"reason must be 0 ~ 8";this.purpose=s.purpose.REVOKE,this.revokeTarget=e,this.revocationReason=t,p(r)}};s.client=u;var c=function(){this.previousURL=null,this.previousXHR=null,this.identifier="",this.options={withCredentials:!0}};c.pkiReq=0,c.pkiRep=5,c.errorMsgRep=6,c.signKoreaIPReq=48,c.prototype.setOptions=function(e){for(var t in e)this.options.hasOwnProperty(t)?(this.options[t]=e[t],n.consoleLog):n.consoleLog},c.prototype.newSession=function(){this.identifier=""},c.prototype.send=function(e,t,r,a){var i,s,o=this;(s=n.util.createBuffer()).putInt32(r.length+3),s.putByte(10),s.putByte(0),s.putByte(t),s.putBytes(r),n.consoleLog,(i=new XMLHttpRequest).withCredentials=this.options.withCredentials,i.open("post",e,!0),""!=this.identifier&&i.setRequestHeader("Identifier",this.identifier),i.onreadystatechange=function(){if(4==i.readyState){var e,t,r,s,u;if(o.identifier=i.getResponseHeader("Identifier"),200!=i.status)return void a(new n.error("XHR recieved status code:"+i.status+" with "+i.statusText));n.consoleLog,(e=n.util.createBuffer(n.util.decode64(decodeURIComponent(i.responseText)))).getInt32(),t=e.getByte(),r=e.getByte(),s=e.getByte(),u=e.getBytes(),a(t,r,s,u)}},s=n.util.encode64(s.getBytes()),s=encodeURIComponent(s),i.setRequestHeader("Content-type","application/pkixcmp");try{i.send(s)}catch(e){a(new n.error(e))}},n.cmp=s,e.exports=n.cmp}])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";var n=s(r(58)),a=r(11),i=s(r(108));function s(e){return e&&e.__esModule?e:{default:e}}!function(e,t){var r,s;r=e.indexedDB,s=e.localStorage;var o="secureCertificateStorage",u=1,c="SecureCertificateStorage.webCryptoKey",l="wsKey",p="SecureCertificateStorage.",f=p+"certificateList",h=p+"certificate";function d(){var e,t=function(){var e={};for(var t in s){var r;if(0==t.indexOf(h))r=s.getItem(t),r=JSON.parse(r),e[t]=r.name}return e};if(null==(e=s.getItem(f)))e=t();else try{e=JSON.parse(e)}catch(r){e=t()}return e}function y(e){var t;t=(0,n.default)(e);try{s.setItem(f,t)}catch(e){return new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_SET_CERTIFICATELIST_FAILED,"setCertList error: "+e)}return!0}function g(e){var t,r,n=[];for(var a in t=d())null!=(r=s.getItem(t[a]))&&(r=JSON.parse(r),n.push({name:r.name,signCertificate:r.signCertificate}));e(n)}function v(e,t){var r,n,a;for(var i in r=d())if(null!=(n=s.getItem(r[i]))&&e==(n=JSON.parse(n)).name){a={name:n.name,signCertificate:n.signCertificate,signPrivateKey:n.signPrivateKey,kmCertificate:void 0!==n.kmCertificate?n.kmCertificate:void 0,kmPrivateKey:void 0!==n.kmPrivateKey?n.kmPrivateKey:void 0};break}t(a)}function m(e,t,r,a,i,o){var u=h+"."+e,c=d(),l={name:e,signCertificate:t,signPrivateKey:r,kmCertificate:a,kmPrivateKey:i};c[e]=u,y(c),s.setItem(u,(0,n.default)(l)),o(!0)}function C(e,t){var r=d(),n=h+"."+e;delete r[e],y(r),s.removeItem(n),t(!0)}function E(e){e(!0)}window.SecureStorage=new function(){this.getSecKey=function(e){t?function(e){try{e(s.getItem(c))}catch(t){e(new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_GET_WEBCRYPTO_KEY_FAILED,"getSeckey localStorage error: "+t))}}(e):function(e){var t=r.open(o,u);t.onupgradeneeded=function(e){t.result.createObjectStore(l,{keyPath:"name"})},t.onsuccess=function(r){var n,s,o=t.result;(n=o.transaction([l],"readwrite")).oncomplete=function(e){},n.onerror=function(t){e(new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_GET_WEBCRYPTO_KEY_INDEXED_DB_TRANSACTION_FAILED,"getSeckey indexedDB transaction error: "+t))},(s=o.transaction([l],"readwrite").objectStore(l).get(c)).onsuccess=function(t){void 0===s.result||"key"==s.result.key?e():e(s.result.key)},s.onerror=function(t){e(new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_GET_WEBCRYPTO_KEY_OBJECT_STORE_GET_FAILED,"getSeckey indexedDB transaction error: "+t))}}}(e)},this.setSecKey=function(e,n){t?function(e,t){try{s.removeItem(c),s.setItem(c,e),t(!0)}catch(e){t(new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_SET_WEBCRYPTO_KEY_FAILED,"setSecKey error: "+e))}}(e,n):function(e,t){var n=r.open(o,u);n.onupgradeneeded=function(e){n.result.createObjectStore(l,{keyPath:"name"})},n.onsuccess=function(r){var s,o,u=n.result;(s=u.transaction([l],"readwrite")).oncomplete=function(e){},s.onerror=function(e){t(new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_SET_WEBCRYPTO_KEY_INDEXED_DB_TRANSACTION_FAILED,"getSeckey indexedDB transaction error: "+e))},(o=u.transaction([l],"readwrite").objectStore(l).get(c)).onsuccess=function(r){void 0!==o.result&&"key"!=o.result.key||(u.transaction([l],"readwrite").objectStore(l).delete(c),u.transaction([l],"readwrite").objectStore(l).add({name:c,key:e})),t(!0)},o.onerror=function(e){t(new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_SET_WEBCRYPTO_KEY_OBJECT_STORE_GET_FAILED,"setSeckey indexedDB transaction error: "+e))}}}(e,n)},this.removeSecKey=function(e){t?function(e){s.removeItem(c),e(!0)}(e):function(e){var t=r.open(o,u);t.onupgradeneeded=function(e){t.result.createObjectStore(l,{keyPath:"name"})},t.onsuccess=function(r){var n,s,o=t.result;(n=o.transaction([l],"readwrite")).oncomplete=function(e){},n.onerror=function(t){e(new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_REMOVE_WEBCRYPTO_KEY_INDEXED_DB_TRANSACTION_FAILED,"getSeckey indexedDB transaction error: "+t))},(s=o.transaction([l],"readwrite").objectStore(l).get(c)).onsuccess=function(t){o.transaction([l],"readwrite").objectStore(l).delete(c),e(!0)},s.onerror=function(t){e(new a.HibiscusError(i.default.STORAGE_ERROR_SECURE_STORAGE_REMOVE_WEBCRYPTO_KEY_OBJECT_STORE_GET_FAILED,"setSeckey indexedDB transaction error: "+t))}}}(e)},this.getCertList=g,this.getCertAndEncKey=v,this.setCertAndEncKey=m,this.deleteCertAndEncKey=C,this.removeCertAll=E}}(window,!1)}]);