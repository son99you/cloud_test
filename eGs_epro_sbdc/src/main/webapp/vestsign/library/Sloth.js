//version: 3.1.8_e54ce34761bf3c9776b1c6dd23fc7a4531eaad89
//update: Thu Jan 16 10:11:57 2020 +0900

!function(){function t(t,e,r){var o=new XMLHttpRequest;o.open("post",t,!0),o.send(e),o.onreadystatechange=function(){if(4==o.readyState)return 200!=o.status?void r(new yt.error(o.status,"sloth 통신에 실패했습니다.(http code:"+o.status+", readyState:"+o.readyState)+")"):void r(o.responseText)}}function e(t,e){var r={},o=2048,s=ytcrypto.md.sha256.create();s.update(a),s.update(t[0]),s.update(t[1]),s.update(t[2]);var i;for(i=s.digest().getBytes(),r.iv=i.slice(e);o>0;)s.start(),s.update(i),i=s.digest().getBytes(),o--;return r.key=i.slice(e),r}function r(t,r){var o,s=e(t,16);return o=ytcrypto.crypto.blockCipher.createEncryptionCipher("seed",s.key,"CBC"),o.start(s.iv),o.update(r),o.finish(),ytcrypto.util.encode64(o.output.getBytes())}function o(t,r){var o,s=e(t,16);return o=ytcrypto.crypto.blockCipher.createDecryptionCipher("seed",s.key,"CBC"),o.start(s.iv),o.update(r),o.finish(),o.output.getBytes()}function s(t){var e,r=1024;e=ytcrypto.md.sha256.create(),e.update(a),e.update(t[2]),e.update(t[0]),e.update(t[1]);var o;for(o=e.digest().getBytes();r>0;)e.start(),e.update(o),o=e.digest().getBytes(),r--;return ytcrypto.util.encode64(o)}function i(){function t(t){var e,r=0;for(e=t.length,e--;e>=0;)r=(r<<8)+t.charCodeAt(e),--e;r%=1e4,r<0&&(r=-r),r=""+r;for(var o=4-r.length;o>0;)r="0"+r,--o;return r}var e,r,o,s=ytcrypto.random.getBytesSync(12);return e=s.slice(0,4),r=s.slice(4,8),o=s.slice(8,12),e=t(e),r=t(r),o=t(o),[e,r,o]}var n=1,a="iddqdidkfaidclip";Sloth=function(e){this.url=e,this.sin=null,this.generatedID="",this.process=function(e,r,o){r.protocol="SLOTH",r.version=1,r.method=e,t(this.url,JSON.stringify(r),function(t){var r,s;if(t instanceof yt.error)return void o(t);if(s=JSON.parse(t),0!=s.returnCode)return s=new yt.error(s.returnCode,"got error message from server"),void o(s);switch(e){case"CREATE":r="ok";break;case"UPDATE":r="인증서 이동 성공";break;case"READ":r=s.values;break;case"DELETE":r="ok";break;default:throw"not supported method("+e+")"}o(r)})}},Sloth.version=n,Sloth.prototype.create=function(t){var e=this,r={};this.sin=i(),this.generatedID=s(this.sin),r.id=this.generatedID,this.process("CREATE",r,function(r){t(r instanceof yt.error?r:e.sin)})},Sloth.prototype.update=function(t,e,o){var i={};this.generatedID=s(t),i.id=this.generatedID,i.values={},i.values.EncAlgorithm="seed-cbc",i.values.p12=r(t,e),this.process("UPDATE",i,function(t){o(t)})},Sloth.prototype.updateData=function(t,e,o,i){var n={};this.generatedID=s(t),n.id=this.generatedID,n.values={},n.values.EncAlgorithm="seed-cbc",n.values.p12=r(t,e),n.values.option=JSON.stringify(o),this.process("UPDATE",n,function(t){i(t)})},Sloth.prototype.read=function(t){var e={},r=this;e.id=this.generatedID,this.process("READ",e,function(e){e.hasOwnProperty("p12")&&(e.p12=o(r.sin,ytcrypto.util.decode64(e.p12))),t(e)})},Sloth.prototype.dropSession=function(t){var e={};e.id=this.generatedID,this.process("DELETE",e,function(e){t(e)})}}();